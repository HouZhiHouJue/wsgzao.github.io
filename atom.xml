<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[HelloDog]]></title>
  <subtitle><![CDATA[Keep Calm and Carry On]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://wsgzao.github.io/"/>
  <updated>2016-03-05T10:07:39.783Z</updated>
  <id>http://wsgzao.github.io/</id>
  
  <author>
    <name><![CDATA[wsgzao]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Red Hat OpenStack官方培训笔记]]></title>
    <link href="http://wsgzao.github.io/post/openstack/"/>
    <id>http://wsgzao.github.io/post/openstack/</id>
    <published>2016-03-04T08:22:32.000Z</published>
    <updated>2016-03-05T10:07:39.783Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/Cn77HG14.png" alt=""></p>
<h2 id="前言">前言</h2><p>为期6天的Red Hat OpenStack培训受益良多，实验过程也非常丰满，有很多知识需要吸收和消化，文章中把详细的实验过程全部分享出来。实验环境是通过Vagrant部署rhel7.1快速生成，使用4G以上笔记本电脑就可以完成搭建。所有的配置参数都有备注说明，希望可以帮助大家快速学习和熟悉OpenStack。这或许也是我Blog中最长的一篇凑字数文章。</p>
<p>OpenStack是代替VMware私有云的最佳方案之一</p>
<h2 id="更新记录">更新记录</h2><p>2016年03月05日 - 增加slideshare ppt分享，补充OpenStack测试和开发<br>2016年03月04日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/openstack/" target="_blank" rel="external">http://wsgzao.github.io/post/openstack/</a></p>
<p><strong>扩展阅读</strong></p>
<ul>
<li>OpenStack | 红帽 - <a href="https://www.redhat.com/zh/insights/openstack" target="_blank" rel="external">https://www.redhat.com/zh/insights/openstack</a></li>
</ul>
<h2 id="参考资料">参考资料</h2><p><img src="http://ww1.sinaimg.cn/large/7207510dgw1f1kymzm0itj211y0k8gs9.jpg" alt=""></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">file://E:\all-in-one (<span class="number">2</span> folders, <span class="number">0</span> files, <span class="number">0</span> bytes, <span class="number">486.59</span> MB <span class="keyword">in</span> total.)</span><br><span class="line">├─docs  (<span class="number">1</span> folders, <span class="number">6</span> files, <span class="number">18.04</span> MB, <span class="number">18.08</span> MB <span class="keyword">in</span> total.)</span><br><span class="line">│  │  classroom.pptx  <span class="number">8.42</span> MB</span><br><span class="line">│  │  env_cfg.txt <span class="number">338</span> bytes</span><br><span class="line">│  │  note.sh <span class="number">48.57</span> KB</span><br><span class="line">│  │  OpenStack Installation Guide (EL7 ver.).pdf <span class="number">1.52</span> MB</span><br><span class="line">│  │  Red Hat Enterprise Linux OpenStack Platform <span class="number">7</span> Installation Reference en-US.pdf  <span class="number">8.05</span> MB</span><br><span class="line">│  │  ~<span class="variable">$classroom</span>.pptx    <span class="number">165</span> bytes</span><br><span class="line">│  └─packstack网络配置文件 (<span class="number">0</span> folders, <span class="number">1</span> files, <span class="number">41.42</span> KB, <span class="number">41.42</span> KB <span class="keyword">in</span> total.)</span><br><span class="line">│          packstack-answers.txt <span class="number">41.42</span> KB</span><br><span class="line">└─env_<span class="keyword">for</span>_windows   (<span class="number">1</span> folders, <span class="number">2</span> files, <span class="number">468.51</span> MB, <span class="number">468.51</span> MB <span class="keyword">in</span> total.)</span><br><span class="line">    │  rhel-<span class="number">7.1</span>-x86_64.box <span class="number">468.51</span> MB</span><br><span class="line">    │  Vagrantfile <span class="number">3.01</span> KB</span><br><span class="line">    └─.vagrant    (<span class="number">0</span> folders, <span class="number">0</span> files, <span class="number">0</span> bytes, <span class="number">0</span> bytes <span class="keyword">in</span> total.)</span><br></pre></td></tr></table></figure>
<iframe src="https://www.slideshare.net/slideshow/embed_code/key/BNyD2WObWHUVc0" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> 

<blockquote>
<p>浏览slideshare可能要翻墙，如需帮助可参考<a href="http://wsgzao.github.io/post/fq/" target="_blank" rel="external">《GFW翻墙小结》</a></p>
</blockquote>
<ol>
<li>Red Hat OpenStack Platform 7 Training.pptx</li>
<li>OpenStack实战指南.pdf</li>
</ol>
<h2 id="实验环境">实验环境</h2><p><strong>版本</strong><br>OS：Windows 10 x86_64<br>VirtualBox：VirtualBox-5.0.14-105127-Win<br>Vagrant：vagrant_1.8.1<br>Terminal：NetSarang.Xmanager.Enterprise.5</p>
<p><strong>备注</strong></p>
<ol>
<li>BIOS开启VT</li>
<li>使用管理员权限执行下面的步骤</li>
</ol>
<p><strong>搭建步骤</strong></p>
<ol>
<li>安装 Oracle VirtualBox</li>
<li>安装 Vagrant</li>
<li>在工作目录下<code>E:\vagrantbox</code>，命令行：<code>vagrant init</code> (生成 Vagrantfile，需复制并修改模板)</li>
<li>配置 Oracle VirtualBox， 使网络与 Vagrantfile 中指定的一致</li>
<li>在工作目录下，命令行：vagrant up(启动)，vagrant halt(优雅关机)</li>
<li>每日实验完成建议关机做一次snapshot快照备份，不希望关机可以选择保存状态类似VMware suspend挂起</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> E:\vagrantbox</span><br><span class="line">vagrant init</span><br><span class="line">vagrant box add rhle-<span class="number">7.1</span> rhel-<span class="number">7.1</span>-x86_64.box</span><br><span class="line">vagrant box list</span><br><span class="line">vagrant up &#123;node1|node2|node3&#125;</span><br><span class="line">vagrant destroy &#123;node1|node2|node3&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>修改Vagrantfile</p>
</blockquote>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- mode: ruby -*-</span></span><br><span class="line"><span class="comment"># vi: set ft=ruby :</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># All Vagrant configuration is done below. The "2" in Vagrant.configure</span></span><br><span class="line"><span class="comment"># configures the configuration version (we support older styles for</span></span><br><span class="line"><span class="comment"># backwards compatibility). Please don't change it unless you know what</span></span><br><span class="line"><span class="comment"># you're doing.</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$script</span> = &lt;&lt;<span class="constant">SCRIPT</span></span><br><span class="line">echo doing provision...</span><br><span class="line"><span class="keyword">if</span> [ ! <span class="variable">$LANG</span> = <span class="string">"en_US.UTF-8"</span> ]; <span class="keyword">then</span></span><br><span class="line">    echo <span class="string">"export LC_ALL=en_US.UTF-8"</span> <span class="prompt">&gt;&gt; </span>/root/.bashrc</span><br><span class="line">fi</span><br><span class="line">echo -e <span class="string">"10.30.0.10\tnode-1.example.com\tnode-1\n10.30.0.11\tnode-2.example.com\tnode-2\n10.30.0.12\tnode-3.example.com\tnode-3"</span> <span class="prompt">&gt;&gt; </span>/etc/hosts</span><br><span class="line">echo -e <span class="string">"192.168.0.10\tnode-1.example.com\tnode-1\n192.168.0.11\tnode-2.example.com\tnode-2\n192.168.0.12\tnode-3.example.com\tnode-3"</span> <span class="prompt">&gt;&gt; </span>/etc/hosts</span><br><span class="line">rm -f /etc/yum.repos.d/*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install -y wget &amp;&amp; wget -<span class="constant">O</span> /etc/yum.repos.d/rh-openstack-<span class="number">7</span>-el7.repo <span class="symbol">http:</span>/<span class="regexp">/192.168.1.100/content</span><span class="regexp">/cfgfile/rh</span>-openstack-<span class="number">7</span>-el7.repo</span><br><span class="line">yum install -y wget &amp;&amp; wget -<span class="constant">O</span> /etc/yum.repos.d/rh-rhel-<span class="number">7</span>-el7.repo <span class="symbol">http:</span>/<span class="regexp">/192.168.1.100/content</span><span class="regexp">/cfgfile/rh</span>-rhel-<span class="number">7</span>-el7.repo</span><br><span class="line"></span><br><span class="line">echo done...</span><br><span class="line"><span class="constant">SCRIPT</span></span><br><span class="line"></span><br><span class="line"><span class="constant">Vagrant</span>.configure(<span class="number">2</span>) <span class="keyword">do</span> |config|</span><br><span class="line">  config.vm.define <span class="symbol">:node1</span> <span class="keyword">do</span> |node1|</span><br><span class="line">    node1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node1.vm.hostname = <span class="string">"node-1.example.com"</span>    </span><br><span class="line">    node1.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">80</span>, <span class="symbol">host:</span> <span class="number">18080</span></span><br><span class="line">    node1.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">22</span>, <span class="symbol">host:</span> <span class="number">12222</span></span><br><span class="line">    node1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">2048</span></span><br><span class="line">      v.cpus = <span class="number">2</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:node2</span> <span class="keyword">do</span> |node2|</span><br><span class="line">    node2.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node2.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node2.vm.hostname = <span class="string">"node-2.example.com"</span>    </span><br><span class="line">    node2.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node2.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node2.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node2.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:node3</span> <span class="keyword">do</span> |node3|</span><br><span class="line">    node3.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node3.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node3.vm.hostname = <span class="string">"node-3.example.com"</span></span><br><span class="line">    node3.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node3.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node3.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.12"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node3.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.12"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="OpenStack_组件">OpenStack 组件</h2><table>
<thead>
<tr>
<th>Code Name</th>
<th>OpenStack Service</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Keystone</td>
<td>Indentity</td>
<td>提供其它 OpenStack 服务的身份验证和授权服务。提供其它OpenStack 服务的 endpoint 列表。</td>
</tr>
<tr>
<td>Glance</td>
<td>Image</td>
<td>存取虚拟机磁盘镜像。OpenStack Compute 在实例资源调配时利用此特性。</td>
</tr>
<tr>
<td>Nova</td>
<td>Compute</td>
<td>管理 OpenStack 环境中的计算实例的生命周期。职责包括依据需求生成、调度、和终止实例。</td>
</tr>
<tr>
<td>Neutron</td>
<td>Networking</td>
<td>将网络连接作为服务提供给其它 OpenStack 服务，例如 OpenStack Compute。提供用户定义网络的 API 和连接它们的附加组件，其可插拔的架构设计支持很多主流网络供应商及技术。</td>
</tr>
<tr>
<td>Cinder</td>
<td>Block Storage</td>
<td>对正在运行的实例提供持久性的数据块存储。其可插拔驱动架构设计有助于创建和管理块存储设备。</td>
</tr>
<tr>
<td>Swift</td>
<td>Object Storage</td>
<td>通过基于 REST、HTTP 的 API 存取任何非结构化的数据对象。数据复写和扩展架构使其具备高度的容错性。这种机制与可挂载目录的文件服务器并不一致。</td>
</tr>
<tr>
<td>Heat</td>
<td>Orchestration</td>
<td>利用 OpenStack 本机 REST API 及 CloudFormation 兼容的查询 API，通过本机 HOT 模板格式或 AWS CloudFormation 模板格式编排多个复合云应用程序。</td>
</tr>
<tr>
<td>Horizon</td>
<td>Dashboard</td>
<td>提供与底层 OpenStack 服务进行交互的基于 Web 的自助门户，包括启动实例、分配 IP 地址、设置访问控制。</td>
</tr>
<tr>
<td>Ceilometer</td>
<td>Telemetry</td>
<td>出于计费、基准审查、可扩展性、及统计方面的目的，用于监测和计量 OpenStack 云。</td>
</tr>
</tbody>
</table>
<blockquote>
<p>实验环境</p>
</blockquote>
<table>
<thead>
<tr>
<th>节点</th>
<th>IP</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>node-1</td>
<td>192.168.0.10</td>
<td>Controller Node, Network Node</td>
</tr>
<tr>
<td>node-2</td>
<td>192.168.0.11</td>
<td>Compute Node 1</td>
</tr>
<tr>
<td>node-3</td>
<td>192.168.0.12</td>
<td>Compute Node 2</td>
</tr>
</tbody>
</table>
<h2 id="OpenStack">OpenStack</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment"># Preinstallation </span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Environment</span></span><br><span class="line"></span><br><span class="line">node-<span class="number">1</span> | <span class="number">192.168</span>.<span class="number">0.10</span> | Controller Node, Network Node</span><br><span class="line">node-<span class="number">2</span> | <span class="number">192.168</span>.<span class="number">0.11</span> | Compute Node <span class="number">1</span></span><br><span class="line">node-<span class="number">3</span> | <span class="number">192.168</span>.<span class="number">0.12</span> | Compute Node <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Repository</span></span><br><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d</span><br><span class="line"></span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/repofiles/rh-ceph-<span class="number">1</span>-el7.repo   </span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/repofiles/rh-rhel-<span class="number">7</span>-el7.repo   </span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/repofiles/rh-rhelosp-<span class="number">7</span>-el7.repo</span><br><span class="line"></span><br><span class="line">yum clean all</span><br><span class="line">yum repolist</span><br><span class="line"></span><br><span class="line">yum install -y net-tools</span><br><span class="line"></span><br><span class="line"><span class="comment">#hosts</span></span><br><span class="line">cat /etc/hosts</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>       node-<span class="number">1</span>.example.com node-<span class="number">1</span> localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::<span class="number">1</span>             localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line"><span class="number">10.30</span>.<span class="number">0.10</span>      node-<span class="number">1</span>.example.com  node-<span class="number">1</span></span><br><span class="line"><span class="number">10.30</span>.<span class="number">0.11</span>      node-<span class="number">2</span>.example.com  node-<span class="number">2</span></span><br><span class="line"><span class="number">10.30</span>.<span class="number">0.12</span>      node-<span class="number">3</span>.example.com  node-<span class="number">3</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">0.10</span>    node-<span class="number">1</span>.example.com  node-<span class="number">1</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">0.11</span>    node-<span class="number">2</span>.example.com  node-<span class="number">2</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">0.12</span>    node-<span class="number">3</span>.example.com  node-<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ping测试节点</span></span><br><span class="line">ping  node-<span class="number">1</span></span><br><span class="line">ping  node-<span class="number">2</span></span><br><span class="line">ping  node-<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#禁用selinux</span></span><br><span class="line">setenforce <span class="number">0</span></span><br><span class="line">sed -i <span class="string">'s/^SELINUX=.*/SELINUX=permissive/'</span> /etc/selinux/config</span><br><span class="line">yum install -y ntp</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑ntp</span></span><br><span class="line">vi /etc/ntp.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#主控节点</span></span><br><span class="line">server <span class="number">127.127</span>.<span class="number">1.0</span> iburst</span><br><span class="line"><span class="comment">#其他节点指向10.30.0.10</span></span><br><span class="line">server <span class="number">10.30</span>.<span class="number">0.10</span> iburst</span><br><span class="line"></span><br><span class="line">systemctl <span class="built_in">enable</span> ntpd.service</span><br><span class="line">systemctl start ntpd.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#禁用firewall</span></span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#禁用NetworkManager</span></span><br><span class="line">systemctl <span class="built_in">disable</span> NetworkManager</span><br><span class="line">systemctl stop NetworkManager</span><br><span class="line"></span><br><span class="line"><span class="comment">#ntp客户端同步</span></span><br><span class="line">ntpdate -u <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#主控节点安装数据库</span></span><br><span class="line">yum install -y mariadb mariadb-server MySQL-python</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置mariadb</span></span><br><span class="line">vi /etc/my.cnf.d/mariadb_openstack.cnf</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="built_in">bind</span>-address = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line">default-storage-engine = innodb</span><br><span class="line">innodb_file_per_table</span><br><span class="line">collation-server = utf8_general_ci</span><br><span class="line">init-connect = <span class="string">'SET NAMES utf8'</span></span><br><span class="line">character-set-server = utf8</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动mariadb</span></span><br><span class="line">systemctl <span class="built_in">enable</span> mariadb.service</span><br><span class="line">systemctl start mariadb.service</span><br><span class="line">mysql_secure_installation</span><br><span class="line">[enter <span class="keyword">for</span> none]</span><br><span class="line">[y]</span><br><span class="line">redhat</span><br><span class="line">[y]</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装rabbitmq</span></span><br><span class="line">yum install -y rabbitmq-server</span><br><span class="line">systemctl <span class="built_in">enable</span> rabbitmq-server.service</span><br><span class="line">systemctl start rabbitmq-server.service</span><br><span class="line">setenforce <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#建立keystone数据库</span></span><br><span class="line">mysql -u root -predhat</span><br><span class="line"></span><br><span class="line">CREATE DATABASE keystone;</span><br><span class="line">GRANT ALL PRIVILEGES ON keystone.* TO <span class="string">'keystone'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">GRANT ALL PRIVILEGES ON keystone.* TO <span class="string">'keystone'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">EXIT</span><br><span class="line"></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment"># OpenStack Installation </span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Keystone Installation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装Keystone</span></span><br><span class="line">yum install -y openstack-keystone httpd mod_wsgi python-openstackclient memcached python-memcached</span><br><span class="line">systemctl <span class="built_in">enable</span> memcached.service</span><br><span class="line">systemctl start memcached.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置keystone参数</span></span><br><span class="line">vi /etc/keystone/keystone.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">admin_token = redhat</span><br><span class="line">verbose = True</span><br><span class="line">[database]</span><br><span class="line">...</span><br><span class="line">connection = mysql://keystone:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/keystone</span><br><span class="line">[memcache]</span><br><span class="line">...</span><br><span class="line">servers = localhost:<span class="number">11211</span></span><br><span class="line">[token]</span><br><span class="line">...</span><br><span class="line">provider = keystone.token.providers.uuid.Provider</span><br><span class="line">driver = keystone.token.persistence.backends.memcache.Token</span><br><span class="line">[revoke]</span><br><span class="line">...</span><br><span class="line">driver = keystone.contrib.revoke.backends.sql.Revoke</span><br><span class="line"></span><br><span class="line"><span class="comment">#初始化keystone数据库</span></span><br><span class="line">su <span class="operator">-s</span> /bin/sh -c <span class="string">"keystone-manage db_sync"</span> keystone</span><br><span class="line">tail <span class="operator">-f</span> /var/<span class="built_in">log</span>/keystone/keystone.log</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置servername</span></span><br><span class="line">vi /etc/httpd/conf/httpd.conf</span><br><span class="line"></span><br><span class="line">ServerName node-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置keystone虚拟机</span></span><br><span class="line">vi /etc/httpd/conf.d/wsgi-keystone.conf</span><br><span class="line"></span><br><span class="line">Listen <span class="number">5000</span></span><br><span class="line">Listen <span class="number">35357</span></span><br><span class="line">&lt;VirtualHost *:<span class="number">5000</span>&gt;</span><br><span class="line">    WSGIDaemonProcess keystone-public processes=<span class="number">5</span> threads=<span class="number">1</span> user=keystone group=keystone display-name=%&#123;GROUP&#125;</span><br><span class="line">    WSGIProcessGroup keystone-public</span><br><span class="line">    WSGIScriptAlias / /var/www/cgi-bin/keystone/main</span><br><span class="line">    WSGIApplicationGroup %&#123;GLOBAL&#125;</span><br><span class="line">    WSGIPassAuthorization On</span><br><span class="line">    LogLevel info</span><br><span class="line">    ErrorLogFormat <span class="string">"%&#123;cu&#125;t %M"</span></span><br><span class="line">    ErrorLog /var/<span class="built_in">log</span>/httpd/keystone-error.log</span><br><span class="line">    CustomLog /var/<span class="built_in">log</span>/httpd/keystone-access.log combined</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;VirtualHost *:<span class="number">35357</span>&gt;</span><br><span class="line">    WSGIDaemonProcess keystone-admin processes=<span class="number">5</span> threads=<span class="number">1</span> user=keystone group=keystone display-name=%&#123;GROUP&#125;</span><br><span class="line">    WSGIProcessGroup keystone-admin</span><br><span class="line">    WSGIScriptAlias / /var/www/cgi-bin/keystone/admin</span><br><span class="line">    WSGIApplicationGroup %&#123;GLOBAL&#125;</span><br><span class="line">    WSGIPassAuthorization On</span><br><span class="line">    LogLevel info</span><br><span class="line">    ErrorLogFormat <span class="string">"%&#123;cu&#125;t %M"</span></span><br><span class="line">    ErrorLog /var/<span class="built_in">log</span>/httpd/keystone-error.log</span><br><span class="line">    CustomLog /var/<span class="built_in">log</span>/httpd/keystone-access.log combined</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建keystone启动文件</span></span><br><span class="line">mkdir -p /var/www/cgi-bin/keystone</span><br><span class="line">touch /var/www/cgi-bin/keystone/&#123;main,admin&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#两个文件输入相同内容配置wsgi</span></span><br><span class="line">vi /var/www/cgi-bin/keystone/main</span><br><span class="line">vi /var/www/cgi-bin/keystone/admin</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">from keystone.server import wsgi as wsgi_server</span><br><span class="line">name = os.path.basename(__file__)</span><br><span class="line">application = wsgi_server.initialize_application(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#调整权限</span></span><br><span class="line">chown -R keystone:keystone /var/www/cgi-bin/keystone</span><br><span class="line">chmod <span class="number">755</span> /var/www/cgi-bin/keystone/*</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动httpd服务</span></span><br><span class="line">systemctl <span class="built_in">enable</span> httpd.service</span><br><span class="line">systemctl start httpd.service</span><br><span class="line">tail <span class="operator">-f</span> /var/<span class="built_in">log</span>/httpd/keystone-error.log </span><br><span class="line">ps -ef|grep http</span><br><span class="line">ps -ef|grep keystone</span><br><span class="line">netstat -ntlp|grep <span class="number">5000</span></span><br><span class="line">netstat -ntlp|grep <span class="number">35357</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置临时token</span></span><br><span class="line"><span class="built_in">export</span> OS_TOKEN=redhat</span><br><span class="line"><span class="built_in">export</span> OS_URL=http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span>/v2.<span class="number">0</span></span><br><span class="line"><span class="built_in">export</span> | grep OS</span><br><span class="line"></span><br><span class="line">openstack service create --name keystone --description <span class="string">"OpenStack Identity"</span> identity</span><br><span class="line">openstack endpoint create --publicurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span>/v2.<span class="number">0</span> --internalurl  http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span>/v2.<span class="number">0</span> --adminurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span>/v2.<span class="number">0</span> --region RegionOne identity</span><br><span class="line">openstack project create --description <span class="string">"Admin Project"</span> admin</span><br><span class="line">openstack user create --password-prompt admin</span><br><span class="line">User Password:[redhat]</span><br><span class="line">Repeat User Password:[redhat]</span><br><span class="line"></span><br><span class="line">openstack role create admin</span><br><span class="line">openstack role add --project admin --user admin admin</span><br><span class="line">openstack project create --description <span class="string">"Service Project"</span> service</span><br><span class="line"></span><br><span class="line">openstack project create --description <span class="string">"Demo Project"</span> demo</span><br><span class="line">openstack user create --password-prompt demo</span><br><span class="line">User Password:[redhat]</span><br><span class="line">Repeat User Password:[redhat]</span><br><span class="line"></span><br><span class="line">openstack role create user</span><br><span class="line">openstack role add --project demo --user demo user</span><br><span class="line"><span class="built_in">unset</span> OS_TOKEN OS_URL</span><br><span class="line"><span class="built_in">export</span> | grep OS</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Verification &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line">openstack --os-auth-url http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span> --os-project-name admin --os-username admin --os-auth-type password token issue</span><br><span class="line">ps -ef|grep memcached</span><br><span class="line">systemctl start memcached.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑admin-openrc</span></span><br><span class="line">vi /root/admin-openrc.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> OS_PROJECT_DOMAIN_ID=default</span><br><span class="line"><span class="built_in">export</span> OS_USER_DOMAIN_ID=default</span><br><span class="line"><span class="built_in">export</span> OS_PROJECT_NAME=admin</span><br><span class="line"><span class="built_in">export</span> OS_TENANT_NAME=admin</span><br><span class="line"><span class="built_in">export</span> OS_USERNAME=admin</span><br><span class="line"><span class="built_in">export</span> OS_PASSWORD=redhat</span><br><span class="line"><span class="built_in">export</span> OS_AUTH_URL=http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span>/v3</span><br><span class="line"><span class="built_in">export</span> PS1=<span class="string">'[\u@\h \W(admin)]\$ '</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /root/admin-openrc.sh</span><br><span class="line">openstack user list</span><br><span class="line"></span><br><span class="line">+----------------------------------+---------+</span><br><span class="line">| ID                               | Name    |</span><br><span class="line">+----------------------------------+---------+</span><br><span class="line">| <span class="number">3</span>a90eefdd4af4f64b2b55e5787c8b480 | nova    |</span><br><span class="line">| <span class="number">81</span>fda8223f424eacb358b9ecf30d8514 | demo    |</span><br><span class="line">| afc0c39b498044a6b012ca85e1a82e3e | cinder  |</span><br><span class="line">| c66ab63dac7142438383f880ceae77e3 | neutron |</span><br><span class="line">| de0c3f0303394b3e8d127119721e7f6b | admin   |</span><br><span class="line">| e6a433779b8749d689e4f8d47026028c | glance  |</span><br><span class="line">+----------------------------------+---------+</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑demo-openrc</span></span><br><span class="line">vi /root/demo-openrc.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> OS_PROJECT_DOMAIN_ID=default</span><br><span class="line"><span class="built_in">export</span> OS_USER_DOMAIN_ID=default</span><br><span class="line"><span class="built_in">export</span> OS_PROJECT_NAME=demo</span><br><span class="line"><span class="built_in">export</span> OS_TENANT_NAME=demo</span><br><span class="line"><span class="built_in">export</span> OS_USERNAME=demo</span><br><span class="line"><span class="built_in">export</span> OS_PASSWORD=redhat</span><br><span class="line"><span class="built_in">export</span> OS_AUTH_URL=http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span>/v3</span><br><span class="line"><span class="built_in">export</span> PS1=<span class="string">'[\u@\h \W(demo)]\$ '</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /root/demo-openrc.sh</span><br><span class="line">openstack token issue</span><br><span class="line"></span><br><span class="line">+------------+----------------------------------+</span><br><span class="line">| Field      | Value                            |</span><br><span class="line">+------------+----------------------------------+</span><br><span class="line">| expires    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T02:<span class="number">25</span>:<span class="number">24.285395</span>Z      |</span><br><span class="line">| id         | <span class="number">06</span>c106e9ffb747a1812e9b4de73b6977 |</span><br><span class="line">| project_id | f9ae9069651e40d0baaa7ad4e7d1a160 |</span><br><span class="line">| user_id    | de0c3f0303394b3e8d127119721e7f6b |</span><br><span class="line">+------------+----------------------------------+</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Glance Installation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建glance数据库和用户</span></span><br><span class="line">mysql -u root -p</span><br><span class="line"></span><br><span class="line">CREATE DATABASE glance;</span><br><span class="line">GRANT ALL PRIVILEGES ON glance.* TO <span class="string">'glance'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">GRANT ALL PRIVILEGES ON glance.* TO <span class="string">'glance'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">EXIT</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /root/admin-openrc.sh</span><br><span class="line"><span class="comment">#set the password to 'redhat'</span></span><br><span class="line">openstack user create --password-prompt glance</span><br><span class="line">openstack role add --project service --user glance admin</span><br><span class="line">openstack service create --name glance --description <span class="string">"OpenStack Image service"</span> image</span><br><span class="line">openstack endpoint create --publicurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9292</span> --internalurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9292</span> --adminurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9292</span> --region RegionOne image</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装glance</span></span><br><span class="line">yum install -y openstack-glance python-glance python-glanceclient</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置glance-api</span></span><br><span class="line">vi /etc/glance/glance-api.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">verbose = True</span><br><span class="line">notification_driver = noop </span><br><span class="line">[database]</span><br><span class="line">...</span><br><span class="line">connection = mysql://glance:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/glance</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">...</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = glance</span><br><span class="line">password = redhat</span><br><span class="line">[paste_deploy]</span><br><span class="line">...</span><br><span class="line">flavor = keystone</span><br><span class="line">[glance_store]</span><br><span class="line">...</span><br><span class="line">default_store = file</span><br><span class="line">filesystem_store_datadir = /var/lib/glance/images/</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置glance-registry</span></span><br><span class="line">vi /etc/glance/glance-registry.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">verbose = True</span><br><span class="line">notification_driver = noop</span><br><span class="line">[database]</span><br><span class="line">...</span><br><span class="line">connection = mysql://glance:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/glance</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">...</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = glance</span><br><span class="line">password = redhat</span><br><span class="line">[paste_deploy]</span><br><span class="line">...</span><br><span class="line">flavor = keystone</span><br><span class="line"></span><br><span class="line"><span class="comment">#生成glance数据</span></span><br><span class="line">su <span class="operator">-s</span> /bin/sh -c <span class="string">"glance-manage db_sync"</span> glance</span><br><span class="line">systemctl <span class="built_in">enable</span> openstack-glance-api.service openstack-glance-registry.service</span><br><span class="line">systemctl start openstack-glance-api.service openstack-glance-registry.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Verification &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"export OS_IMAGE_API_VERSION=2"</span> | tee <span class="operator">-a</span> admin-openrc.sh demo-openrc.sh</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line">glance image-list</span><br><span class="line">mkdir /tmp/image-list</span><br><span class="line">wget -P /tmp/images http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/images/vdisk/cirros-<span class="number">0.3</span>.<span class="number">4</span>-x86_64-disk.img</span><br><span class="line">glance image-create --name <span class="string">"cirros-in-fs"</span> --file /tmp/images/cirros-<span class="number">0.3</span>.<span class="number">4</span>-x86_64-disk.img --disk-format qcow2 --container-format bare --visibility public --progress</span><br><span class="line">glance image-list</span><br><span class="line">rm -r /tmp/images</span><br><span class="line"></span><br><span class="line">+--------------------------------------+--------------+</span><br><span class="line">| ID                                   | Name         |</span><br><span class="line">+--------------------------------------+--------------+</span><br><span class="line">| <span class="number">6</span>bbafd22-<span class="number">6791</span>-<span class="number">4</span>a9d-<span class="number">8240</span>-<span class="number">355</span>a64f8a5c1 | cirros-in-fs |</span><br><span class="line">+--------------------------------------+--------------+</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Nova Installation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建nova数据库</span></span><br><span class="line">mysql -u root -p</span><br><span class="line"></span><br><span class="line">CREATE DATABASE nova;</span><br><span class="line">GRANT ALL PRIVILEGES ON nova.* TO <span class="string">'nova'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">GRANT ALL PRIVILEGES ON nova.* TO <span class="string">'nova'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">EXIT</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line"><span class="comment">#Set the password to 'redhat'</span></span><br><span class="line">openstack user create --password-prompt nova</span><br><span class="line">openstack role add --project service --user nova admin</span><br><span class="line">openstack service create --name nova --description <span class="string">"OpenStack Compute"</span> compute</span><br><span class="line">openstack endpoint create --publicurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8774</span>/v2/%\(tenant_id\)s --internalurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8774</span>/v2/%\(tenant_id\)s --adminurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8774</span>/v2/%\(tenant_id\)s --region RegionOne compute</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装nova</span></span><br><span class="line">yum install -y openstack-nova-api openstack-nova-cert openstack-nova-conductor openstack-nova-console openstack-nova-novncproxy openstack-nova-scheduler python-novaclient</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置nova</span></span><br><span class="line">vi /etc/nova/nova.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">verbose = True</span><br><span class="line">rpc_backend = rabbit</span><br><span class="line">auth_strategy = keystone</span><br><span class="line">my_ip = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">vncserver_listen = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">vncserver_proxyclient_address = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">[database]</span><br><span class="line">...</span><br><span class="line">connection = mysql://nova:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/nova</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">...connection/connection/</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">...</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = nova</span><br><span class="line">password = redhat</span><br><span class="line">[glance]</span><br><span class="line">...</span><br><span class="line">host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">[oslo_concurrency]</span><br><span class="line">...</span><br><span class="line">lock_path = /var/lib/nova/tmp</span><br><span class="line"></span><br><span class="line"><span class="comment">#生成nova数据</span></span><br><span class="line">su <span class="operator">-s</span> /bin/sh -c <span class="string">"nova-manage db sync"</span> nova</span><br><span class="line">systemctl <span class="built_in">enable</span> openstack-nova-api.service openstack-nova-cert.service openstack-nova-consoleauth.service \</span><br><span class="line">openstack-nova-scheduler.service openstack-nova-conductor.service openstack-nova-novncproxy.service</span><br><span class="line">systemctl start openstack-nova-api.service openstack-nova-cert.service openstack-nova-consoleauth.service \</span><br><span class="line">openstack-nova-scheduler.service openstack-nova-conductor.service openstack-nova-novncproxy.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Compute Nodes</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在其他计算节点安装nova-compute</span></span><br><span class="line">yum install -y openstack-nova-compute sysfsutils</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置nova</span></span><br><span class="line">vi /etc/nova/nova.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">verbose = True</span><br><span class="line">rpc_backend = rabbit</span><br><span class="line">auth_strategy = keystone</span><br><span class="line"><span class="comment"># set to your local ip on management network</span></span><br><span class="line">my_ip = <span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line">vnc_enabled = True</span><br><span class="line">vncserver_listen = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"><span class="comment"># set to your local ip on management network </span></span><br><span class="line">vncserver_proxyclient_address = <span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line">novncproxy_base_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">6080</span>/vnc_auto.html</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">...</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">...</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = nova</span><br><span class="line">password = redhat</span><br><span class="line">[glance]</span><br><span class="line">...</span><br><span class="line">host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">[oslo_concurrency]</span><br><span class="line">...</span><br><span class="line">lock_path = /var/lib/nova/tmp</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动nova-compute服务</span></span><br><span class="line">RETR=$(egrep -c <span class="string">'(vmx|svm)'</span> /proc/cpuinfo); <span class="keyword">if</span> [ <span class="variable">$RETR</span> <span class="operator">-eq</span> <span class="number">0</span> ]; <span class="keyword">then</span> sed -i <span class="string">'s/^#virt_type=.*/virt_type=qemu/'</span> /etc/nova/nova.conf; <span class="keyword">fi</span></span><br><span class="line">firewall-cmd --set-default-zone=trusted</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">systemctl <span class="built_in">enable</span> libvirtd.service openstack-nova-compute.service</span><br><span class="line">systemctl start libvirtd.service openstack-nova-compute.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Verification &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Go back to your Controller Node</span></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line">nova service-list</span><br><span class="line">nova endpoints</span><br><span class="line">nova image-list</span><br><span class="line"></span><br><span class="line">+----+------------------+--------------------+----------+---------+-------+----------------------------+-----------------+</span><br><span class="line">| Id | Binary           | Host               | Zone     | Status  | State | Updated_at                 | Disabled Reason |</span><br><span class="line">+----+------------------+--------------------+----------+---------+-------+----------------------------+-----------------+</span><br><span class="line">| <span class="number">1</span>  | nova-consoleauth | node-<span class="number">1</span>.example.com | internal | enabled | up    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T01:<span class="number">31</span>:<span class="number">52.000000</span> | -               |</span><br><span class="line">| <span class="number">2</span>  | nova-conductor   | node-<span class="number">1</span>.example.com | internal | enabled | up    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T01:<span class="number">31</span>:<span class="number">52.000000</span> | -               |</span><br><span class="line">| <span class="number">3</span>  | nova-cert        | node-<span class="number">1</span>.example.com | internal | enabled | up    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T01:<span class="number">31</span>:<span class="number">52.000000</span> | -               |</span><br><span class="line">| <span class="number">4</span>  | nova-scheduler   | node-<span class="number">1</span>.example.com | internal | enabled | up    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T01:<span class="number">31</span>:<span class="number">51.000000</span> | -               |</span><br><span class="line">| <span class="number">5</span>  | nova-compute     | node-<span class="number">2</span>.example.com | nova     | enabled | up    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T01:<span class="number">31</span>:<span class="number">52.000000</span> | -               |</span><br><span class="line">| <span class="number">6</span>  | nova-compute     | node-<span class="number">3</span>.example.com | nova     | enabled | up    | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T01:<span class="number">31</span>:<span class="number">53.000000</span> | -               |</span><br><span class="line">+----+------------------+--------------------+----------+---------+-------+----------------------------+-----------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Neutron Installation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#On All of Your OpenStack Nodes</span></span><br><span class="line"><span class="comment">#重启网络</span></span><br><span class="line">systemctl stop NetworkManager.service; systemctl <span class="built_in">disable</span> NetworkManager.service</span><br><span class="line">systemctl restart network.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#On Controller (Network) Node</span></span><br><span class="line">vi /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">net.ipv4.ip_forward=<span class="number">1</span></span><br><span class="line">net.ipv4.conf.all.rp_filter=<span class="number">0</span></span><br><span class="line">net.ipv4.conf.default.rp_filter=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">sysctl -p</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建neutron数据库</span></span><br><span class="line">mysql -u root -p</span><br><span class="line">CREATE DATABASE neutron;</span><br><span class="line">GRANT ALL PRIVILEGES ON neutron.* TO <span class="string">'neutron'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">GRANT ALL PRIVILEGES ON neutron.* TO <span class="string">'neutron'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">EXIT</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line"><span class="comment"># Set the password to 'redhat'</span></span><br><span class="line">openstack user create --password-prompt neutron</span><br><span class="line">openstack role add --project service --user neutron admin</span><br><span class="line">openstack service create --name neutron --description <span class="string">"OpenStack Networking"</span> network</span><br><span class="line">openstack endpoint create --publicurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9696</span> --adminurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9696</span> --internalurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9696</span> --region RegionOne network</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装neutron</span></span><br><span class="line">yum install -y openstack-neutron openstack-neutron-ml2 python-neutronclient openstack-neutron-openvswitch</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置neutron</span></span><br><span class="line">vi /etc/neutron/neutron.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">core_plugin = ml2</span><br><span class="line">service_plugins = router</span><br><span class="line">auth_strategy = keystone</span><br><span class="line">allow_overlapping_ips = True</span><br><span class="line">notify_nova_on_port_status_changes = True</span><br><span class="line">notify_nova_on_port_data_changes = True</span><br><span class="line">nova_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8774</span>/v2</span><br><span class="line">rpc_backend=rabbit</span><br><span class="line">[matchmaker_redis]</span><br><span class="line">[matchmaker_ring]</span><br><span class="line">[quotas]</span><br><span class="line">[agent]</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">admin_tenant_name = %SERVICE_TENANT_NAME%</span><br><span class="line">admin_user = %SERVICE_USER%</span><br><span class="line">admin_password = %SERVICE_PASSWORD%</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = neutron</span><br><span class="line">password = redhat</span><br><span class="line">[database]</span><br><span class="line">connection = mysql://neutron:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/neutron</span><br><span class="line">[nova]</span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">region_name = RegionOne</span><br><span class="line">project_name = service</span><br><span class="line">username = nova</span><br><span class="line">password = redhat</span><br><span class="line">[oslo_concurrency]</span><br><span class="line">[oslo_policy]</span><br><span class="line">[oslo_messaging_amqp]</span><br><span class="line">[oslo_messaging_qpid]</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置ml2_conf</span></span><br><span class="line">vi /etc/neutron/plugins/ml2/ml2_conf.ini</span><br><span class="line"></span><br><span class="line">[ml2]</span><br><span class="line"><span class="built_in">type</span>_drivers = flat,gre,vxlan</span><br><span class="line">tenant_network_types = vxlan</span><br><span class="line">mechanism_drivers = openvswitch</span><br><span class="line">[ml2_<span class="built_in">type</span>_flat]</span><br><span class="line">flat_networks = public</span><br><span class="line">[ml2_<span class="built_in">type</span>_vlan]</span><br><span class="line">[ml2_<span class="built_in">type</span>_gre]</span><br><span class="line">[ml2_<span class="built_in">type</span>_vxlan]</span><br><span class="line">vni_ranges = <span class="number">1</span>:<span class="number">10000</span></span><br><span class="line">[securitygroup]</span><br><span class="line"><span class="built_in">enable</span>_security_group = True</span><br><span class="line"><span class="built_in">enable</span>_ipset = True</span><br><span class="line">firewall_driver = neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver</span><br><span class="line">[ovs]</span><br><span class="line"><span class="built_in">local</span>_ip = <span class="number">192.168</span>.<span class="number">0.10</span></span><br><span class="line">bridge_mappings = public:br-ex</span><br><span class="line">[agent]</span><br><span class="line">tunnel_types = vxlan</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置ovs_neutron_plugin</span></span><br><span class="line">vi /etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini</span><br><span class="line"></span><br><span class="line">[ovs]</span><br><span class="line">integration_bridge = br-int</span><br><span class="line">tunnel_bridge = br-tun</span><br><span class="line"><span class="built_in">local</span>_ip = <span class="number">192.168</span>.<span class="number">0.10</span></span><br><span class="line">bridge_mappings = public:br-ex</span><br><span class="line">[agent]</span><br><span class="line">tunnel_types = vxlan</span><br><span class="line">[securitygroup]</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置nova</span></span><br><span class="line">vi /etc/nova/nova.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">rpc_backend=rabbit</span><br><span class="line">my_ip=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">auth_strategy=keystone</span><br><span class="line">vncserver_listen=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">vncserver_proxyclient_address=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">network_api_class = nova.network.neutronv2.api.API</span><br><span class="line">security_group_api = neutron</span><br><span class="line">linuxnet_interface_driver = nova.network.linux_net.LinuxOVSInterfaceDriver</span><br><span class="line">firewall_driver = nova.virt.firewall.NoopFirewallDriver</span><br><span class="line">[api_database]</span><br><span class="line">[barbican]</span><br><span class="line">[cells]</span><br><span class="line">[cinder]</span><br><span class="line">[conductor]</span><br><span class="line">[database]</span><br><span class="line">connection = mysql://nova:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/nova</span><br><span class="line">[ephemeral_storage_encryption]</span><br><span class="line">[glance]</span><br><span class="line">host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">[guestfs]</span><br><span class="line">[hyperv]</span><br><span class="line">[image_file_url]</span><br><span class="line">[ironic]</span><br><span class="line">[keymgr]</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = nova</span><br><span class="line">password = redhat</span><br><span class="line">[libvirt]</span><br><span class="line">[metrics]</span><br><span class="line">[neutron]</span><br><span class="line">url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9696</span></span><br><span class="line">auth_strategy = keystone</span><br><span class="line">admin_auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span>/v2.<span class="number">0</span></span><br><span class="line">admin_tenant_name = service</span><br><span class="line">admin_username = neutron</span><br><span class="line">admin_password = redhat</span><br><span class="line">service_metadata_proxy = True</span><br><span class="line">metadata_proxy_shared_secret = redhat</span><br><span class="line">[osapi_v3]</span><br><span class="line">[rdp]</span><br><span class="line">[serial_console]</span><br><span class="line">[spice]</span><br><span class="line">[ssl]</span><br><span class="line">[trusted_computing]</span><br><span class="line">[upgrade_levels]</span><br><span class="line">[vmware]</span><br><span class="line">[workarounds]</span><br><span class="line">[xenserver]</span><br><span class="line">[zookeeper]</span><br><span class="line">[matchmaker_redis]</span><br><span class="line">[matchmaker_ring]</span><br><span class="line">[oslo_concurrency]</span><br><span class="line">lock_path = /var/lib/nova/tmp</span><br><span class="line">[oslo_messaging_amqp]</span><br><span class="line">[oslo_messaging_qpid]</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启nova服务</span></span><br><span class="line">ln <span class="operator">-s</span> /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini</span><br><span class="line">su <span class="operator">-s</span> /bin/sh -c <span class="string">"neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head"</span> neutron</span><br><span class="line">systemctl restart openstack-nova-api.service openstack-nova-scheduler.service openstack-nova-conductor.service</span><br><span class="line">systemctl <span class="built_in">enable</span> neutron-server.service; systemctl start neutron-server.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置l3_agent</span></span><br><span class="line">vi /etc/neutron/l3_agent.ini</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">verbose = True</span><br><span class="line">interface_driver = neutron.agent.linux.interface.OVSInterfaceDriver</span><br><span class="line">external_network_bridge =</span><br><span class="line">router_delete_namespaces = True</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置dhcp_agent</span></span><br><span class="line">vi /etc/neutron/dhcp_agent.ini</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">interface_driver = neutron.agent.linux.interface.OVSInterfaceDriver</span><br><span class="line">dhcp_driver = neutron.agent.linux.dhcp.Dnsmasq</span><br><span class="line">dhcp_delete_namespaces = True</span><br><span class="line">dnsmasq_config_file = /etc/neutron/dnsmasq-neutron.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置dnsmasq-neutron</span></span><br><span class="line">vi /etc/neutron/dnsmasq-neutron.conf</span><br><span class="line"></span><br><span class="line">dhcp-option-force=<span class="number">26</span>,<span class="number">1454</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#杀掉dnsmasq进程</span></span><br><span class="line">pkill dnsmasq</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置metadata_agent</span></span><br><span class="line">vi /etc/neutron/metadata_agent.ini</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_region = RegionOne</span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = neutron</span><br><span class="line">password = redhat</span><br><span class="line">nova_metadata_ip = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">metadata_proxy_shared_secret = redhat</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启openvswitch</span></span><br><span class="line">openstack-service restart</span><br><span class="line">systemctl <span class="built_in">enable</span> openvswitch.service</span><br><span class="line">systemctl start openvswitch.service</span><br><span class="line">ovs-vsctl add-br br-ex</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置enp0s8</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s8</span><br><span class="line"></span><br><span class="line">DEVICE=enp0s8</span><br><span class="line">NM_CONTROLLED=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NAME=enp0s8</span><br><span class="line">DEVICETYPE=ovs</span><br><span class="line">OVS_BRIDGE=br-ex</span><br><span class="line">TYPE=OVSPort</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置br-ex</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-br-ex</span><br><span class="line"></span><br><span class="line">DEVICE=br-ex</span><br><span class="line">STP=no</span><br><span class="line">BRIDGING_OPTS=priority=<span class="number">32768</span></span><br><span class="line">TYPE=OVSBridge</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=no</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_PEERDNS=yes</span><br><span class="line">IPV6_PEERROUTES=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">NAME=br-ex</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">PREFIX=<span class="number">24</span></span><br><span class="line">GATEWAY=<span class="number">10.30</span>.<span class="number">0.1</span></span><br><span class="line">DEVICETYPE=ovs</span><br><span class="line">USERCTL=yes</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启openvswitch</span></span><br><span class="line">systemctl restart network.service</span><br><span class="line">ovs-vsctl list-ports br-ex</span><br><span class="line">ethtool -K enp0s8 gro off</span><br><span class="line">systemctl restart network.service</span><br><span class="line">cp /usr/lib/systemd/system/neutron-openvswitch-agent.service /usr/lib/systemd/system/neutron-openvswitch-agent.service.orig</span><br><span class="line">sed -i <span class="string">'s,plugins/openvswitch/ovs_neutron_plugin.ini,plugin.ini,g'</span> /usr/lib/systemd/system/neutron-openvswitch-agent.service</span><br><span class="line">systemctl <span class="built_in">enable</span> neutron-openvswitch-agent.service neutron<span class="operator">-l</span>3-agent.service neutron-dhcp-agent.service neutron-metadata-agent.service neutron-ovs-cleanup.service</span><br><span class="line">systemctl start neutron-openvswitch-agent.service neutron<span class="operator">-l</span>3-agent.service neutron-dhcp-agent.service neutron-metadata-agent.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#On your Controller Node</span></span><br><span class="line">vi /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">net.ipv4.conf.all.rp_filter=<span class="number">0</span></span><br><span class="line">net.ipv4.conf.default.rp_filter=<span class="number">0</span></span><br><span class="line">net.bridge.bridge-nf-call-iptables=<span class="number">1</span></span><br><span class="line">net.bridge.bridge-nf-call-ip6tables=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">sysctl -p</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装neutron</span></span><br><span class="line">yum install -y openstack-neutron openstack-neutron-ml2 openstack-neutron-openvswitch</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置neutron</span></span><br><span class="line">vi /etc/neutron/neutron.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">core_plugin = ml2</span><br><span class="line">service_plugins = router</span><br><span class="line">allow_overlapping_ips = True</span><br><span class="line">auth_strategy = keystone</span><br><span class="line">rpc_backend=rabbit</span><br><span class="line">[matchmaker_redis]</span><br><span class="line">[matchmaker_ring]</span><br><span class="line">[quotas]</span><br><span class="line">[agent]</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">admin_tenant_name = %SERVICE_TENANT_NAME%</span><br><span class="line">admin_user = %SERVICE_USER%</span><br><span class="line">admin_password = %SERVICE_PASSWORD%</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = neutron</span><br><span class="line">password = redhat</span><br><span class="line">[database]</span><br><span class="line">[nova]</span><br><span class="line">[oslo_concurrency]</span><br><span class="line">[oslo_policy]</span><br><span class="line">[oslo_messaging_amqp]</span><br><span class="line">[oslo_messaging_qpid]</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置ml2_conf</span></span><br><span class="line">vi /etc/neutron/plugins/ml2/ml2_conf.ini</span><br><span class="line"></span><br><span class="line">[ml2]</span><br><span class="line"><span class="built_in">type</span>_drivers = flat,gre,vxlan</span><br><span class="line">tenant_network_types = vxlan</span><br><span class="line">mechanism_drivers = openvswitch</span><br><span class="line">[ml2_<span class="built_in">type</span>_flat]</span><br><span class="line">[ml2_<span class="built_in">type</span>_vlan]</span><br><span class="line">[ml2_<span class="built_in">type</span>_gre]</span><br><span class="line">[ml2_<span class="built_in">type</span>_vxlan]</span><br><span class="line">vni_ranges = <span class="number">1</span>:<span class="number">10000</span></span><br><span class="line">[securitygroup]</span><br><span class="line"><span class="built_in">enable</span>_security_group = True</span><br><span class="line"><span class="built_in">enable</span>_ipset = True</span><br><span class="line">firewall_driver = neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver</span><br><span class="line">[ovs]</span><br><span class="line"><span class="comment"># set the value to your local ip in tunnel network </span></span><br><span class="line"><span class="built_in">local</span>_ip = <span class="number">192.168</span>.<span class="number">0.11</span></span><br><span class="line">[agent]</span><br><span class="line">tunnel_types = vxlan</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置ovs_neutron_plugin</span></span><br><span class="line">vi /etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini</span><br><span class="line"></span><br><span class="line">[ovs]</span><br><span class="line">integration_bridge = br-int</span><br><span class="line">tunnel_bridge = br-tun</span><br><span class="line"><span class="comment"># set the value to your local ip in tunnel network</span></span><br><span class="line"><span class="built_in">local</span>_ip = <span class="number">192.168</span>.<span class="number">0.11</span></span><br><span class="line">[agent]</span><br><span class="line">tunnel_types = vxlan</span><br><span class="line">[securitygroup]</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启openvswitch</span></span><br><span class="line">systemctl <span class="built_in">enable</span> openvswitch.service</span><br><span class="line">systemctl start openvswitch.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置nova</span></span><br><span class="line">vi /etc/nova/nova.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">rpc_backend=rabbit</span><br><span class="line"><span class="comment"># set to your local ip in management network</span></span><br><span class="line">my_ip=<span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line">auth_strategy=keystone</span><br><span class="line">network_api_class=nova.network.neutronv2.api.API</span><br><span class="line">linuxnet_interface_driver=nova.network.linux_net.LinuxOVSInterfaceDriver</span><br><span class="line">firewall_driver=nova.virt.firewall.NoopFirewallDriver</span><br><span class="line">novncproxy_base_url=http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">6080</span>/vnc_auto.html</span><br><span class="line">vncserver_listen=<span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"><span class="comment"># set to your local ip in management network</span></span><br><span class="line">vncserver_proxyclient_address=<span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line">vnc_enabled=<span class="literal">true</span></span><br><span class="line">[api_database]</span><br><span class="line">[barbican]</span><br><span class="line">[cells]</span><br><span class="line">[cinder]</span><br><span class="line">[conductor]</span><br><span class="line">[database]</span><br><span class="line">[ephemeral_storage_encryption]</span><br><span class="line">[glance]</span><br><span class="line">host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">[guestfs]</span><br><span class="line">[hyperv]</span><br><span class="line">[image_file_url]</span><br><span class="line">[ironic]</span><br><span class="line">[keymgr]</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">auth_uri = http://<span class="number">10.0</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = nova</span><br><span class="line">password = redhat</span><br><span class="line">[libvirt]</span><br><span class="line">virt_<span class="built_in">type</span>=qemu</span><br><span class="line">[metrics]</span><br><span class="line">[neutron]</span><br><span class="line">url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">9696</span></span><br><span class="line">auth_strategy = keystone</span><br><span class="line">admin_auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span>/v2.<span class="number">0</span></span><br><span class="line">admin_tenant_name = service</span><br><span class="line">admin_username = neutron</span><br><span class="line">admin_password = redhat</span><br><span class="line">[osapi_v3]</span><br><span class="line">[rdp]</span><br><span class="line">[serial_console]</span><br><span class="line">[spice]</span><br><span class="line">[ssl]</span><br><span class="line">[trusted_computing]</span><br><span class="line">[upgrade_levels]</span><br><span class="line">[vmware]</span><br><span class="line">[workarounds]</span><br><span class="line">[xenserver]</span><br><span class="line">[zookeeper]</span><br><span class="line">[matchmaker_redis]</span><br><span class="line">[matchmaker_ring]</span><br><span class="line">[oslo_concurrency]</span><br><span class="line">lock_path = /var/lib/nova/tmp</span><br><span class="line">[oslo_messaging_amqp]</span><br><span class="line">[oslo_messaging_qpid]</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启neutron-openvswitch-agent</span></span><br><span class="line">ln <span class="operator">-s</span> /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini</span><br><span class="line">cp /usr/lib/systemd/system/neutron-openvswitch-agent.service /usr/lib/systemd/system/neutron-openvswitch-agent.service.orig</span><br><span class="line">sed -i <span class="string">'s,plugins/openvswitch/ovs_neutron_plugin.ini,plugin.ini,g'</span> /usr/lib/systemd/system/neutron-openvswitch-agent.service</span><br><span class="line">systemctl restart openstack-nova-compute.service</span><br><span class="line">systemctl <span class="built_in">enable</span> neutron-openvswitch-agent.service</span><br><span class="line">systemctl start neutron-openvswitch-agent.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Verification &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#On your Controller Node</span></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line">neutron ext-list</span><br><span class="line"></span><br><span class="line">+-----------------------+-----------------------------------------------+</span><br><span class="line">| <span class="built_in">alias</span>                 | name                                          |</span><br><span class="line">+-----------------------+-----------------------------------------------+</span><br><span class="line">| security-group        | security-group                                |</span><br><span class="line">| l3_agent_scheduler    | L3 Agent Scheduler                            |</span><br><span class="line">| net-mtu               | Network MTU                                   |</span><br><span class="line">| ext-gw-mode           | Neutron L3 Configurable external gateway mode |</span><br><span class="line">| binding               | Port Binding                                  |</span><br><span class="line">| provider              | Provider Network                              |</span><br><span class="line">| agent                 | agent                                         |</span><br><span class="line">| quotas                | Quota management support                      |</span><br><span class="line">| subnet_allocation     | Subnet Allocation                             |</span><br><span class="line">| dhcp_agent_scheduler  | DHCP Agent Scheduler                          |</span><br><span class="line">| l3-ha                 | HA Router extension                           |</span><br><span class="line">| multi-provider        | Multi Provider Network                        |</span><br><span class="line">| external-net          | Neutron external network                      |</span><br><span class="line">| router                | Neutron L3 Router                             |</span><br><span class="line">| allowed-address-pairs | Allowed Address Pairs                         |</span><br><span class="line">| extraroute            | Neutron Extra Route                           |</span><br><span class="line">| extra_dhcp_opt        | Neutron Extra DHCP opts                       |</span><br><span class="line">| dvr                   | Distributed Virtual Router                    |</span><br><span class="line">+-----------------------+-----------------------------------------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#On all OpenStack Nodes</span></span><br><span class="line">ovs-vsctl show</span><br><span class="line"></span><br><span class="line">[root@node-<span class="number">1</span> ~(admin)]<span class="comment"># ovs-vsctl show</span></span><br><span class="line"><span class="number">4</span>bedc59c<span class="operator">-a</span>685-<span class="number">4</span>a53-<span class="number">98</span>b8-<span class="number">28</span>ab9ac3479d</span><br><span class="line">    Bridge br-tun</span><br><span class="line">        fail_mode: secure</span><br><span class="line">        Port patch-int</span><br><span class="line">            Interface patch-int</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=patch-tun&#125;</span><br><span class="line">        Port <span class="string">"vxlan-c0a8000c"</span></span><br><span class="line">            Interface <span class="string">"vxlan-c0a8000c"</span></span><br><span class="line">                <span class="built_in">type</span>: vxlan</span><br><span class="line">                options: &#123;df_default=<span class="string">"true"</span>, <span class="keyword">in</span>_key=flow, <span class="built_in">local</span>_ip=<span class="string">"192.168.0.10"</span>, out_key=flow, remote_ip=<span class="string">"192.168.0.12"</span>&#125;</span><br><span class="line">        Port <span class="string">"vxlan-c0a8000b"</span></span><br><span class="line">            Interface <span class="string">"vxlan-c0a8000b"</span></span><br><span class="line">                <span class="built_in">type</span>: vxlan</span><br><span class="line">                options: &#123;df_default=<span class="string">"true"</span>, <span class="keyword">in</span>_key=flow, <span class="built_in">local</span>_ip=<span class="string">"192.168.0.10"</span>, out_key=flow, remote_ip=<span class="string">"192.168.0.11"</span>&#125;</span><br><span class="line">        Port br-tun</span><br><span class="line">            Interface br-tun</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">    Bridge br-ex</span><br><span class="line">        Port phy-br-ex</span><br><span class="line">            Interface phy-br-ex</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=int-br-ex&#125;</span><br><span class="line">        Port br-ex</span><br><span class="line">            Interface br-ex</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port <span class="string">"enp0s8"</span></span><br><span class="line">            Interface <span class="string">"enp0s8"</span></span><br><span class="line">    Bridge br-int</span><br><span class="line">        fail_mode: secure</span><br><span class="line">        Port patch-tun</span><br><span class="line">            Interface patch-tun</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=patch-int&#125;</span><br><span class="line">        Port int-br-ex</span><br><span class="line">            Interface int-br-ex</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=phy-br-ex&#125;</span><br><span class="line">        Port <span class="string">"qr-790ecb8b-da"</span></span><br><span class="line">            tag: <span class="number">1</span></span><br><span class="line">            Interface <span class="string">"qr-790ecb8b-da"</span></span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port <span class="string">"qg-78c1257c-b9"</span></span><br><span class="line">            tag: <span class="number">2</span></span><br><span class="line">            Interface <span class="string">"qg-78c1257c-b9"</span></span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port <span class="string">"tapa307ce86-ee"</span></span><br><span class="line">            tag: <span class="number">1</span></span><br><span class="line">            Interface <span class="string">"tapa307ce86-ee"</span></span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port br-int</span><br><span class="line">            Interface br-int</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">    ovs_version: <span class="string">"2.4.0"</span></span><br><span class="line"></span><br><span class="line">[root@node-<span class="number">2</span> ~]<span class="comment"># ovs-vsctl show</span></span><br><span class="line"><span class="number">73650</span>c34-<span class="number">694</span>d-<span class="number">49</span>dd-<span class="number">8</span>f6e-<span class="number">3</span>c5996ef02a1</span><br><span class="line">    Bridge br-int</span><br><span class="line">        fail_mode: secure</span><br><span class="line">        Port br-int</span><br><span class="line">            Interface br-int</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port patch-tun</span><br><span class="line">            Interface patch-tun</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=patch-int&#125;</span><br><span class="line">    Bridge br-tun</span><br><span class="line">        fail_mode: secure</span><br><span class="line">        Port br-tun</span><br><span class="line">            Interface br-tun</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port <span class="string">"vxlan-c0a8000c"</span></span><br><span class="line">            Interface <span class="string">"vxlan-c0a8000c"</span></span><br><span class="line">                <span class="built_in">type</span>: vxlan</span><br><span class="line">                options: &#123;df_default=<span class="string">"true"</span>, <span class="keyword">in</span>_key=flow, <span class="built_in">local</span>_ip=<span class="string">"192.168.0.11"</span>, out_key=flow, remote_ip=<span class="string">"192.168.0.12"</span>&#125;</span><br><span class="line">        Port <span class="string">"vxlan-c0a8000a"</span></span><br><span class="line">            Interface <span class="string">"vxlan-c0a8000a"</span></span><br><span class="line">                <span class="built_in">type</span>: vxlan</span><br><span class="line">                options: &#123;df_default=<span class="string">"true"</span>, <span class="keyword">in</span>_key=flow, <span class="built_in">local</span>_ip=<span class="string">"192.168.0.11"</span>, out_key=flow, remote_ip=<span class="string">"192.168.0.10"</span>&#125;</span><br><span class="line">        Port patch-int</span><br><span class="line">            Interface patch-int</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=patch-tun&#125;</span><br><span class="line">    ovs_version: <span class="string">"2.4.0"</span></span><br><span class="line"></span><br><span class="line">[root@node-<span class="number">3</span> ~]<span class="comment"># ovs-vsctl show</span></span><br><span class="line"><span class="number">4836</span>f089-eeb9-<span class="number">4116</span>-<span class="number">93</span>a2-c84028beabbf</span><br><span class="line">    Bridge br-int</span><br><span class="line">        fail_mode: secure</span><br><span class="line">        Port patch-tun</span><br><span class="line">            Interface patch-tun</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=patch-int&#125;</span><br><span class="line">        Port <span class="string">"qvo85881db0-8d"</span></span><br><span class="line">            tag: <span class="number">1</span></span><br><span class="line">            Interface <span class="string">"qvo85881db0-8d"</span></span><br><span class="line">        Port br-int</span><br><span class="line">            Interface br-int</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">    Bridge br-tun</span><br><span class="line">        fail_mode: secure</span><br><span class="line">        Port <span class="string">"vxlan-c0a8000b"</span></span><br><span class="line">            Interface <span class="string">"vxlan-c0a8000b"</span></span><br><span class="line">                <span class="built_in">type</span>: vxlan</span><br><span class="line">                options: &#123;df_default=<span class="string">"true"</span>, <span class="keyword">in</span>_key=flow, <span class="built_in">local</span>_ip=<span class="string">"192.168.0.12"</span>, out_key=flow, remote_ip=<span class="string">"192.168.0.11"</span>&#125;</span><br><span class="line">        Port <span class="string">"vxlan-c0a8000a"</span></span><br><span class="line">            Interface <span class="string">"vxlan-c0a8000a"</span></span><br><span class="line">                <span class="built_in">type</span>: vxlan</span><br><span class="line">                options: &#123;df_default=<span class="string">"true"</span>, <span class="keyword">in</span>_key=flow, <span class="built_in">local</span>_ip=<span class="string">"192.168.0.12"</span>, out_key=flow, remote_ip=<span class="string">"192.168.0.10"</span>&#125;</span><br><span class="line">        Port br-tun</span><br><span class="line">            Interface br-tun</span><br><span class="line">                <span class="built_in">type</span>: internal</span><br><span class="line">        Port patch-int</span><br><span class="line">            Interface patch-int</span><br><span class="line">                <span class="built_in">type</span>: patch</span><br><span class="line">                options: &#123;peer=patch-tun&#125;</span><br><span class="line">    ovs_version: <span class="string">"2.4.0"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Network Initialization</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="comment"># To create a external provider network</span></span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line">neutron net-create public --router:external --provider:physical_network public --provider:network_<span class="built_in">type</span> flat</span><br><span class="line">neutron subnet-create public <span class="number">10.30</span>.<span class="number">0.0</span>/<span class="number">24</span> --name public-subnet --allocation-pool start=<span class="number">10.30</span>.<span class="number">0.100</span>,end=<span class="number">10.30</span>.<span class="number">0.200</span> --disable-dhcp --gateway <span class="number">10.30</span>.<span class="number">0.1</span></span><br><span class="line"><span class="comment"># To create a vxlan tenant network</span></span><br><span class="line"><span class="built_in">source</span> demo-openrc.sh</span><br><span class="line">neutron net-create private</span><br><span class="line">neutron subnet-create private <span class="number">192.168</span>.<span class="number">1.0</span>/<span class="number">24</span> --name private-subnet --gateway <span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line">neutron router-create private-router</span><br><span class="line">neutron router-interface-add private-router private-subnet</span><br><span class="line">neutron router-gateway-set private-router public</span><br><span class="line">nova keypair-add demo-key</span><br><span class="line">nova boot --flavor m1.tiny --image cirros-in-fs --nic net-id=$(neutron net-list | awk <span class="string">'/ private / &#123;print $2&#125;'</span>) --security-group default --key-name demo-key instance1</span><br><span class="line">nova secgroup-add-rule default icmp -<span class="number">1</span> -<span class="number">1</span> <span class="number">0.0</span>.<span class="number">0.0</span>/<span class="number">0</span></span><br><span class="line">nova secgroup-add-rule default tcp <span class="number">22</span> <span class="number">22</span> <span class="number">0.0</span>.<span class="number">0.0</span>/<span class="number">0</span></span><br><span class="line">neutron floatingip-create public</span><br><span class="line"></span><br><span class="line">+---------------------+--------------------------------------+</span><br><span class="line">| Field               | Value                                |</span><br><span class="line">+---------------------+--------------------------------------+</span><br><span class="line">| fixed_ip_address    |                                      |</span><br><span class="line">| floating_ip_address | <span class="number">10.30</span>.<span class="number">0.101</span>                          |</span><br><span class="line">| floating_network_id | <span class="number">987</span>d51e4-<span class="number">28</span>f9-<span class="number">4861</span>-<span class="number">8020</span>-fc455916f441 |</span><br><span class="line">| id                  | c7071675-fb84-<span class="number">466</span>d-ad67-<span class="number">927</span>a016f9c23 |</span><br><span class="line">| port_id             |                                      |</span><br><span class="line">| router_id           |                                      |</span><br><span class="line">| status              | DOWN                                 |</span><br><span class="line">| tenant_id           | <span class="number">0498</span>aa8db8114baaa01bc0830f00dac6     |</span><br><span class="line">+---------------------+--------------------------------------+</span><br><span class="line"></span><br><span class="line"><span class="comment">#nova floating-ip-associate instance1 $floating_ip_address</span></span><br><span class="line">nova floating-ip-associate instance1 <span class="number">10.30</span>.<span class="number">0.101</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Horizon Installation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#On your Controller Node</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装组件</span></span><br><span class="line">yum install -y openstack-dashboard httpd mod_wsgi memcached python-memcached</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置openstack-dashboard</span></span><br><span class="line">vi /etc/openstack-dashboard/<span class="built_in">local</span>_settings</span><br><span class="line">...</span><br><span class="line">OPENSTACK_HOST = <span class="string">"10.30.0.10"</span></span><br><span class="line">ALLOWED_HOSTS = <span class="string">'*'</span></span><br><span class="line">CACHES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.core.cache.backends.memcached.MemcachedCache'</span>,</span><br><span class="line">        <span class="string">'LOCATION'</span>: <span class="string">'127.0.0.1:11211'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">OPENSTACK_KEYSTONE_DEFAULT_ROLE = <span class="string">"user"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置httpd.conf注释节点</span></span><br><span class="line">vi /etc/httpd/conf/httpd.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#ServerName node-1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#重启服务</span></span><br><span class="line">chown -R apache:apache /usr/share/openstack-dashboard/static</span><br><span class="line">systemctl <span class="built_in">enable</span> httpd.service memcached.service</span><br><span class="line">systemctl restart httpd.service memcached.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Verification &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line">http://<span class="number">10.30</span>.<span class="number">0.10</span>/dashboard</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Cinder Installation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#On your Controller Node</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#建立cinder数据库</span></span><br><span class="line">mysql -u root -p</span><br><span class="line">CREATE DATABASE cinder;</span><br><span class="line">GRANT ALL PRIVILEGES ON cinder.* TO <span class="string">'cinder'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">GRANT ALL PRIVILEGES ON cinder.* TO <span class="string">'cinder'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'redhat'</span>;</span><br><span class="line">EXIT</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置cinder</span></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line"><span class="comment">#Set the password to 'redhat'</span></span><br><span class="line">openstack user create --password-prompt cinder</span><br><span class="line">openstack role add --project service --user cinder admin</span><br><span class="line">openstack service create --name cinder --description <span class="string">"OpenStack Block Storage"</span> volume</span><br><span class="line">openstack service create --name cinderv2 --description <span class="string">"OpenStack Block Storage"</span> volumev2</span><br><span class="line">openstack endpoint create --publicurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8776</span>/v2/%\(tenant_id\)s --internalurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8776</span>/v2/%\(tenant_id\)s --adminurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8776</span>/v2/%\(tenant_id\)s --region RegionOne volume</span><br><span class="line">openstack endpoint create --publicurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8776</span>/v2/%\(tenant_id\)s --internalurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8776</span>/v2/%\(tenant_id\)s --adminurl http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">8776</span>/v2/%\(tenant_id\)s --region RegionOne volumev2</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装cinder组件</span></span><br><span class="line">yum install -y openstack-cinder python-cinderclient python-oslo-db python-oslo-log qemu lvm2 targetcli MySQL-python</span><br><span class="line">cp /usr/share/cinder/cinder-dist.conf /etc/cinder/cinder.conf</span><br><span class="line">chown -R cinder:cinder /etc/cinder/cinder.conf</span><br><span class="line">systemctl <span class="built_in">enable</span> lvm2-lvmetad.service</span><br><span class="line">systemctl start lvm2-lvmetad.service</span><br><span class="line">pvcreate /dev/sdb</span><br><span class="line">vgcreate cinder-volumes /dev/sdb</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置lvm</span></span><br><span class="line">vi /etc/lvm/lvm.conf</span><br><span class="line"></span><br><span class="line">devices &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># To accept the /dev/sdb device, /dev/sda device, and reject all other devices</span></span><br><span class="line">    filter = [ <span class="string">"a/sdb/"</span>, <span class="string">"a/sda/"</span>, <span class="string">"r/.*/"</span>]</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置cinder</span></span><br><span class="line">vi /etc/cinder/cinder.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">verbose = True</span><br><span class="line">rpc_backend = rabbit</span><br><span class="line">auth_strategy = keystone</span><br><span class="line">my_ip = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">enabled_backends = lvm</span><br><span class="line">glance_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">[database]</span><br><span class="line">...</span><br><span class="line">connection = mysql://cinder:redhat@<span class="number">10.30</span>.<span class="number">0.10</span>/cinder</span><br><span class="line">[oslo_messaging_rabbit]</span><br><span class="line">...</span><br><span class="line">rabbit_host = <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">rabbit_userid = guest</span><br><span class="line">rabbit_password = guest</span><br><span class="line">[oslo_concurrency]</span><br><span class="line">...</span><br><span class="line">lock_path = /var/lock/cinder</span><br><span class="line">[keystone_authtoken]</span><br><span class="line">...</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = cinder</span><br><span class="line">password = redhat</span><br><span class="line">[lvm]</span><br><span class="line">...</span><br><span class="line">volume_driver = cinder.volume.drivers.lvm.LVMVolumeDriver</span><br><span class="line">volume_group = cinder-volumes</span><br><span class="line">iscsi_protocol = iscsi</span><br><span class="line">iscsi_helper = lioadm</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启cinder服务</span></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="operator">-d</span> /var/lock/cinder ]; <span class="keyword">then</span> mkdir /var/lock/cinder; <span class="keyword">fi</span></span><br><span class="line">chown -R cinder:cinder /var/lock/cinder</span><br><span class="line">su <span class="operator">-s</span> /bin/sh -c <span class="string">"cinder-manage db sync"</span> cinder</span><br><span class="line">systemctl <span class="built_in">enable</span> openstack-cinder-api.service openstack-cinder-scheduler.service openstack-cinder-volume.service target.service</span><br><span class="line">systemctl start openstack-cinder-api.service openstack-cinder-scheduler.service openstack-cinder-volume.service target.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Verification &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看服务列表</span></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"export OS_VOLUME_API_VERSION=2"</span> | tee <span class="operator">-a</span> admin-openrc.sh demo-openrc.sh</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line">cinder service-list</span><br><span class="line"></span><br><span class="line">+------------------+------------------------+------+---------+-------+----------------------------+-----------------+</span><br><span class="line">|      Binary      |          Host          | Zone |  Status | State |         Updated_at         | Disabled Reason |</span><br><span class="line">+------------------+------------------------+------+---------+-------+----------------------------+-----------------+</span><br><span class="line">| cinder-scheduler |   node-<span class="number">1</span>.example.com   | nova | enabled |   up  | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T02:<span class="number">03</span>:<span class="number">12.000000</span> |        -        |</span><br><span class="line">|  cinder-volume   | node-<span class="number">1</span>.example.com@lvm | nova | enabled |   up  | <span class="number">2016</span>-<span class="number">03</span>-<span class="number">02</span>T02:<span class="number">03</span>:<span class="number">12.000000</span> |        -        |</span><br><span class="line">+------------------+------------------------+------+---------+-------+----------------------------+-----------------+</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> demo-openrc.sh</span><br><span class="line">cinder list</span><br><span class="line">cinder create --name <span class="built_in">test</span>-lvm <span class="number">10</span></span><br><span class="line">cinder list</span><br><span class="line"></span><br><span class="line">+--------------------------------------+-----------+----------+------+-------------+----------+-------------+</span><br><span class="line">|                  ID                  |   Status  |   Name   | Size | Volume Type | Bootable | Attached to |</span><br><span class="line">+--------------------------------------+-----------+----------+------+-------------+----------+-------------+</span><br><span class="line">| <span class="number">59</span>eb88b6-<span class="number">72</span>f6-<span class="number">4</span>e4e-b398-<span class="number">310</span>f6ab028ed | available | <span class="built_in">test</span>-lvm |  <span class="number">10</span>  |      -      |  <span class="literal">false</span>   |             |</span><br><span class="line">+--------------------------------------+-----------+----------+------+-------------+----------+-------------+</span><br><span class="line"></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment">#OpenStack DVR Configuration</span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#On Controller Node</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">source</span> demo-openrc.sh </span><br><span class="line"></span><br><span class="line"><span class="comment">#nova delete $uuid</span></span><br><span class="line"><span class="comment">#可以图形化界面终止实例，清除网关</span></span><br><span class="line">nova delete <span class="number">54</span>d384b6-bca1-<span class="number">4</span>fff<span class="operator">-a</span>2d6<span class="operator">-a</span>63c0b567c21</span><br><span class="line">neutron router-gateway-clear private-router</span><br><span class="line">neutron router-interface-delete private-router  $(neutron net-show private |awk <span class="string">'/ subnets / &#123; print $4 &#125;'</span>)</span><br><span class="line">neutron router-delete private-router</span><br><span class="line">neutron subnet-delete private-subnet</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /root</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh </span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑neutron.conf</span></span><br><span class="line">vi /etc/neutron/neutron.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">router_distributed = True</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑ml2_conf.ini</span></span><br><span class="line">vi /etc/neutron/plugins/ml2/ml2_conf.ini</span><br><span class="line"></span><br><span class="line">[ml2]</span><br><span class="line">...</span><br><span class="line">mechanism_drivers = openvswitch,l2population</span><br><span class="line">[agent]</span><br><span class="line">...</span><br><span class="line">l2_population = True</span><br><span class="line"><span class="built_in">enable</span>_distributed_routing = True</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑l3_agent.ini</span></span><br><span class="line">vi /etc/neutron/l3_agent.ini</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">agent_mode = dvr_snat</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Compute Nodes</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑neutron.conf</span></span><br><span class="line">vi /etc/neutron/neutron.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">router_distributed = True</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑ml2_conf.ini</span></span><br><span class="line">vi /etc/neutron/plugins/ml2/ml2_conf.ini</span><br><span class="line"></span><br><span class="line">[ml2]</span><br><span class="line">...</span><br><span class="line">mechanism_drivers = openvswitch,l2population</span><br><span class="line"></span><br><span class="line">[ovs]</span><br><span class="line">...</span><br><span class="line">bridge_mappings = public:br-ex</span><br><span class="line"></span><br><span class="line">[agent]</span><br><span class="line">...</span><br><span class="line">l2_population = True</span><br><span class="line"><span class="built_in">enable</span>_distributed_routing = True</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑l3_agent.ini</span></span><br><span class="line">vi /etc/neutron/l3_agent.ini</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">verbose = True</span><br><span class="line">interface_driver = neutron.agent.linux.interface.OVSInterfaceDriver</span><br><span class="line">external_network_bridge =</span><br><span class="line">router_delete_namespaces = True</span><br><span class="line">agent_mode = dvr</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑metadata_agent.ini</span></span><br><span class="line">vi /etc/neutron/metadata_agent.ini</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line">...</span><br><span class="line">auth_uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span></span><br><span class="line">auth_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">35357</span></span><br><span class="line">auth_region = RegionOne</span><br><span class="line">auth_plugin = password</span><br><span class="line">project_domain_id = default</span><br><span class="line">user_domain_id = default</span><br><span class="line">project_name = service</span><br><span class="line">username = neutron</span><br><span class="line">password = redhatnova_metadata_ip = <span class="number">10.30</span>.<span class="number">0.10</span> </span><br><span class="line">metadata_proxy_shared_secret = redhat</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑ifcfg-enp0s8</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s8</span><br><span class="line"></span><br><span class="line">DEVICE=enp0s8</span><br><span class="line">NM_CONTROLLED=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NAME=enp0s8</span><br><span class="line">DEVICETYPE=ovs</span><br><span class="line">OVS_BRIDGE=br-ex</span><br><span class="line">TYPE=OVSPort</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑ifcfg-br-ex</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-br-ex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DEVICE=br-ex</span><br><span class="line">STP=no</span><br><span class="line">BRIDGING_OPTS=priority=<span class="number">32768</span></span><br><span class="line">TYPE=OVSBridge</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=no</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_PEERDNS=yes</span><br><span class="line">IPV6_PEERROUTES=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">NAME=br-ex</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line">PREFIX=<span class="number">24</span></span><br><span class="line">GATEWAY=<span class="number">10.30</span>.<span class="number">0.1</span></span><br><span class="line">DEVICETYPE=ovs</span><br><span class="line">USERCTL=yes</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启openvswitch服务</span></span><br><span class="line">ovs-vsctl add-br br-ex</span><br><span class="line">systemctl restart network.service</span><br><span class="line">systemctl <span class="built_in">enable</span> neutron<span class="operator">-l</span>3-agent.service neutron-metadata-agent.service</span><br><span class="line">systemctl start neutron<span class="operator">-l</span>3-agent.service neutron-metadata-agent.service</span><br><span class="line">systemctl restart openvswitch.service</span><br><span class="line">systemctl restart neutron-openvswitch-agent.service</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Controller Node</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#重启openvswitch服务</span></span><br><span class="line">systemctl restart neutron-server.service</span><br><span class="line">systemctl restart neutron-openvswitch-agent.service neutron<span class="operator">-l</span>3-agent.service neutron-dhcp-agent.service neutron-metadata-agent.service</span><br><span class="line">systemctl restart openvswitch.service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Network Initialization &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> demo-openrc.sh</span><br><span class="line">neutron subnet-create private <span class="number">192.168</span>.<span class="number">100.0</span>/<span class="number">24</span> --name private-subnet --gateway <span class="number">192.168</span>.<span class="number">100.1</span></span><br><span class="line">neutron router-create private-router</span><br><span class="line">neutron router-interface-add private-router private-subnet</span><br><span class="line">neutron router-gateway-set private-router public</span><br><span class="line">nova boot --flavor m1.tiny --image cirros-in-fs --nic net-id=$(neutron net-list | awk <span class="string">'/ private / &#123;print $2&#125;'</span>) --security-group default --key-name demo-key instance2</span><br><span class="line">neutron floatingip-create public</span><br><span class="line">+---------------------+--------------------------------------+</span><br><span class="line">| Field               | Value                                |</span><br><span class="line">+---------------------+--------------------------------------+</span><br><span class="line">| fixed_ip_address    |                                      |</span><br><span class="line">| floating_ip_address | <span class="number">10.30</span>.<span class="number">0.103</span>                          |</span><br><span class="line">| floating_network_id | <span class="number">987</span>d51e4-<span class="number">28</span>f9-<span class="number">4861</span>-<span class="number">8020</span>-fc455916f441 |</span><br><span class="line">| id                  | b6cff8cf-b0f5-<span class="number">4051</span>-<span class="number">800</span>a-<span class="number">9</span>a90b7931d2e |</span><br><span class="line">| port_id             |                                      |</span><br><span class="line">| router_id           |                                      |</span><br><span class="line">| status              | DOWN                                 |</span><br><span class="line">| tenant_id           | <span class="number">0498</span>aa8db8114baaa01bc0830f00dac6     |</span><br><span class="line">+---------------------+--------------------------------------+</span><br><span class="line"></span><br><span class="line"><span class="comment">#nova floating-ip-associate instance2 $FLOATINGIP</span></span><br><span class="line">nova floating-ip-associate instance2 <span class="number">10.30</span>.<span class="number">0.103</span></span><br></pre></td></tr></table></figure>
<h2 id="Neutron_SDN">Neutron SDN</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- mode: ruby -*-</span></span><br><span class="line"><span class="comment"># vi: set ft=ruby :</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># All Vagrant configuration is done below. The "2" in Vagrant.configure</span></span><br><span class="line"><span class="comment"># configures the configuration version (we support older styles for</span></span><br><span class="line"><span class="comment"># backwards compatibility). Please don't change it unless you know what</span></span><br><span class="line"><span class="comment"># you're doing.</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$script</span> = &lt;&lt;<span class="constant">SCRIPT</span></span><br><span class="line">echo doing provision...</span><br><span class="line"><span class="keyword">if</span> [ ! <span class="variable">$LANG</span> = <span class="string">"en_US.UTF-8"</span> ]; <span class="keyword">then</span></span><br><span class="line">    echo <span class="string">"export LC_ALL=en_US.UTF-8"</span> <span class="prompt">&gt;&gt; </span>/root/.bashrc</span><br><span class="line">fi</span><br><span class="line">echo -e <span class="string">"10.30.0.10\tnode-1.example.com\tnode-1\n10.30.0.11\tnode-2.example.com\tnode-2\n10.30.0.12\tnode-3.example.com\tnode-3"</span> <span class="prompt">&gt;&gt; </span>/etc/hosts</span><br><span class="line">echo -e <span class="string">"192.168.0.10\tnode-1.example.com\tnode-1\n192.168.0.11\tnode-2.example.com\tnode-2\n192.168.0.12\tnode-3.example.com\tnode-3"</span> <span class="prompt">&gt;&gt; </span>/etc/hosts</span><br><span class="line">rm -f /etc/yum.repos.d/*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install -y wget &amp;&amp; wget -<span class="constant">O</span> /etc/yum.repos.d/rh-openstack-<span class="number">7</span>-el7.repo <span class="symbol">http:</span>/<span class="regexp">/192.168.1.100/content</span><span class="regexp">/cfgfile/rh</span>-openstack-<span class="number">7</span>-el7.repo</span><br><span class="line">yum install -y wget &amp;&amp; wget -<span class="constant">O</span> /etc/yum.repos.d/rh-rhel-<span class="number">7</span>-el7.repo <span class="symbol">http:</span>/<span class="regexp">/192.168.1.100/content</span><span class="regexp">/cfgfile/rh</span>-rhel-<span class="number">7</span>-el7.repo</span><br><span class="line"></span><br><span class="line">echo done...</span><br><span class="line"><span class="constant">SCRIPT</span></span><br><span class="line"></span><br><span class="line"><span class="constant">Vagrant</span>.configure(<span class="number">2</span>) <span class="keyword">do</span> |config|</span><br><span class="line">  config.vm.define <span class="symbol">:node1</span> <span class="keyword">do</span> |node1|</span><br><span class="line">    node1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node1.vm.hostname = <span class="string">"node-1.example.com"</span>    </span><br><span class="line">    node1.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">80</span>, <span class="symbol">host:</span> <span class="number">18080</span></span><br><span class="line">    node1.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">22</span>, <span class="symbol">host:</span> <span class="number">12222</span></span><br><span class="line">    node1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">2048</span></span><br><span class="line">      v.cpus = <span class="number">2</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:node2</span> <span class="keyword">do</span> |node2|</span><br><span class="line">    node2.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node2.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node2.vm.hostname = <span class="string">"node-2.example.com"</span>    </span><br><span class="line">    node2.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node2.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node2.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node2.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:node3</span> <span class="keyword">do</span> |node3|</span><br><span class="line">    node3.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node3.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node3.vm.hostname = <span class="string">"node-3.example.com"</span></span><br><span class="line">    node3.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node3.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node3.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.12"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node3.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.12"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:network1</span> <span class="keyword">do</span> |network1|</span><br><span class="line">    network1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    network1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    network1.vm.hostname = <span class="string">"network1.example.com"</span></span><br><span class="line">    network1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"network1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">2048</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    network1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    network1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"172.16.10.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:compute1</span> <span class="keyword">do</span> |compute1|</span><br><span class="line">    compute1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    compute1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    compute1.vm.hostname = <span class="string">"compute1.example.com"</span></span><br><span class="line">    compute1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"compute1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    compute1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    compute1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"172.16.10.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment">#Neutron SDN  Manual Installation</span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 安装网络节点（network1）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Vagrant</span></span><br><span class="line">vagrant up network1</span><br><span class="line">vagrant up compute1</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置ifcfg-enp0s8</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s8</span><br><span class="line"></span><br><span class="line">NM_CONTROLLED=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line">DEVICE=enp0s8</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置ifcfg-enp0s9</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s9</span><br><span class="line"></span><br><span class="line">NM_CONTROLLED=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">172.16</span>.<span class="number">10.10</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line">DEVICE=enp0s9</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启网络服务</span></span><br><span class="line">systemctl restart network</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装需要用到的包</span></span><br><span class="line">yum install libvirt openvswitch python-virtinst xauth tigervnc qemu-kvm-rhev -y</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动libvirt和openvswitch</span></span><br><span class="line"></span><br><span class="line">systemctl <span class="built_in">enable</span> libvirtd openvswitch</span><br><span class="line">systemctl restart libvirtd openvswitch</span><br><span class="line">firewall-cmd  --set-default-zone=trusted</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"><span class="comment">#移除默认的libvirt 网络，方便清晰分析网络情况</span></span><br><span class="line">virsh net-destroy default</span><br><span class="line">virsh net-autostart --disable default</span><br><span class="line">virsh net-undefine default</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置允许ipforwarding</span></span><br><span class="line">vi /etc/sysctl.conf </span><br><span class="line"></span><br><span class="line">net.ipv4.ip_forward=<span class="number">1</span></span><br><span class="line">net.ipv4.conf.all.rp_filter=<span class="number">0</span></span><br><span class="line">net.ipv4.conf.default.rp_filter=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#立即生效</span></span><br><span class="line">sysctl -p</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个linux bridge</span></span><br><span class="line">brctl addbr qbr01</span><br><span class="line">ip link <span class="built_in">set</span> qbr01 up</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个instance，并连接到qbr01 Bridge，网络接口部分配置如下</span></span><br><span class="line">mkdir /data/gre -p</span><br><span class="line">vi /data/gre/instance1.xml</span><br><span class="line"></span><br><span class="line">&lt;domain <span class="built_in">type</span>=<span class="string">"qemu"</span>&gt;</span><br><span class="line">  &lt;uuid&gt;<span class="number">9</span>b43dbac-<span class="number">450</span>c-<span class="number">45</span>e0-<span class="number">8755</span>-bfd485183212&lt;/uuid&gt;</span><br><span class="line">  &lt;name&gt;instance1&lt;/name&gt;</span><br><span class="line">  &lt;memory&gt;<span class="number">524288</span>&lt;/memory&gt;</span><br><span class="line">  &lt;vcpu&gt;<span class="number">1</span>&lt;/vcpu&gt;</span><br><span class="line">  &lt;sysinfo <span class="built_in">type</span>=<span class="string">"smbios"</span>&gt;</span><br><span class="line">    &lt;system&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"manufacturer"</span>&gt;Red Hat Inc.&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"product"</span>&gt;OpenStack Nova&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"version"</span>&gt;<span class="number">2014.1</span>.<span class="number">1</span>-<span class="number">3</span>.el6&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"serial"</span>&gt;<span class="number">6</span>b348fa3-ccf4-<span class="number">420</span>d-b4f2-<span class="number">2</span>a894357d637&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"uuid"</span>&gt;<span class="number">9</span>b43dbac-<span class="number">450</span>c-<span class="number">45</span>e0-<span class="number">8755</span>-bfd485183212&lt;/entry&gt;</span><br><span class="line">    &lt;/system&gt;</span><br><span class="line">  &lt;/sysinfo&gt;</span><br><span class="line">  &lt;os&gt;</span><br><span class="line">    &lt;<span class="built_in">type</span>&gt;hvm&lt;/<span class="built_in">type</span>&gt;</span><br><span class="line">    &lt;boot dev=<span class="string">"hd"</span>/&gt;</span><br><span class="line">    &lt;smbios mode=<span class="string">"sysinfo"</span>/&gt;</span><br><span class="line">  &lt;/os&gt;</span><br><span class="line">  &lt;features&gt;</span><br><span class="line">    &lt;acpi/&gt;</span><br><span class="line">    &lt;apic/&gt;</span><br><span class="line">  &lt;/features&gt;</span><br><span class="line">  &lt;clock offset=<span class="string">"utc"</span>/&gt;</span><br><span class="line">  &lt;cpu mode=<span class="string">"host-model"</span> match=<span class="string">"exact"</span>/&gt;</span><br><span class="line">  &lt;devices&gt;</span><br><span class="line">    &lt;disk <span class="built_in">type</span>=<span class="string">"file"</span> device=<span class="string">"disk"</span>&gt;</span><br><span class="line">      &lt;driver name=<span class="string">"qemu"</span> <span class="built_in">type</span>=<span class="string">"qcow2"</span> cache=<span class="string">"none"</span>/&gt;</span><br><span class="line">      &lt;<span class="built_in">source</span> file=<span class="string">"/data/gre/instance1.img"</span>/&gt;</span><br><span class="line">      &lt;target bus=<span class="string">"virtio"</span> dev=<span class="string">"vda"</span>/&gt;</span><br><span class="line">    &lt;/disk&gt;</span><br><span class="line">    &lt;interface <span class="built_in">type</span>=<span class="string">'bridge'</span>&gt;</span><br><span class="line">      &lt;<span class="built_in">source</span> bridge=<span class="string">'qbr01'</span>/&gt;</span><br><span class="line">      &lt;target dev=<span class="string">'tap01'</span>/&gt;</span><br><span class="line">      &lt;model <span class="built_in">type</span>=<span class="string">'virtio'</span>/&gt;</span><br><span class="line">      &lt;driver name=<span class="string">'qemu'</span>/&gt;</span><br><span class="line">      &lt;address <span class="built_in">type</span>=<span class="string">'pci'</span> domain=<span class="string">'0x0000'</span> bus=<span class="string">'0x00'</span> slot=<span class="string">'0x03'</span> <span class="keyword">function</span>=<span class="string">'0x0'</span>/&gt;</span><br><span class="line">    &lt;/interface&gt;</span><br><span class="line">    &lt;serial <span class="built_in">type</span>=<span class="string">"file"</span>&gt;</span><br><span class="line">      &lt;<span class="built_in">source</span> path=<span class="string">"/data/gre/instance1.log"</span>/&gt;</span><br><span class="line">    &lt;/serial&gt;</span><br><span class="line">    &lt;serial <span class="built_in">type</span>=<span class="string">"pty"</span>/&gt;</span><br><span class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"tablet"</span> bus=<span class="string">"usb"</span>/&gt;</span><br><span class="line">    &lt;graphics <span class="built_in">type</span>=<span class="string">"vnc"</span> autoport=<span class="string">"yes"</span> keymap=<span class="string">"en-us"</span> listen=<span class="string">"0.0.0.0"</span>/&gt;</span><br><span class="line">    &lt;video&gt;</span><br><span class="line">      &lt;model <span class="built_in">type</span>=<span class="string">"cirrus"</span>/&gt;</span><br><span class="line">    &lt;/video&gt;</span><br><span class="line">  &lt;/devices&gt;</span><br><span class="line">&lt;/domain&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /data/gre/</span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/images/vdisk/cirros-<span class="number">0.3</span>.<span class="number">1</span>-x86_64-disk.img</span><br><span class="line">mv cirros-<span class="number">0.3</span>.<span class="number">1</span>-x86_64-disk.img instance1.img</span><br><span class="line">virsh define instance1.xml</span><br><span class="line">virsh start instance1</span><br><span class="line">virsh vncdisplay instance1</span><br><span class="line">vncviewer :<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#启动console 以后,登录添加ip 地址 192.168.1.10</span></span><br><span class="line">ip addr add <span class="number">192.168</span>.<span class="number">1.10</span>/<span class="number">24</span> dev eth0</span><br><span class="line">route add default gw <span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个内部bridge br-int， 模拟 OpenStack integrated bridge</span></span><br><span class="line">ovs-vsctl add-br br-int</span><br><span class="line">ovs-vsctl add-port br-int gre0 -- <span class="built_in">set</span> interface gre0 <span class="built_in">type</span>=gre options:remote_ip=<span class="number">172.16</span>.<span class="number">10.11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个veth peer，连接Linux Bridge 'qbr01' 和 OpenvSwich Bridge 'br-ini'</span></span><br><span class="line">ip link add qvo01 <span class="built_in">type</span> veth peer name qvb01</span><br><span class="line">brctl addif qbr01 qvb01</span><br><span class="line">ovs-vsctl add-port br-int qvo01</span><br><span class="line">ovs-vsctl <span class="built_in">set</span> port qvo01 tag=<span class="number">100</span></span><br><span class="line">ip link <span class="built_in">set</span> qvb01 up</span><br><span class="line">ip link <span class="built_in">set</span> qvo01 up</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看现在network1上的 br-int</span></span><br><span class="line">ovs-vsctl show</span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 安装计算节点(compute1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#网络接口配置</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s8</span><br><span class="line"></span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line">DEVICE=enp0s8</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络接口配置</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s9</span><br><span class="line"></span><br><span class="line">NM_CONTROLLED=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">172.16</span>.<span class="number">10.11</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line">DEVICE=enp0s9</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启网络服务</span></span><br><span class="line">service network restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装需要用到的包</span></span><br><span class="line">yum install libvirt openvswitch python-virtinst xauth tigervnc</span><br><span class="line"></span><br><span class="line"><span class="comment">#移除libvirt 默认的网络</span></span><br><span class="line">virsh net-destroy default</span><br><span class="line">virsh net-autostart --disable default</span><br><span class="line">virsh net-undefine default</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置允许ipforwarding</span></span><br><span class="line">vi /etc/sysctl.conf </span><br><span class="line"></span><br><span class="line">net.ipv4.ip_forward=<span class="number">1</span></span><br><span class="line">net.ipv4.conf.all.rp_filter=<span class="number">0</span></span><br><span class="line">net.ipv4.conf.default.rp_filter=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#立即生效</span></span><br><span class="line">sysctl -p</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动libvirt和openvswitch</span></span><br><span class="line">systemctl <span class="built_in">enable</span> libvirtd openvswitch</span><br><span class="line">systemctl restart libvirtd openvswitch</span><br><span class="line">firewall-cmd  --set-default-zone=trusted</span><br><span class="line">firewall-cmd  --reload</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个linux bridge</span></span><br><span class="line">brctl addbr qbr02</span><br><span class="line">ip link <span class="built_in">set</span> qbr02 up</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个vm，并连接到qbr02</span></span><br><span class="line">mkdir -p /data/gre</span><br><span class="line">vi /data/gre/instance2.xml</span><br><span class="line"></span><br><span class="line">&lt;domain <span class="built_in">type</span>=<span class="string">"qemu"</span>&gt;</span><br><span class="line">  &lt;uuid&gt;<span class="number">9</span>b43dbac-<span class="number">450</span>c-<span class="number">45</span>e0-<span class="number">8755</span>-bfd485183212&lt;/uuid&gt;</span><br><span class="line">  &lt;name&gt;instance2&lt;/name&gt;</span><br><span class="line">  &lt;memory&gt;<span class="number">524288</span>&lt;/memory&gt;</span><br><span class="line">  &lt;vcpu&gt;<span class="number">1</span>&lt;/vcpu&gt;</span><br><span class="line">  &lt;sysinfo <span class="built_in">type</span>=<span class="string">"smbios"</span>&gt;</span><br><span class="line">    &lt;system&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"manufacturer"</span>&gt;Red Hat Inc.&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"product"</span>&gt;OpenStack Nova&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"version"</span>&gt;<span class="number">2015.1</span>.<span class="number">1</span>-<span class="number">3</span>.el7ost&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"serial"</span>&gt;<span class="number">6</span>b348fa3-ccf4-<span class="number">420</span>d-b4f2-<span class="number">2</span>a894357d637&lt;/entry&gt;</span><br><span class="line">      &lt;entry name=<span class="string">"uuid"</span>&gt;<span class="number">9</span>b43dbac-<span class="number">450</span>c-<span class="number">45</span>e0-<span class="number">8755</span>-bfd485183212&lt;/entry&gt;</span><br><span class="line">    &lt;/system&gt;</span><br><span class="line">  &lt;/sysinfo&gt;</span><br><span class="line">  &lt;os&gt;</span><br><span class="line">    &lt;<span class="built_in">type</span>&gt;hvm&lt;/<span class="built_in">type</span>&gt;</span><br><span class="line">    &lt;boot dev=<span class="string">"hd"</span>/&gt;</span><br><span class="line">    &lt;smbios mode=<span class="string">"sysinfo"</span>/&gt;</span><br><span class="line">  &lt;/os&gt;</span><br><span class="line">  &lt;features&gt;</span><br><span class="line">    &lt;acpi/&gt;</span><br><span class="line">    &lt;apic/&gt;</span><br><span class="line">  &lt;/features&gt;</span><br><span class="line">  &lt;clock offset=<span class="string">"utc"</span>/&gt;</span><br><span class="line">  &lt;cpu mode=<span class="string">"host-model"</span> match=<span class="string">"exact"</span>/&gt;</span><br><span class="line">  &lt;devices&gt;</span><br><span class="line">    &lt;disk <span class="built_in">type</span>=<span class="string">"file"</span> device=<span class="string">"disk"</span>&gt;</span><br><span class="line">      &lt;driver name=<span class="string">"qemu"</span> <span class="built_in">type</span>=<span class="string">"qcow2"</span> cache=<span class="string">"none"</span>/&gt;</span><br><span class="line">      &lt;<span class="built_in">source</span> file=<span class="string">"/data/gre/instance2.img"</span>/&gt;</span><br><span class="line">      &lt;target bus=<span class="string">"virtio"</span> dev=<span class="string">"vda"</span>/&gt;</span><br><span class="line">    &lt;/disk&gt;</span><br><span class="line">    &lt;interface <span class="built_in">type</span>=<span class="string">'bridge'</span>&gt;</span><br><span class="line">      &lt;<span class="built_in">source</span> bridge=<span class="string">'qbr02'</span>/&gt;</span><br><span class="line">      &lt;target dev=<span class="string">'tap02'</span>/&gt;</span><br><span class="line">      &lt;model <span class="built_in">type</span>=<span class="string">'virtio'</span>/&gt;</span><br><span class="line">      &lt;driver name=<span class="string">'qemu'</span>/&gt;</span><br><span class="line">      &lt;address <span class="built_in">type</span>=<span class="string">'pci'</span> domain=<span class="string">'0x0000'</span> bus=<span class="string">'0x00'</span> slot=<span class="string">'0x03'</span> <span class="keyword">function</span>=<span class="string">'0x0'</span>/&gt;</span><br><span class="line">    &lt;/interface&gt;</span><br><span class="line">    &lt;serial <span class="built_in">type</span>=<span class="string">"file"</span>&gt;</span><br><span class="line">      &lt;<span class="built_in">source</span> path=<span class="string">"/data/gre/instance2.log"</span>/&gt;</span><br><span class="line">    &lt;/serial&gt;</span><br><span class="line">    &lt;serial <span class="built_in">type</span>=<span class="string">"pty"</span>/&gt;</span><br><span class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"tablet"</span> bus=<span class="string">"usb"</span>/&gt;</span><br><span class="line">    &lt;graphics <span class="built_in">type</span>=<span class="string">"vnc"</span> autoport=<span class="string">"yes"</span> keymap=<span class="string">"en-us"</span> listen=<span class="string">"0.0.0.0"</span>/&gt;</span><br><span class="line">    &lt;video&gt;</span><br><span class="line">      &lt;model <span class="built_in">type</span>=<span class="string">"cirrus"</span>/&gt;</span><br><span class="line">    &lt;/video&gt;</span><br><span class="line">  &lt;/devices&gt;</span><br><span class="line">&lt;/domain&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /data/gre/</span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/images/vdisk/cirros-<span class="number">0.3</span>.<span class="number">1</span>-x86_64-disk.img</span><br><span class="line">mv cirros-<span class="number">0.3</span>.<span class="number">1</span>-x86_64-disk.img instance2.img</span><br><span class="line">virsh define instance2.xml</span><br><span class="line">virsh start instance2</span><br><span class="line">virsh vncdisplay instance2</span><br><span class="line">vncviewer :<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#启动console 以后,登录添加ip得知 192.168.1.11</span></span><br><span class="line">ip addr add <span class="number">192.168</span>.<span class="number">1.11</span>/<span class="number">24</span> dev eth0</span><br><span class="line">route add default gw <span class="number">192.168</span>.<span class="number">1.1</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个内部bridge br-int， 模拟 OpenStack integrated bridge</span></span><br><span class="line">ovs-vsctl add-br br-int</span><br><span class="line">ovs-vsctl add-port br-int gre0 -- <span class="built_in">set</span> interface gre0 <span class="built_in">type</span>=gre options:remote_ip=<span class="number">172.16</span>.<span class="number">10.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个veth peer，连接Linux Bridge 'qbr02' 和 OpenvSwich Bridge 'br-ini'</span></span><br><span class="line">ip link add qvo02 <span class="built_in">type</span> veth peer name qvb02</span><br><span class="line">brctl addif qbr02 qvb02</span><br><span class="line">ovs-vsctl add-port br-int qvo02</span><br><span class="line">ovs-vsctl <span class="built_in">set</span> port qvo02 tag=<span class="number">100</span></span><br><span class="line">ip link <span class="built_in">set</span> qvb02 up</span><br><span class="line">ip link <span class="built_in">set</span> qvo02 up</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看现在network1 上的 br-int</span></span><br><span class="line">ovs-vsctl show</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查是否能连通instance1，在instance2的控制台</span></span><br><span class="line">ping <span class="number">192.168</span>.<span class="number">1.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通过 Network Namespace 实现租户私有网络互访</span></span><br><span class="line"><span class="comment">#添加一个namespace，dhcp01用于隔离租户网络。</span></span><br><span class="line">ip netns add dhcp01</span><br><span class="line"></span><br><span class="line"><span class="comment">#为私有网络192.168.1.0/24 ，在命名空间dhcp01 中 创建dhcp 服务</span></span><br><span class="line">ovs-vsctl add-port br-int tapdhcp01 -- <span class="built_in">set</span> interface tapdhcp01 <span class="built_in">type</span>=internal</span><br><span class="line">ovs-vsctl <span class="built_in">set</span> port tapdhcp01 tag=<span class="number">100</span></span><br><span class="line">ip link <span class="built_in">set</span> tapdhcp01 netns dhcp01</span><br><span class="line">ip netns <span class="built_in">exec</span> dhcp01 ip addr add <span class="number">192.168</span>.<span class="number">1.2</span>/<span class="number">24</span> dev tapdhcp01</span><br><span class="line">ip netns <span class="built_in">exec</span> dhcp01 ip link <span class="built_in">set</span> tapdhcp01 up</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查网络是否连通，在namespace 访问instance1 和 instance2</span></span><br><span class="line">ip netns <span class="built_in">exec</span> dhcp01 ping <span class="number">192.168</span>.<span class="number">1.10</span></span><br><span class="line">ip netns <span class="built_in">exec</span> dhcp01 ping <span class="number">192.168</span>.<span class="number">1.11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通过 Network Namespace 和Iptables 实现L3 router</span></span><br><span class="line">ovs-vsctl add-br br-ex</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置enp0s8</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-enp0s8</span><br><span class="line"></span><br><span class="line">DEVICE=enp0s8</span><br><span class="line">NM_CONTROLLED=no</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NAME=enp0s8</span><br><span class="line">DEVICETYPE=ovs</span><br><span class="line">OVS_BRIDGE=br-ex</span><br><span class="line">TYPE=OVSPort</span><br><span class="line">PEERDNS=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置br-ex</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-br-ex</span><br><span class="line"></span><br><span class="line">DEVICE=br-ex</span><br><span class="line">STP=no</span><br><span class="line">BRIDGING_OPTS=priority=<span class="number">32768</span></span><br><span class="line">TYPE=OVSBridge</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=no</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_PEERDNS=yes</span><br><span class="line">IPV6_PEERROUTES=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">NAME=br-ex</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">PREFIX=<span class="number">24</span></span><br><span class="line">DEVICETYPE=ovs</span><br><span class="line">USERCTL=yes</span><br><span class="line"></span><br><span class="line"><span class="comment">#重启启动网络服务</span></span><br><span class="line">ovs-vsctl add-port br-ex enp0s8 &amp;&amp; service network restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查网络，配置后是否连通</span></span><br><span class="line">ping <span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加一个namespace，router01 用于路由和floating ip 分配</span></span><br><span class="line">ip netns add router01</span><br><span class="line"></span><br><span class="line"><span class="comment">#在br-int添加一个接口，作为私有网络192.168.1.0/24的网关</span></span><br><span class="line"></span><br><span class="line">ovs-vsctl add-port br-int qr01 -- <span class="built_in">set</span> interface qr01 <span class="built_in">type</span>=internal</span><br><span class="line">ovs-vsctl <span class="built_in">set</span> port qr01 tag=<span class="number">100</span></span><br><span class="line">ip link <span class="built_in">set</span> qr01 netns router01</span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip addr add <span class="number">192.168</span>.<span class="number">1.1</span>/<span class="number">24</span> dev qr01</span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip link <span class="built_in">set</span> qr01 up</span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip link <span class="built_in">set</span> lo up</span><br><span class="line"></span><br><span class="line"><span class="comment">#在br-ex中添加一个接口，用于私网192.168.1.0/24设置下一跳地址</span></span><br><span class="line">ovs-vsctl add-port br-ex qg01 -- <span class="built_in">set</span> interface qg01  <span class="built_in">type</span>=internal</span><br><span class="line">ip link <span class="built_in">set</span> qg01  netns router01</span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip addr add <span class="number">10.30</span>.<span class="number">0.100</span>/<span class="number">24</span> dev qg01 </span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip link <span class="built_in">set</span> qg01 up</span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip link <span class="built_in">set</span> lo up</span><br><span class="line"></span><br><span class="line"><span class="comment">#模拟分配floating ip 访问instance1</span></span><br><span class="line"><span class="comment">#为instance1 192.168.1.11 分配floating ip，172.16.0.101</span></span><br><span class="line">ip netns <span class="built_in">exec</span> router01 ip addr add <span class="number">10.30</span>.<span class="number">0.101</span>/<span class="number">32</span> dev qg01 </span><br><span class="line">ip netns <span class="built_in">exec</span> router01  iptables -t nat -A OUTPUT <span class="operator">-d</span> <span class="number">10.30</span>.<span class="number">0.101</span>/<span class="number">32</span>  -j DNAT --to-destination <span class="number">192.168</span>.<span class="number">1.10</span></span><br><span class="line">ip netns <span class="built_in">exec</span> router01  iptables -t nat -A PREROUTING <span class="operator">-d</span> <span class="number">10.30</span>.<span class="number">0.101</span>/<span class="number">32</span> -j DNAT --to-destination <span class="number">192.168</span>.<span class="number">1.10</span></span><br><span class="line">ip netns <span class="built_in">exec</span> router01  iptables -t nat -A POSTROUTING <span class="operator">-s</span> <span class="number">192.168</span>.<span class="number">1.10</span>/<span class="number">32</span> -j SNAT --to-source <span class="number">10.30</span>.<span class="number">0.101</span></span><br><span class="line">ip netns <span class="built_in">exec</span> router01  iptables -t nat -A POSTROUTING <span class="operator">-s</span> <span class="number">192.168</span>.<span class="number">1.0</span>/<span class="number">24</span> -j SNAT --to-source <span class="number">10.30</span>.<span class="number">0.100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#测试floating ip</span></span><br><span class="line">ping <span class="number">10.30</span>.<span class="number">0.101</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果需要清除nat chain</span></span><br><span class="line">iptables -t nat -F</span><br></pre></td></tr></table></figure>
<h2 id="OpenStack_PackStack">OpenStack PackStack</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- mode: ruby -*-</span></span><br><span class="line"><span class="comment"># vi: set ft=ruby :</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># All Vagrant configuration is done below. The "2" in Vagrant.configure</span></span><br><span class="line"><span class="comment"># configures the configuration version (we support older styles for</span></span><br><span class="line"><span class="comment"># backwards compatibility). Please don't change it unless you know what</span></span><br><span class="line"><span class="comment"># you're doing.</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$script</span> = &lt;&lt;<span class="constant">SCRIPT</span></span><br><span class="line">echo doing provision...</span><br><span class="line"><span class="keyword">if</span> [ ! <span class="variable">$LANG</span> = <span class="string">"en_US.UTF-8"</span> ]; <span class="keyword">then</span></span><br><span class="line">    echo <span class="string">"export LC_ALL=en_US.UTF-8"</span> <span class="prompt">&gt;&gt; </span>/root/.bashrc</span><br><span class="line">fi</span><br><span class="line">echo -e <span class="string">"10.30.0.10\tnode-1.example.com\tnode-1\n10.30.0.11\tnode-2.example.com\tnode-2\n10.30.0.12\tnode-3.example.com\tnode-3"</span> <span class="prompt">&gt;&gt; </span>/etc/hosts</span><br><span class="line">echo -e <span class="string">"192.168.0.10\tnode-1.example.com\tnode-1\n192.168.0.11\tnode-2.example.com\tnode-2\n192.168.0.12\tnode-3.example.com\tnode-3"</span> <span class="prompt">&gt;&gt; </span>/etc/hosts</span><br><span class="line">rm -f /etc/yum.repos.d/*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install -y wget &amp;&amp; wget -<span class="constant">O</span> /etc/yum.repos.d/rh-openstack-<span class="number">7</span>-el7.repo <span class="symbol">http:</span>/<span class="regexp">/192.168.1.100/content</span><span class="regexp">/cfgfile/rh</span>-openstack-<span class="number">7</span>-el7.repo</span><br><span class="line">yum install -y wget &amp;&amp; wget -<span class="constant">O</span> /etc/yum.repos.d/rh-rhel-<span class="number">7</span>-el7.repo <span class="symbol">http:</span>/<span class="regexp">/192.168.1.100/content</span><span class="regexp">/cfgfile/rh</span>-rhel-<span class="number">7</span>-el7.repo</span><br><span class="line"></span><br><span class="line">echo done...</span><br><span class="line"><span class="constant">SCRIPT</span></span><br><span class="line"></span><br><span class="line"><span class="constant">Vagrant</span>.configure(<span class="number">2</span>) <span class="keyword">do</span> |config|</span><br><span class="line">  config.vm.define <span class="symbol">:node1</span> <span class="keyword">do</span> |node1|</span><br><span class="line">    node1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node1.vm.hostname = <span class="string">"node-1.example.com"</span>    </span><br><span class="line">    node1.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">80</span>, <span class="symbol">host:</span> <span class="number">18080</span></span><br><span class="line">    node1.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">22</span>, <span class="symbol">host:</span> <span class="number">12222</span></span><br><span class="line">    node1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">2048</span></span><br><span class="line">      v.cpus = <span class="number">2</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:node2</span> <span class="keyword">do</span> |node2|</span><br><span class="line">    node2.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node2.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node2.vm.hostname = <span class="string">"node-2.example.com"</span>    </span><br><span class="line">    node2.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node2.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node2.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node2.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:node3</span> <span class="keyword">do</span> |node3|</span><br><span class="line">    node3.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    node3.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    node3.vm.hostname = <span class="string">"node-3.example.com"</span></span><br><span class="line">    node3.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"node3.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    node3.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.12"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    node3.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"192.168.0.12"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:network1</span> <span class="keyword">do</span> |network1|</span><br><span class="line">    network1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    network1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    network1.vm.hostname = <span class="string">"network1.example.com"</span></span><br><span class="line">    network1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"network1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">2048</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    network1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    network1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"172.16.10.10"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  config.vm.define <span class="symbol">:compute1</span> <span class="keyword">do</span> |compute1|</span><br><span class="line">    compute1.vm.box = <span class="string">"rhel-7.1"</span></span><br><span class="line">    compute1.vm.provision <span class="string">"shell"</span>, <span class="symbol">inline:</span> <span class="variable">$script</span></span><br><span class="line">    compute1.vm.hostname = <span class="string">"compute1.example.com"</span></span><br><span class="line">    compute1.vm.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |v|  </span><br><span class="line">      v.name = <span class="string">"compute1.demo1"</span>  </span><br><span class="line">      v.memory = <span class="number">1024</span></span><br><span class="line">      v.cpus = <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    compute1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"10.30.0.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">    compute1.vm.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">"172.16.10.11"</span>, <span class="symbol">auto_config:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment">#OpenStack PackStack</span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Vagrant</span></span><br><span class="line">vagrant up network1</span><br><span class="line">vagrant up compute1</span><br><span class="line"></span><br><span class="line"><span class="comment">#Repository</span></span><br><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d</span><br><span class="line"></span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/repofiles/rh-ceph-<span class="number">1</span>-el7.repo   </span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/repofiles/rh-rhel-<span class="number">7</span>-el7.repo   </span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/repofiles/rh-rhelosp-<span class="number">7</span>-el7.repo</span><br><span class="line"></span><br><span class="line">yum clean all</span><br><span class="line">yum repolist</span><br><span class="line"></span><br><span class="line">yum install -y net-tools</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置packstack，失败可以反复执行</span></span><br><span class="line"><span class="built_in">cd</span> -</span><br><span class="line">yum install openstack-packstack -y</span><br><span class="line">packstack --answer-file=packstack-answers.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#packstack-answers.txt</span></span><br><span class="line">[general]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to a public key to install on servers. If a usable key has not</span></span><br><span class="line"><span class="comment"># been installed on the remote servers, the user is prompted for a</span></span><br><span class="line"><span class="comment"># password and this key is installed so the password will not be</span></span><br><span class="line"><span class="comment"># required again.</span></span><br><span class="line">CONFIG_SSH_KEY=/root/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default password to be used everywhere (overridden by passwords set</span></span><br><span class="line"><span class="comment"># for individual services or users).</span></span><br><span class="line">CONFIG_DEFAULT_PASSWORD=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install MariaDB.</span></span><br><span class="line">CONFIG_MARIADB_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Image Service (glance).</span></span><br><span class="line">CONFIG_GLANCE_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Block Storage (cinder).</span></span><br><span class="line">CONFIG_CINDER_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Shared File System (manila).</span></span><br><span class="line">CONFIG_MANILA_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Compute (nova).</span></span><br><span class="line">CONFIG_NOVA_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Networking (neutron); otherwise,</span></span><br><span class="line"><span class="comment"># Compute Networking (nova) will be used.</span></span><br><span class="line">CONFIG_NEUTRON_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Dashboard (horizon).</span></span><br><span class="line">CONFIG_HORIZON_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Object Storage (swift).</span></span><br><span class="line">CONFIG_SWIFT_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Metering (ceilometer).</span></span><br><span class="line">CONFIG_CEILOMETER_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Orchestration (heat).</span></span><br><span class="line">CONFIG_HEAT_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Data Processing (sahara).</span></span><br><span class="line">CONFIG_SAHARA_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Database (trove).</span></span><br><span class="line">CONFIG_TROVE_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Bare Metal Provisioning (ironic).</span></span><br><span class="line">CONFIG_IRONIC_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install the OpenStack Client packages (command-line</span></span><br><span class="line"><span class="comment"># tools). An admin "rc" file will also be installed.</span></span><br><span class="line">CONFIG_CLIENT_INSTALL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of NTP servers. Leave plain if Packstack</span></span><br><span class="line"><span class="comment"># should not install ntpd on instances.</span></span><br><span class="line">CONFIG_NTP_SERVERS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install Nagios to monitor OpenStack hosts. Nagios</span></span><br><span class="line"><span class="comment"># provides additional tools for monitoring the OpenStack environment.</span></span><br><span class="line">CONFIG_NAGIOS_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of servers to be excluded from the</span></span><br><span class="line"><span class="comment"># installation. This is helpful if you are running Packstack a second</span></span><br><span class="line"><span class="comment"># time with the same answer file and do not want Packstack to</span></span><br><span class="line"><span class="comment"># overwrite these server's configurations. Leave empty if you do not</span></span><br><span class="line"><span class="comment"># need to exclude any servers.</span></span><br><span class="line">EXCLUDE_SERVERS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to run OpenStack services in debug mode;</span></span><br><span class="line"><span class="comment"># otherwise, specify 'n'.</span></span><br><span class="line">CONFIG_DEBUG_MODE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP address of the server on which to install OpenStack services</span></span><br><span class="line"><span class="comment"># specific to the controller role (for example, API servers or</span></span><br><span class="line"><span class="comment"># dashboard).</span></span><br><span class="line">CONFIG_CONTROLLER_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List of IP addresses of the servers on which to install the Compute/</span></span><br><span class="line"><span class="comment"># service.</span></span><br><span class="line">CONFIG_COMPUTE_HOSTS=<span class="number">10.30</span>.<span class="number">0.11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List of IP addresses of the server on which to install the network</span></span><br><span class="line"><span class="comment"># service such as Compute networking (nova network) or OpenStack</span></span><br><span class="line"><span class="comment"># Networking (neutron).</span></span><br><span class="line">CONFIG_NETWORK_HOSTS=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to use VMware vCenter as hypervisor and</span></span><br><span class="line"><span class="comment"># storage; otherwise, specify 'n'.</span></span><br><span class="line">CONFIG_VMWARE_BACKEND=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to use unsupported parameters. This should</span></span><br><span class="line"><span class="comment"># be used only if you know what you are doing. Issues caused by using</span></span><br><span class="line"><span class="comment"># unsupported options will not be fixed before the next major release.</span></span><br><span class="line">CONFIG_UNSUPPORTED=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to use subnet addresses (in CIDR format)</span></span><br><span class="line"><span class="comment"># instead of interface names in following options:</span></span><br><span class="line"><span class="comment"># CONFIG_NOVA_COMPUTE_PRIVIF, CONFIG_NOVA_NETWORK_PRIVIF,</span></span><br><span class="line"><span class="comment"># CONFIG_NOVA_NETWORK_PUBIF, CONFIG_NEUTRON_OVS_BRIDGE_IFACES,</span></span><br><span class="line"><span class="comment"># CONFIG_NEUTRON_LB_INTERFACE_MAPPINGS, CONFIG_NEUTRON_OVS_TUNNEL_IF.</span></span><br><span class="line"><span class="comment"># This is useful for cases when interface names are not same on all</span></span><br><span class="line"><span class="comment"># installation hosts.</span></span><br><span class="line">CONFIG_USE_SUBNETS=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP address of the VMware vCenter server.</span></span><br><span class="line">CONFIG_VCENTER_HOST=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name for VMware vCenter server authentication.</span></span><br><span class="line">CONFIG_VCENTER_USER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for VMware vCenter server authentication.</span></span><br><span class="line">CONFIG_VCENTER_PASSWORD=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the VMware vCenter cluster.</span></span><br><span class="line">CONFIG_VCENTER_CLUSTER_NAME=</span><br><span class="line"></span><br><span class="line"><span class="comment"># (Unsupported!) IP address of the server on which to install</span></span><br><span class="line"><span class="comment"># OpenStack services specific to storage servers such as Image or</span></span><br><span class="line"><span class="comment"># Block Storage services.</span></span><br><span class="line">CONFIG_STORAGE_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (Unsupported!) IP address of the server on which to install</span></span><br><span class="line"><span class="comment"># OpenStack services specific to OpenStack Data Processing (sahara).</span></span><br><span class="line">CONFIG_SAHARA_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to enable the EPEL repository (Extra Packages for</span></span><br><span class="line"><span class="comment"># Enterprise Linux).</span></span><br><span class="line">CONFIG_USE_EPEL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of URLs for any additional yum repositories,</span></span><br><span class="line"><span class="comment"># to use for installation.</span></span><br><span class="line">CONFIG_REPO=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to enable the RDO testing repository.</span></span><br><span class="line">CONFIG_ENABLE_RDO_TESTING=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># To subscribe each server with Red Hat Subscription Manager, include</span></span><br><span class="line"><span class="comment"># this with CONFIG_RH_PW.</span></span><br><span class="line">CONFIG_RH_USER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># To subscribe each server to receive updates from a Satellite</span></span><br><span class="line"><span class="comment"># server, provide the URL of the Satellite server. You must also</span></span><br><span class="line"><span class="comment"># provide a user name (CONFIG_SATELLITE_USERNAME) and password</span></span><br><span class="line"><span class="comment"># (CONFIG_SATELLITE_PASSWORD) or an access key (CONFIG_SATELLITE_AKEY)</span></span><br><span class="line"><span class="comment"># for authentication.</span></span><br><span class="line">CONFIG_SATELLITE_URL=</span><br><span class="line"></span><br><span class="line"><span class="comment"># To subscribe each server with Red Hat Subscription Manager, include</span></span><br><span class="line"><span class="comment"># this with CONFIG_RH_USER.</span></span><br><span class="line">CONFIG_RH_PW=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to enable RHEL optional repositories.</span></span><br><span class="line">CONFIG_RH_OPTIONAL=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># HTTP proxy to use with Red Hat Subscription Manager.</span></span><br><span class="line">CONFIG_RH_PROXY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Port to use for Red Hat Subscription Manager's HTTP proxy.</span></span><br><span class="line">CONFIG_RH_PROXY_PORT=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name to use for Red Hat Subscription Manager's HTTP proxy.</span></span><br><span class="line">CONFIG_RH_PROXY_USER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for Red Hat Subscription Manager's HTTP proxy.</span></span><br><span class="line">CONFIG_RH_PROXY_PW=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name to authenticate with the RHN Satellite server; if you</span></span><br><span class="line"><span class="comment"># intend to use an access key for Satellite authentication, leave this</span></span><br><span class="line"><span class="comment"># blank.</span></span><br><span class="line">CONFIG_SATELLITE_USER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to authenticate with the RHN Satellite server; if you</span></span><br><span class="line"><span class="comment"># intend to use an access key for Satellite authentication, leave this</span></span><br><span class="line"><span class="comment"># blank.</span></span><br><span class="line">CONFIG_SATELLITE_PW=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Access key for the Satellite server; if you intend to use a user</span></span><br><span class="line"><span class="comment"># name and password for Satellite authentication, leave this blank.</span></span><br><span class="line">CONFIG_SATELLITE_AKEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Certificate path or URL of the certificate authority to verify that</span></span><br><span class="line"><span class="comment"># the connection with the Satellite server is secure. If you are not</span></span><br><span class="line"><span class="comment"># using Satellite in your deployment, leave this blank.</span></span><br><span class="line">CONFIG_SATELLITE_CACERT=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Profile name that should be used as an identifier for the system in</span></span><br><span class="line"><span class="comment"># RHN Satellite (if required).</span></span><br><span class="line">CONFIG_SATELLITE_PROFILE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of flags passed to the rhnreg_ks command</span></span><br><span class="line"><span class="comment"># (novirtinfo, norhnsd, nopackages).</span></span><br><span class="line">CONFIG_SATELLITE_FLAGS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># HTTP proxy to use when connecting to the RHN Satellite server (if</span></span><br><span class="line"><span class="comment"># required).</span></span><br><span class="line">CONFIG_SATELLITE_PROXY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name to authenticate with the Satellite-server HTTP proxy.</span></span><br><span class="line">CONFIG_SATELLITE_PROXY_USER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User password to authenticate with the Satellite-server HTTP proxy.</span></span><br><span class="line">CONFIG_SATELLITE_PROXY_PW=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify filepath for CA cert file. If CONFIG_SSL_CACERT_SELFSIGN is</span></span><br><span class="line"><span class="comment"># set to 'n' it has to be preexisting file.</span></span><br><span class="line">CONFIG_SSL_CACERT_FILE=/etc/pki/tls/certs/selfcert.crt</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify filepath for CA cert key file. If</span></span><br><span class="line"><span class="comment"># CONFIG_SSL_CACERT_SELFSIGN is set to 'n' it has to be preexisting</span></span><br><span class="line"><span class="comment"># file.</span></span><br><span class="line">CONFIG_SSL_CACERT_KEY_FILE=/etc/pki/tls/private/selfkey.key</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the path to use to store generated SSL certificates in.</span></span><br><span class="line">CONFIG_SSL_CERT_DIR=~/packstackca/</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want Packstack to pregenerate the CA</span></span><br><span class="line"><span class="comment"># Certificate.</span></span><br><span class="line">CONFIG_SSL_CACERT_SELFSIGN=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the selfsigned CAcert subject country.</span></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_C=--</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the selfsigned CAcert subject state.</span></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_ST=State</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the selfsigned CAcert subject location.</span></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_L=City</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the selfsigned CAcert subject organization.</span></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_O=openstack</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the selfsigned CAcert subject organizational unit.</span></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_OU=packstack</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter the selfsigned CAcert subject common name.</span></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_CN=node-<span class="number">1</span>.example.com</span><br><span class="line"></span><br><span class="line">CONFIG_SELFSIGN_CACERT_SUBJECT_MAIL=admin@node-<span class="number">1</span>.example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># Service to be used as the AMQP broker (qpid, rabbitmq).</span></span><br><span class="line">CONFIG_AMQP_BACKEND=rabbitmq</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP address of the server on which to install the AMQP service.</span></span><br><span class="line">CONFIG_AMQP_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to enable SSL for the AMQP service.</span></span><br><span class="line">CONFIG_AMQP_ENABLE_SSL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to enable authentication for the AMQP service.</span></span><br><span class="line">CONFIG_AMQP_ENABLE_AUTH=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the NSS certificate database of the AMQP service.</span></span><br><span class="line">CONFIG_AMQP_NSS_CERTDB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># User for AMQP authentication.</span></span><br><span class="line">CONFIG_AMQP_AUTH_USER=amqp_user</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for AMQP authentication.</span></span><br><span class="line">CONFIG_AMQP_AUTH_PASSWORD=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP address of the server on which to install MariaDB. If a MariaDB</span></span><br><span class="line"><span class="comment"># installation was not specified in CONFIG_MARIADB_INSTALL, specify</span></span><br><span class="line"><span class="comment"># the IP address of an existing database server (a MariaDB cluster can</span></span><br><span class="line"><span class="comment"># also be specified).</span></span><br><span class="line">CONFIG_MARIADB_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># User name for the MariaDB administrative user.</span></span><br><span class="line">CONFIG_MARIADB_USER=root</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the MariaDB administrative user.</span></span><br><span class="line">CONFIG_MARIADB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Identity service (keystone) to access the</span></span><br><span class="line"><span class="comment"># database.</span></span><br><span class="line">CONFIG_KEYSTONE_DB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default region name to use when creating tenants in the Identity</span></span><br><span class="line"><span class="comment"># service.</span></span><br><span class="line">CONFIG_KEYSTONE_REGION=RegionOne</span><br><span class="line"></span><br><span class="line"><span class="comment"># Token to use for the Identity service API.</span></span><br><span class="line">CONFIG_KEYSTONE_ADMIN_TOKEN=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Email address for the Identity service 'admin' user.  Defaults to:</span></span><br><span class="line">CONFIG_KEYSTONE_ADMIN_EMAIL=root@localhost</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name for the Identity service 'admin' user.  Defaults to:</span></span><br><span class="line"><span class="comment"># 'admin'.</span></span><br><span class="line">CONFIG_KEYSTONE_ADMIN_USERNAME=admin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Identity service 'admin' user.</span></span><br><span class="line">CONFIG_KEYSTONE_ADMIN_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Identity service 'demo' user.</span></span><br><span class="line">CONFIG_KEYSTONE_DEMO_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Identity service API version string (v2.0, v3).</span></span><br><span class="line">CONFIG_KEYSTONE_API_VERSION=v2.<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Identity service token format (UUID or PKI). The recommended format</span></span><br><span class="line"><span class="comment"># for new deployments is UUID.</span></span><br><span class="line">CONFIG_KEYSTONE_TOKEN_FORMAT=UUID</span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of service to use to run the Identity service (keystone,</span></span><br><span class="line"><span class="comment"># httpd).</span></span><br><span class="line">CONFIG_KEYSTONE_SERVICE_NAME=httpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Type of Identity service backend (sql, ldap).</span></span><br><span class="line">CONFIG_KEYSTONE_IDENTITY_BACKEND=sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># URL for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_URL=ldap://<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># User DN for the Identity service LDAP backend.  Used to bind to the</span></span><br><span class="line"><span class="comment"># LDAP server if the LDAP server does not allow anonymous</span></span><br><span class="line"><span class="comment"># authentication.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_DN=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User DN password for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_PASSWORD=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Base suffix for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_SUFFIX=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Query scope for the Identity service LDAP backend. Use 'one' for</span></span><br><span class="line"><span class="comment"># onelevel/singleLevel or 'sub' for subtree/wholeSubtree ('base' is</span></span><br><span class="line"><span class="comment"># not actually used by the Identity service and is therefore</span></span><br><span class="line"><span class="comment"># deprecated) (base, one, sub)</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_QUERY_SCOPE=one</span><br><span class="line"></span><br><span class="line"><span class="comment"># Query page size for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_PAGE_SIZE=-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># User subtree for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_SUBTREE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User query filter for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_FILTER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User object class for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_OBJECTCLASS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User ID attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ID_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_NAME_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User email address attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_MAIL_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># User-enabled attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ENABLED_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bit mask integer applied to user-enabled attribute for the Identity</span></span><br><span class="line"><span class="comment"># service LDAP backend. Indicate the bit that the enabled value is</span></span><br><span class="line"><span class="comment"># stored in if the LDAP server represents "enabled" as a bit on an</span></span><br><span class="line"><span class="comment"># integer rather than a boolean. A value of "0" indicates the mask is</span></span><br><span class="line"><span class="comment"># not used (default). If this is not set to "0", the typical value is</span></span><br><span class="line"><span class="comment"># "2", typically used when</span></span><br><span class="line"><span class="comment"># "CONFIG_KEYSTONE_LDAP_USER_ENABLED_ATTRIBUTE = userAccountControl".</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ENABLED_MASK=-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Value of enabled attribute which indicates user is enabled for the</span></span><br><span class="line"><span class="comment"># Identity service LDAP backend. This should match an appropriate</span></span><br><span class="line"><span class="comment"># integer value if the LDAP server uses non-boolean (bitmask) values</span></span><br><span class="line"><span class="comment"># to indicate whether a user is enabled or disabled. If this is not</span></span><br><span class="line"><span class="comment"># set as 'y', the typical value is "512". This is typically used when</span></span><br><span class="line"><span class="comment"># "CONFIG_KEYSTONE_LDAP_USER_ENABLED_ATTRIBUTE = userAccountControl".</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ENABLED_DEFAULT=TRUE</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if users are disabled (not enabled) in the Identity</span></span><br><span class="line"><span class="comment"># service LDAP backend (inverts boolean-enalbed values).  Some LDAP</span></span><br><span class="line"><span class="comment"># servers use a boolean lock attribute where "y" means an account is</span></span><br><span class="line"><span class="comment"># disabled. Setting this to 'y' allows these lock attributes to be</span></span><br><span class="line"><span class="comment"># used. This setting will have no effect if</span></span><br><span class="line"><span class="comment"># "CONFIG_KEYSTONE_LDAP_USER_ENABLED_MASK" is in use (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ENABLED_INVERT=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of attributes stripped from LDAP user entry</span></span><br><span class="line"><span class="comment"># upon update.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ATTRIBUTE_IGNORE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Identity service LDAP attribute mapped to default_project_id for</span></span><br><span class="line"><span class="comment"># users.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_DEFAULT_PROJECT_ID_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to be able to create Identity service users</span></span><br><span class="line"><span class="comment"># through the Identity service interface; specify 'n' if you will</span></span><br><span class="line"><span class="comment"># create directly in the LDAP backend (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ALLOW_CREATE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to be able to update Identity service users</span></span><br><span class="line"><span class="comment"># through the Identity service interface; specify 'n' if you will</span></span><br><span class="line"><span class="comment"># update directly in the LDAP backend (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ALLOW_UPDATE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to be able to delete Identity service users</span></span><br><span class="line"><span class="comment"># through the Identity service interface; specify 'n' if you will</span></span><br><span class="line"><span class="comment"># delete directly in the LDAP backend (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ALLOW_DELETE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Identity service LDAP attribute mapped to password.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_PASS_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># DN of the group entry to hold enabled LDAP users when using enabled</span></span><br><span class="line"><span class="comment"># emulation.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ENABLED_EMULATION_DN=</span><br><span class="line"></span><br><span class="line"><span class="comment"># List of additional LDAP attributes for mapping additional attribute</span></span><br><span class="line"><span class="comment"># mappings for users. The attribute-mapping format is</span></span><br><span class="line"><span class="comment"># &lt;ldap_attr&gt;:&lt;user_attr&gt;, where ldap_attr is the attribute in the</span></span><br><span class="line"><span class="comment"># LDAP entry and user_attr is the Identity API attribute.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USER_ADDITIONAL_ATTRIBUTE_MAPPING=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group subtree for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_SUBTREE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group query filter for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_FILTER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group object class for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_OBJECTCLASS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group ID attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_ID_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group name attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_NAME_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group member attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_MEMBER_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Group description attribute for the Identity service LDAP backend.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_DESC_ATTRIBUTE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of attributes stripped from LDAP group entry</span></span><br><span class="line"><span class="comment"># upon update.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_ATTRIBUTE_IGNORE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to be able to create Identity service</span></span><br><span class="line"><span class="comment"># groups through the Identity service interface; specify 'n' if you</span></span><br><span class="line"><span class="comment"># will create directly in the LDAP backend (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_ALLOW_CREATE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to be able to update Identity service</span></span><br><span class="line"><span class="comment"># groups through the Identity service interface; specify 'n' if you</span></span><br><span class="line"><span class="comment"># will update directly in the LDAP backend (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_ALLOW_UPDATE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if you want to be able to delete Identity service</span></span><br><span class="line"><span class="comment"># groups through the Identity service interface; specify 'n' if you</span></span><br><span class="line"><span class="comment"># will delete directly in the LDAP backend (n, y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_ALLOW_DELETE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># List of additional LDAP attributes used for mapping additional</span></span><br><span class="line"><span class="comment"># attribute mappings for groups. The attribute=mapping format is</span></span><br><span class="line"><span class="comment"># &lt;ldap_attr&gt;:&lt;group_attr&gt;, where ldap_attr is the attribute in the</span></span><br><span class="line"><span class="comment"># LDAP entry and group_attr is the Identity API attribute.</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_GROUP_ADDITIONAL_ATTRIBUTE_MAPPING=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' if the Identity service LDAP backend should use TLS (n,</span></span><br><span class="line"><span class="comment"># y).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_USE_TLS=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># CA certificate directory for Identity service LDAP backend (if TLS</span></span><br><span class="line"><span class="comment"># is used).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_TLS_CACERTDIR=</span><br><span class="line"></span><br><span class="line"><span class="comment"># CA certificate file for Identity service LDAP backend (if TLS is</span></span><br><span class="line"><span class="comment"># used).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_TLS_CACERTFILE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Certificate-checking strictness level for Identity service LDAP</span></span><br><span class="line"><span class="comment"># backend (never, allow, demand).</span></span><br><span class="line">CONFIG_KEYSTONE_LDAP_TLS_REQ_CERT=demand</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Image service (glance) to access the</span></span><br><span class="line"><span class="comment"># database.</span></span><br><span class="line">CONFIG_GLANCE_DB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Image service to authenticate with the</span></span><br><span class="line"><span class="comment"># Identity service.</span></span><br><span class="line">CONFIG_GLANCE_KS_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Storage backend for the Image service (controls how the Image</span></span><br><span class="line"><span class="comment"># service stores disk images). Valid options are: file or swift</span></span><br><span class="line"><span class="comment"># (Object Storage). The Object Storage service must be enabled to use</span></span><br><span class="line"><span class="comment"># it as a working backend; otherwise, Packstack falls back to 'file'.</span></span><br><span class="line"><span class="comment"># ['file', 'swift']</span></span><br><span class="line">CONFIG_GLANCE_BACKEND=file</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Block Storage service (cinder) to access</span></span><br><span class="line"><span class="comment"># the database.</span></span><br><span class="line">CONFIG_CINDER_DB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Block Storage service to authenticate with</span></span><br><span class="line"><span class="comment"># the Identity service.</span></span><br><span class="line">CONFIG_CINDER_KS_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Storage backend to use for the Block Storage service; valid options</span></span><br><span class="line"><span class="comment"># are: lvm, gluster, nfs, vmdk, netapp. ['lvm', 'gluster', 'nfs',</span></span><br><span class="line"><span class="comment"># 'vmdk', 'netapp']</span></span><br><span class="line">CONFIG_CINDER_BACKEND=lvm</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to create the Block Storage volumes group. That is,</span></span><br><span class="line"><span class="comment"># Packstack creates a raw disk image in /var/lib/cinder, and mounts it</span></span><br><span class="line"><span class="comment"># using a loopback device. This should only be used for testing on a</span></span><br><span class="line"><span class="comment"># proof-of-concept installation of the Block Storage service (a file-</span></span><br><span class="line"><span class="comment"># backed volume group is not suitable for production usage) (y, n).</span></span><br><span class="line">CONFIG_CINDER_VOLUMES_CREATE=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Size of Block Storage volumes group. Actual volume size will be</span></span><br><span class="line"><span class="comment"># extended with 3% more space for VG metadata. Remember that the size</span></span><br><span class="line"><span class="comment"># of the volume group will restrict the amount of disk space that you</span></span><br><span class="line"><span class="comment"># can expose to Compute instances, and that the specified amount must</span></span><br><span class="line"><span class="comment"># be available on the device used for /var/lib/cinder.</span></span><br><span class="line">CONFIG_CINDER_VOLUMES_SIZE=<span class="number">10</span>G</span><br><span class="line"></span><br><span class="line"><span class="comment"># A single or comma-separated list of Red Hat Storage (gluster)</span></span><br><span class="line"><span class="comment"># volume shares to mount. Example: 'ip-address:/vol-name', 'domain</span></span><br><span class="line"><span class="comment"># :/vol-name'</span></span><br><span class="line">CONFIG_CINDER_GLUSTER_MOUNTS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># A single or comma-separated list of NFS exports to mount. Example:</span></span><br><span class="line"><span class="comment"># 'ip-address:/export-name'</span></span><br><span class="line">CONFIG_CINDER_NFS_MOUNTS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Administrative user account name used to access the NetApp storage</span></span><br><span class="line"><span class="comment"># system or proxy server.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_LOGIN=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the NetApp administrative user account specified in</span></span><br><span class="line"><span class="comment"># the CONFIG_CINDER_NETAPP_LOGIN parameter.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_PASSWORD=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hostname (or IP address) for the NetApp storage system or proxy</span></span><br><span class="line"><span class="comment"># server.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_HOSTNAME=</span><br><span class="line"></span><br><span class="line"><span class="comment"># The TCP port to use for communication with the storage system or</span></span><br><span class="line"><span class="comment"># proxy. If not specified, Data ONTAP drivers will use 80 for HTTP and</span></span><br><span class="line"><span class="comment"># 443 for HTTPS; E-Series will use 8080 for HTTP and 8443 for HTTPS.</span></span><br><span class="line"><span class="comment"># Defaults to: 80.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_SERVER_PORT=<span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Storage family type used on the NetApp storage system; valid</span></span><br><span class="line"><span class="comment"># options are ontap_7mode for using Data ONTAP operating in 7-Mode,</span></span><br><span class="line"><span class="comment"># ontap_cluster for using clustered Data ONTAP, or E-Series for NetApp</span></span><br><span class="line"><span class="comment"># E-Series. Defaults to: ontap_cluster. ['ontap_7mode',</span></span><br><span class="line"><span class="comment"># 'ontap_cluster', 'eseries']</span></span><br><span class="line">CONFIG_CINDER_NETAPP_STORAGE_FAMILY=ontap_cluster</span><br><span class="line"></span><br><span class="line"><span class="comment"># The transport protocol used when communicating with the NetApp</span></span><br><span class="line"><span class="comment"># storage system or proxy server. Valid values are http or https.</span></span><br><span class="line"><span class="comment"># Defaults to: 'http' ('http', 'https').</span></span><br><span class="line">CONFIG_CINDER_NETAPP_TRANSPORT_TYPE=http</span><br><span class="line"></span><br><span class="line"><span class="comment"># Storage protocol to be used on the data path with the NetApp</span></span><br><span class="line"><span class="comment"># storage system; valid options are iscsi, fc, nfs. Defaults to: nfs</span></span><br><span class="line"><span class="comment"># (iscsi, fc, nfs).</span></span><br><span class="line">CONFIG_CINDER_NETAPP_STORAGE_PROTOCOL=nfs</span><br><span class="line"></span><br><span class="line"><span class="comment"># Quantity to be multiplied by the requested volume size to ensure</span></span><br><span class="line"><span class="comment"># enough space is available on the virtual storage server (Vserver) to</span></span><br><span class="line"><span class="comment"># fulfill the volume creation request.  Defaults to: 1.0.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_SIZE_MULTIPLIER=<span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Time period (in minutes) that is allowed to elapse after the image</span></span><br><span class="line"><span class="comment"># is last accessed, before it is deleted from the NFS image cache.</span></span><br><span class="line"><span class="comment"># When a cache-cleaning cycle begins, images in the cache that have</span></span><br><span class="line"><span class="comment"># not been accessed in the last M minutes, where M is the value of</span></span><br><span class="line"><span class="comment"># this parameter, are deleted from the cache to create free space on</span></span><br><span class="line"><span class="comment"># the NFS share. Defaults to: 720.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_EXPIRY_THRES_MINUTES=<span class="number">720</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the percentage of available space for an NFS share has dropped</span></span><br><span class="line"><span class="comment"># below the value specified by this parameter, the NFS image cache is</span></span><br><span class="line"><span class="comment"># cleaned.  Defaults to: 20.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_THRES_AVL_SIZE_PERC_START=<span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When the percentage of available space on an NFS share has reached</span></span><br><span class="line"><span class="comment"># the percentage specified by this parameter, the driver stops</span></span><br><span class="line"><span class="comment"># clearing files from the NFS image cache that have not been accessed</span></span><br><span class="line"><span class="comment"># in the last M minutes, where M is the value of the</span></span><br><span class="line"><span class="comment"># CONFIG_CINDER_NETAPP_EXPIRY_THRES_MINUTES parameter. Defaults to:</span></span><br><span class="line"><span class="comment"># 60.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_THRES_AVL_SIZE_PERC_STOP=<span class="number">60</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Single or comma-separated list of NetApp NFS shares for Block</span></span><br><span class="line"><span class="comment"># Storage to use.  Format: ip-address:/export-name. Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_NFS_SHARES=</span><br><span class="line"></span><br><span class="line"><span class="comment"># File with the list of available NFS shares.   Defaults to:</span></span><br><span class="line"><span class="comment"># '/etc/cinder/shares.conf'.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_NFS_SHARES_CONFIG=/etc/cinder/shares.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># This parameter is only utilized when the storage protocol is</span></span><br><span class="line"><span class="comment"># configured to use iSCSI or FC. This parameter is used to restrict</span></span><br><span class="line"><span class="comment"># provisioning to the specified controller volumes. Specify the value</span></span><br><span class="line"><span class="comment"># of this parameter to be a comma separated list of NetApp controller</span></span><br><span class="line"><span class="comment"># volume names to be used for provisioning. Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_VOLUME_LIST=</span><br><span class="line"></span><br><span class="line"><span class="comment"># The vFiler unit on which provisioning of block storage volumes will</span></span><br><span class="line"><span class="comment"># be done. This parameter is only used by the driver when connecting</span></span><br><span class="line"><span class="comment"># to an instance with a storage family of Data ONTAP operating in</span></span><br><span class="line"><span class="comment"># 7-Mode Only use this parameter when utilizing the MultiStore feature</span></span><br><span class="line"><span class="comment"># on the NetApp storage system. Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_VFILER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># The name of the config.conf stanza for a Data ONTAP (7-mode) HA</span></span><br><span class="line"><span class="comment"># partner.  This option is only used by the driver when connecting to</span></span><br><span class="line"><span class="comment"># an instance with a storage family of Data ONTAP operating in 7-Mode,</span></span><br><span class="line"><span class="comment"># and it is required if the storage protocol selected is FC. Defaults</span></span><br><span class="line"><span class="comment"># to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_PARTNER_BACKEND_NAME=</span><br><span class="line"></span><br><span class="line"><span class="comment"># This option specifies the virtual storage server (Vserver) name on</span></span><br><span class="line"><span class="comment"># the storage cluster on which provisioning of block storage volumes</span></span><br><span class="line"><span class="comment"># should occur. Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_VSERVER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Restricts provisioning to the specified controllers. Value must be</span></span><br><span class="line"><span class="comment"># a comma-separated list of controller hostnames or IP addresses to be</span></span><br><span class="line"><span class="comment"># used for provisioning. This option is only utilized when the storage</span></span><br><span class="line"><span class="comment"># family is configured to use E-Series. Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_CONTROLLER_IPS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the NetApp E-Series storage array. Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_SA_PASSWORD=</span><br><span class="line"></span><br><span class="line"><span class="comment"># This option is used to define how the controllers in the E-Series</span></span><br><span class="line"><span class="comment"># storage array will work with the particular operating system on the</span></span><br><span class="line"><span class="comment"># hosts that are connected to it. Defaults to: 'linux_dm_mp'</span></span><br><span class="line">CONFIG_CINDER_NETAPP_ESERIES_HOST_TYPE=linux_dm_mp</span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to the NetApp E-Series proxy application on a proxy server.</span></span><br><span class="line"><span class="comment"># The value is combined with the value of the</span></span><br><span class="line"><span class="comment"># CONFIG_CINDER_NETAPP_TRANSPORT_TYPE, CONFIG_CINDER_NETAPP_HOSTNAME,</span></span><br><span class="line"><span class="comment"># and CONFIG_CINDER_NETAPP_HOSTNAME options to create the URL used by</span></span><br><span class="line"><span class="comment"># the driver to connect to the proxy application. Defaults to:</span></span><br><span class="line"><span class="comment"># '/devmgr/v2'.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_WEBSERVICE_PATH=/devmgr/v2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Restricts provisioning to the specified storage pools. Only dynamic</span></span><br><span class="line"><span class="comment"># disk pools are currently supported. The value must be a comma-</span></span><br><span class="line"><span class="comment"># separated list of disk pool names to be used for provisioning.</span></span><br><span class="line"><span class="comment"># Defaults to: ''.</span></span><br><span class="line">CONFIG_CINDER_NETAPP_STORAGE_POOLS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the OpenStack File Share service (manila) to</span></span><br><span class="line"><span class="comment"># access the database.</span></span><br><span class="line">CONFIG_MANILA_DB_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the OpenStack File Share service (manila) to</span></span><br><span class="line"><span class="comment"># authenticate with the Identity service.</span></span><br><span class="line">CONFIG_MANILA_KS_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Backend for the OpenStack File Share service (manila); valid</span></span><br><span class="line"><span class="comment"># options are: generic or netapp (generic, netapp).</span></span><br><span class="line">CONFIG_MANILA_BACKEND=generic</span><br><span class="line"></span><br><span class="line"><span class="comment"># Denotes whether the driver should handle the responsibility of</span></span><br><span class="line"><span class="comment"># managing share servers. This must be set to false if the driver is</span></span><br><span class="line"><span class="comment"># to operate without managing share servers. Defaults to: 'false'</span></span><br><span class="line"><span class="comment"># (true, false).</span></span><br><span class="line">CONFIG_MANILA_NETAPP_DRV_HANDLES_SHARE_SERVERS=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The transport protocol used when communicating with the storage</span></span><br><span class="line"><span class="comment"># system or proxy server. Valid values are 'http' and 'https'.</span></span><br><span class="line"><span class="comment"># Defaults to: 'https' (https, http).</span></span><br><span class="line">CONFIG_MANILA_NETAPP_TRANSPORT_TYPE=https</span><br><span class="line"></span><br><span class="line"><span class="comment"># Administrative user account name used to access the NetApp storage</span></span><br><span class="line"><span class="comment"># system.  Defaults to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_LOGIN=admin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the NetApp administrative user account specified in</span></span><br><span class="line"><span class="comment"># the CONFIG_MANILA_NETAPP_LOGIN parameter. Defaults to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_PASSWORD=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hostname (or IP address) for the NetApp storage system or proxy</span></span><br><span class="line"><span class="comment"># server. Defaults to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_SERVER_HOSTNAME=</span><br><span class="line"></span><br><span class="line"><span class="comment"># The storage family type used on the storage system; valid values</span></span><br><span class="line"><span class="comment"># are ontap_cluster for clustered Data ONTAP. Defaults to:</span></span><br><span class="line"><span class="comment"># 'ontap_cluster'.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_STORAGE_FAMILY=ontap_cluster</span><br><span class="line"></span><br><span class="line"><span class="comment"># The TCP port to use for communication with the storage system or</span></span><br><span class="line"><span class="comment"># proxy server. If not specified, Data ONTAP drivers will use 80 for</span></span><br><span class="line"><span class="comment"># HTTP and 443 for HTTPS. Defaults to: '443'.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_SERVER_PORT=<span class="number">443</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pattern for searching available aggregates for NetApp provisioning.</span></span><br><span class="line"><span class="comment"># Defaults to: '(.*)'.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_AGGREGATE_NAME_SEARCH_PATTERN=(.*)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of aggregate on which to create the NetApp root volume. This</span></span><br><span class="line"><span class="comment"># option only applies when the option</span></span><br><span class="line"><span class="comment"># CONFIG_MANILA_NETAPP_DRV_HANDLES_SHARE_SERVERS is set to True.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_ROOT_VOLUME_AGGREGATE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># NetApp root volume name. Defaults to: 'root'.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_ROOT_VOLUME_NAME=root</span><br><span class="line"></span><br><span class="line"><span class="comment"># This option specifies the storage virtual machine (previously</span></span><br><span class="line"><span class="comment"># called a Vserver) name on the storage cluster on which provisioning</span></span><br><span class="line"><span class="comment"># of shared file systems should occur. This option only applies when</span></span><br><span class="line"><span class="comment"># the option driver_handles_share_servers is set to False. Defaults</span></span><br><span class="line"><span class="comment"># to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETAPP_VSERVER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Denotes whether the driver should handle the responsibility of</span></span><br><span class="line"><span class="comment"># managing share servers. This must be set to false if the driver is</span></span><br><span class="line"><span class="comment"># to operate without managing share servers. Defaults to: 'true'.</span></span><br><span class="line"><span class="comment"># ['true', 'false']</span></span><br><span class="line">CONFIG_MANILA_GENERIC_DRV_HANDLES_SHARE_SERVERS=<span class="literal">true</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># Volume name template for Manila service. Defaults to: 'manila-</span></span><br><span class="line"><span class="comment"># share-%s'.</span></span><br><span class="line">CONFIG_MANILA_GENERIC_VOLUME_NAME_TEMPLATE=manila-share-%s</span><br><span class="line"></span><br><span class="line"><span class="comment"># Share mount path for Manila service. Defaults to: '/shares'.</span></span><br><span class="line">CONFIG_MANILA_GENERIC_SHARE_MOUNT_PATH=/shares</span><br><span class="line"></span><br><span class="line"><span class="comment"># Location of disk image for Manila service instance. Defaults to: '</span></span><br><span class="line">CONFIG_MANILA_SERVICE_IMAGE_LOCATION=https://www.dropbox.com/s/vi5oeh10q1qkckh/ubuntu_1204_nfs_cifs.qcow2</span><br><span class="line"></span><br><span class="line"><span class="comment"># User in Manila service instance.</span></span><br><span class="line">CONFIG_MANILA_SERVICE_INSTANCE_USER=ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to service instance user.</span></span><br><span class="line">CONFIG_MANILA_SERVICE_INSTANCE_PASSWORD=ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># Type of networking that the backend will use. A more detailed</span></span><br><span class="line"><span class="comment"># description of each option is available in the Manila docs. Defaults</span></span><br><span class="line"><span class="comment"># to: 'neutron'. ['neutron', 'nova-network', 'standalone']</span></span><br><span class="line">CONFIG_MANILA_NETWORK_TYPE=neutron</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gateway IPv4 address that should be used. Required. Defaults to:</span></span><br><span class="line"><span class="comment"># ''.</span></span><br><span class="line">CONFIG_MANILA_NETWORK_STANDALONE_GATEWAY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Network mask that will be used. Can be either decimal like '24' or</span></span><br><span class="line"><span class="comment"># binary like '255.255.255.0'. Required. Defaults to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETWORK_STANDALONE_NETMASK=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set it if network has segmentation (VLAN, VXLAN, etc). It will be</span></span><br><span class="line"><span class="comment"># assigned to share-network and share drivers will be able to use this</span></span><br><span class="line"><span class="comment"># for network interfaces within provisioned share servers. Optional.</span></span><br><span class="line"><span class="comment"># Example: 1001. Defaults to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETWORK_STANDALONE_SEG_ID=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Can be IP address, range of IP addresses or list of addresses or</span></span><br><span class="line"><span class="comment"># ranges. Contains addresses from IP network that are allowed to be</span></span><br><span class="line"><span class="comment"># used. If empty, then will be assumed that all host addresses from</span></span><br><span class="line"><span class="comment"># network can be used. Optional. Examples: 10.0.0.10 or</span></span><br><span class="line"><span class="comment"># 10.0.0.10-10.0.0.20 or</span></span><br><span class="line"><span class="comment"># 10.0.0.10-10.0.0.20,10.0.0.30-10.0.0.40,10.0.0.50. Defaults to: ''.</span></span><br><span class="line">CONFIG_MANILA_NETWORK_STANDALONE_IP_RANGE=</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP version of network. Optional. Defaults to: 4 (4, 6).</span></span><br><span class="line">CONFIG_MANILA_NETWORK_STANDALONE_IP_VERSION=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Bare Metal Provisioning (ironic) to</span></span><br><span class="line"><span class="comment"># access the database.</span></span><br><span class="line">CONFIG_IRONIC_DB_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Bare Metal Provisioning to</span></span><br><span class="line"><span class="comment"># authenticate with the Identity service.</span></span><br><span class="line">CONFIG_IRONIC_KS_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Compute service (nova) to access the</span></span><br><span class="line"><span class="comment"># database.</span></span><br><span class="line">CONFIG_NOVA_DB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Compute service to authenticate with the</span></span><br><span class="line"><span class="comment"># Identity service.</span></span><br><span class="line">CONFIG_NOVA_KS_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Overcommitment ratio for virtual to physical CPUs. Specify 1.0 to</span></span><br><span class="line"><span class="comment"># disable CPU overcommitment.</span></span><br><span class="line">CONFIG_NOVA_SCHED_CPU_ALLOC_RATIO=<span class="number">16.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Overcommitment ratio for virtual to physical RAM. Specify 1.0 to</span></span><br><span class="line"><span class="comment"># disable RAM overcommitment.</span></span><br><span class="line">CONFIG_NOVA_SCHED_RAM_ALLOC_RATIO=<span class="number">1.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Protocol used for instance migration. Valid options are: tcp and</span></span><br><span class="line"><span class="comment"># ssh. Note that by default, the Compute user is created with the</span></span><br><span class="line"><span class="comment"># /sbin/nologin shell so that the SSH protocol will not work. To make</span></span><br><span class="line"><span class="comment"># the SSH protocol work, you must configure the Compute user on</span></span><br><span class="line"><span class="comment"># compute hosts manually (tcp, ssh).</span></span><br><span class="line">CONFIG_NOVA_COMPUTE_MIGRATE_PROTOCOL=tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># Manager that runs the Compute service.</span></span><br><span class="line">CONFIG_NOVA_COMPUTE_MANAGER=nova.compute.manager.ComputeManager</span><br><span class="line"></span><br><span class="line"><span class="comment"># PEM encoded certificate to be used for ssl on the https server,</span></span><br><span class="line"><span class="comment"># leave blank if one should be generated, this certificate should not</span></span><br><span class="line"><span class="comment"># require a passphrase. If CONFIG_HORIZON_SSL is set to 'n' this</span></span><br><span class="line"><span class="comment"># parameter is ignored.</span></span><br><span class="line">CONFIG_VNC_SSL_CERT=</span><br><span class="line"></span><br><span class="line"><span class="comment"># SSL keyfile corresponding to the certificate if one was entered. If</span></span><br><span class="line"><span class="comment"># CONFIG_HORIZON_SSL is set to 'n' this parameter is ignored.</span></span><br><span class="line">CONFIG_VNC_SSL_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Private interface for flat DHCP on the Compute servers.</span></span><br><span class="line">CONFIG_NOVA_COMPUTE_PRIVIF=eth0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute Network Manager. ['^nova\.network\.manager\.\w+Manager$']</span></span><br><span class="line">CONFIG_NOVA_NETWORK_MANAGER=nova.network.manager.FlatDHCPManager</span><br><span class="line"></span><br><span class="line"><span class="comment"># Public interface on the Compute network server.</span></span><br><span class="line">CONFIG_NOVA_NETWORK_PUBIF=eth0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Private interface for flat DHCP on the Compute network server.</span></span><br><span class="line">CONFIG_NOVA_NETWORK_PRIVIF=eth1</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP Range for flat DHCP. ['^[\:\.\da-fA-f]+(\/\d+)&#123;0,1&#125;$']</span></span><br><span class="line">CONFIG_NOVA_NETWORK_FIXEDRANGE=<span class="number">192.168</span>.<span class="number">1.0</span>/<span class="number">32</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># IP Range for floating IP addresses. ['^[\:\.\da-</span></span><br><span class="line"><span class="comment"># fA-f]+(\/\d+)&#123;0,1&#125;$']</span></span><br><span class="line">CONFIG_NOVA_NETWORK_FLOATRANGE=<span class="number">10.30</span>.<span class="number">0.0</span>/<span class="number">24</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to automatically assign a floating IP to new instances.</span></span><br><span class="line"><span class="comment"># (y, n)</span></span><br><span class="line">CONFIG_NOVA_NETWORK_AUTOASSIGNFLOATINGIP=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># First VLAN for private networks (Compute networking).</span></span><br><span class="line">CONFIG_NOVA_NETWORK_VLAN_START=<span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of networks to support (Compute networking).</span></span><br><span class="line">CONFIG_NOVA_NETWORK_NUMBER=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of addresses in each private subnet (Compute networking).</span></span><br><span class="line">CONFIG_NOVA_NETWORK_SIZE=<span class="number">255</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Networking (neutron) to authenticate</span></span><br><span class="line"><span class="comment"># with the Identity service.</span></span><br><span class="line">CONFIG_NEUTRON_KS_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># The password to use for OpenStack Networking to access the</span></span><br><span class="line"><span class="comment"># database.</span></span><br><span class="line">CONFIG_NEUTRON_DB_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># The name of the Open vSwitch bridge (or empty for linuxbridge) for</span></span><br><span class="line"><span class="comment"># the OpenStack Networking L3 agent to use for external  traffic.</span></span><br><span class="line"><span class="comment"># Specify 'provider' if you intend to use a provider network to handle</span></span><br><span class="line"><span class="comment"># external traffic.</span></span><br><span class="line">CONFIG_NEUTRON_L3_EXT_BRIDGE=br-ex</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the OpenStack Networking metadata agent.</span></span><br><span class="line">CONFIG_NEUTRON_METADATA_PW=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Networking's Load-Balancing-</span></span><br><span class="line"><span class="comment"># as-a-Service (LBaaS) (y, n).</span></span><br><span class="line">CONFIG_LBAAS_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install OpenStack Networking's L3 Metering agent (y,</span></span><br><span class="line"><span class="comment"># n).</span></span><br><span class="line">CONFIG_NEUTRON_METERING_AGENT_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to configure OpenStack Networking's Firewall-</span></span><br><span class="line"><span class="comment"># as-a-Service (FWaaS) (y, n)</span></span><br><span class="line">CONFIG_NEUTRON_FWAAS=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of network-type driver entry points to be</span></span><br><span class="line"><span class="comment"># loaded from the neutron.ml2.type_drivers namespace (local, flat,</span></span><br><span class="line"><span class="comment"># vlan, gre, vxlan).</span></span><br><span class="line">CONFIG_NEUTRON_ML2_TYPE_DRIVERS=vxlan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated, ordered list of network types to allocate as</span></span><br><span class="line"><span class="comment"># tenant networks. The 'local' value is only useful for single-box</span></span><br><span class="line"><span class="comment"># testing and provides no connectivity between hosts (local, vlan,</span></span><br><span class="line"><span class="comment"># gre, vxlan).</span></span><br><span class="line">CONFIG_NEUTRON_ML2_TENANT_NETWORK_TYPES=vxlan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated ordered list of networking mechanism driver entry</span></span><br><span class="line"><span class="comment"># points to be loaded from the neutron.ml2.mechanism_drivers namespace</span></span><br><span class="line"><span class="comment"># (logger, test, linuxbridge, openvswitch, hyperv, ncs, arista,</span></span><br><span class="line"><span class="comment"># cisco_nexus, mlnx, l2population).</span></span><br><span class="line">CONFIG_NEUTRON_ML2_MECHANISM_DRIVERS=openvswitch</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of physical_network names with which flat</span></span><br><span class="line"><span class="comment"># networks can be created. Use * to allow flat networks with arbitrary</span></span><br><span class="line"><span class="comment"># physical_network names.</span></span><br><span class="line">CONFIG_NEUTRON_ML2_FLAT_NETWORKS=*</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of &lt;physical_network&gt;:&lt;vlan_min&gt;:&lt;vlan_max&gt; or</span></span><br><span class="line"><span class="comment"># &lt;physical_network&gt; specifying physical_network names usable for VLAN</span></span><br><span class="line"><span class="comment"># provider and tenant networks, as well as ranges of VLAN tags on each</span></span><br><span class="line"><span class="comment"># available for allocation to tenant networks.</span></span><br><span class="line">CONFIG_NEUTRON_ML2_VLAN_RANGES=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of &lt;tun_min&gt;:&lt;tun_max&gt; tuples enumerating</span></span><br><span class="line"><span class="comment"># ranges of GRE tunnel IDs that are available for tenant-network</span></span><br><span class="line"><span class="comment"># allocation. A tuple must be an array with tun_max +1 - tun_min &gt;</span></span><br><span class="line"><span class="comment"># 1000000.</span></span><br><span class="line">CONFIG_NEUTRON_ML2_TUNNEL_ID_RANGES=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of addresses for VXLAN multicast group. If</span></span><br><span class="line"><span class="comment"># left empty, disables VXLAN from sending allocate broadcast traffic</span></span><br><span class="line"><span class="comment"># (disables multicast VXLAN mode). Should be a Multicast IP (v4 or v6)</span></span><br><span class="line"><span class="comment"># address.</span></span><br><span class="line">CONFIG_NEUTRON_ML2_VXLAN_GROUP=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of &lt;vni_min&gt;:&lt;vni_max&gt; tuples enumerating</span></span><br><span class="line"><span class="comment"># ranges of VXLAN VNI IDs that are available for tenant network</span></span><br><span class="line"><span class="comment"># allocation. Minimum value is 0 and maximum value is 16777215.</span></span><br><span class="line">CONFIG_NEUTRON_ML2_VNI_RANGES=<span class="number">10</span>:<span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the L2 agent to be used with OpenStack Networking</span></span><br><span class="line"><span class="comment"># (linuxbridge, openvswitch).</span></span><br><span class="line">CONFIG_NEUTRON_L2_AGENT=openvswitch</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of interface mappings for the OpenStack</span></span><br><span class="line"><span class="comment"># Networking linuxbridge plugin. Each tuple in the list must be in the</span></span><br><span class="line"><span class="comment"># format &lt;physical_network&gt;:&lt;net_interface&gt;. Example:</span></span><br><span class="line"><span class="comment"># physnet1:eth1,physnet2:eth2,physnet3:eth3.</span></span><br><span class="line">CONFIG_NEUTRON_LB_INTERFACE_MAPPINGS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of bridge mappings for the OpenStack</span></span><br><span class="line"><span class="comment"># Networking Open vSwitch plugin. Each tuple in the list must be in</span></span><br><span class="line"><span class="comment"># the format &lt;physical_network&gt;:&lt;ovs_bridge&gt;. Example: physnet1:br-</span></span><br><span class="line"><span class="comment"># eth1,physnet2:br-eth2,physnet3:br-eth3</span></span><br><span class="line">CONFIG_NEUTRON_OVS_BRIDGE_MAPPINGS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of colon-separated Open vSwitch</span></span><br><span class="line"><span class="comment"># &lt;bridge&gt;:&lt;interface&gt; pairs. The interface will be added to the</span></span><br><span class="line"><span class="comment"># associated bridge. If you desire the bridge to be persistent a value</span></span><br><span class="line"><span class="comment"># must be added to this directive, also</span></span><br><span class="line"><span class="comment"># CONFIG_NEUTRON_OVS_BRIDGE_MAPPINGS must be set in order to create</span></span><br><span class="line"><span class="comment"># the proper port. This can be achieved from the command line by</span></span><br><span class="line"><span class="comment"># issuing the following command: packstack --allinone --os-neutron-</span></span><br><span class="line"><span class="comment"># ovs-bridge-mappings=ext-net:br-ex --os-neutron-ovs-bridge-interfaces</span></span><br><span class="line"><span class="comment"># =br-ex:eth0</span></span><br><span class="line">CONFIG_NEUTRON_OVS_BRIDGE_IFACES=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Interface for the Open vSwitch tunnel. Packstack overrides the IP</span></span><br><span class="line"><span class="comment"># address used for tunnels on this hypervisor to the IP found on the</span></span><br><span class="line"><span class="comment"># specified interface (for example, eth1).</span></span><br><span class="line">CONFIG_NEUTRON_OVS_TUNNEL_IF=</span><br><span class="line"></span><br><span class="line"><span class="comment"># VXLAN UDP port.</span></span><br><span class="line">CONFIG_NEUTRON_OVS_VXLAN_UDP_PORT=<span class="number">4789</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to set up Horizon communication over https (y, n).</span></span><br><span class="line">CONFIG_HORIZON_SSL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Secret key to use for Horizon Secret Encryption Key.</span></span><br><span class="line">CONFIG_HORIZON_SECRET_KEY=redhat</span><br><span class="line"></span><br><span class="line"><span class="comment"># PEM-encoded certificate to be used for SSL connections on the https</span></span><br><span class="line"><span class="comment"># server (the certificate should not require a passphrase). To</span></span><br><span class="line"><span class="comment"># generate a certificate, leave blank.</span></span><br><span class="line">CONFIG_HORIZON_SSL_CERT=</span><br><span class="line"></span><br><span class="line"><span class="comment"># SSL keyfile corresponding to the certificate if one was specified.</span></span><br><span class="line">CONFIG_HORIZON_SSL_KEY=</span><br><span class="line"></span><br><span class="line">CONFIG_HORIZON_SSL_CACERT=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Object Storage service to authenticate with</span></span><br><span class="line"><span class="comment"># the Identity service.</span></span><br><span class="line">CONFIG_SWIFT_KS_PW=<span class="number">480874</span>f915fd49a2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of devices to use as storage device for Object</span></span><br><span class="line"><span class="comment"># Storage. Each entry must take the format /path/to/dev (for example,</span></span><br><span class="line"><span class="comment"># specifying /dev/vdb installs /dev/vdb as the Object Storage storage</span></span><br><span class="line"><span class="comment"># device; Packstack does not create the filesystem, you must do this</span></span><br><span class="line"><span class="comment"># first). If left empty, Packstack creates a loopback device for test</span></span><br><span class="line"><span class="comment"># setup.</span></span><br><span class="line">CONFIG_SWIFT_STORAGES=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of Object Storage storage zones; this number MUST be no</span></span><br><span class="line"><span class="comment"># larger than the number of configured storage devices.</span></span><br><span class="line">CONFIG_SWIFT_STORAGE_ZONES=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of Object Storage storage replicas; this number MUST be no</span></span><br><span class="line"><span class="comment"># larger than the number of configured storage zones.</span></span><br><span class="line">CONFIG_SWIFT_STORAGE_REPLICAS=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># File system type for storage nodes (xfs, ext4).</span></span><br><span class="line">CONFIG_SWIFT_STORAGE_FSTYPE=ext4</span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom seed number to use for swift_hash_path_suffix in</span></span><br><span class="line"><span class="comment"># /etc/swift/swift.conf. If you do not provide a value, a seed number</span></span><br><span class="line"><span class="comment"># is automatically generated.</span></span><br><span class="line">CONFIG_SWIFT_HASH=<span class="number">61</span>da8c03b2034020</span><br><span class="line"></span><br><span class="line"><span class="comment"># Size of the Object Storage loopback file storage device.</span></span><br><span class="line">CONFIG_SWIFT_STORAGE_SIZE=<span class="number">2</span>G</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password used by Orchestration service user to authenticate against</span></span><br><span class="line"><span class="comment"># the database.</span></span><br><span class="line">CONFIG_HEAT_DB_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Encryption key to use for authentication in the Orchestration</span></span><br><span class="line"><span class="comment"># database (16, 24, or 32 chars).</span></span><br><span class="line">CONFIG_HEAT_AUTH_ENC_KEY=<span class="number">0</span>aa50ccab8254d99</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Orchestration service to authenticate with</span></span><br><span class="line"><span class="comment"># the Identity service.</span></span><br><span class="line">CONFIG_HEAT_KS_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install the Orchestration CloudWatch API (y, n).</span></span><br><span class="line">CONFIG_HEAT_CLOUDWATCH_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to install the Orchestration CloudFormation API (y, n).</span></span><br><span class="line">CONFIG_HEAT_CFN_INSTALL=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the Identity domain for Orchestration.</span></span><br><span class="line">CONFIG_HEAT_DOMAIN=heat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the Identity domain administrative user for Orchestration.</span></span><br><span class="line">CONFIG_HEAT_DOMAIN_ADMIN=heat_admin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password for the Identity domain administrative user for</span></span><br><span class="line"><span class="comment"># Orchestration.</span></span><br><span class="line">CONFIG_HEAT_DOMAIN_PASSWORD=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to provision for demo usage and testing (y, n).</span></span><br><span class="line">CONFIG_PROVISION_DEMO=y</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to configure the OpenStack Integration Test Suite</span></span><br><span class="line"><span class="comment"># (tempest) for testing. The test suite requires OpenStack Networking</span></span><br><span class="line"><span class="comment"># to be installed (y, n).</span></span><br><span class="line">CONFIG_PROVISION_TEMPEST=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># CIDR network address for the floating IP subnet.</span></span><br><span class="line">CONFIG_PROVISION_DEMO_FLOATRANGE=<span class="number">172.24</span>.<span class="number">4.224</span>/<span class="number">28</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The name to be assigned to the demo image in Glance (default</span></span><br><span class="line"><span class="comment"># "cirros").</span></span><br><span class="line">CONFIG_PROVISION_IMAGE_NAME=cirros</span><br><span class="line"></span><br><span class="line"><span class="comment"># A URL or local file location for an image to download and provision</span></span><br><span class="line"><span class="comment"># in Glance (defaults to a URL for a recent "cirros" image).</span></span><br><span class="line"><span class="comment">#CONFIG_PROVISION_IMAGE_URL=http://download.cirros-cloud.net/0.3.3/cirros-0.3.3-x86_64-disk.img</span></span><br><span class="line">CONFIG_PROVISION_IMAGE_URL=http://<span class="number">192.168</span>.<span class="number">1.100</span>/content/images/vdisk/cirros-<span class="number">0.3</span>.<span class="number">4</span>-x86_64-disk.img</span><br><span class="line"></span><br><span class="line"><span class="comment"># Format for the demo image (default "qcow2").</span></span><br><span class="line">CONFIG_PROVISION_IMAGE_FORMAT=qcow2</span><br><span class="line"></span><br><span class="line"><span class="comment"># User to use when connecting to instances booted from the demo</span></span><br><span class="line"><span class="comment"># image.</span></span><br><span class="line">CONFIG_PROVISION_IMAGE_SSH_USER=cirros</span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the Integration Test Suite provisioning user. If you do not</span></span><br><span class="line"><span class="comment"># provide a user name, Tempest is configured in a standalone mode.</span></span><br><span class="line">CONFIG_PROVISION_TEMPEST_USER=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for the Integration Test Suite provisioning user.</span></span><br><span class="line">CONFIG_PROVISION_TEMPEST_USER_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># CIDR network address for the floating IP subnet.</span></span><br><span class="line">CONFIG_PROVISION_TEMPEST_FLOATRANGE=<span class="number">172.24</span>.<span class="number">4.224</span>/<span class="number">28</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URI of the Integration Test Suite git repository.</span></span><br><span class="line">CONFIG_PROVISION_TEMPEST_REPO_URI=https://github.com/openstack/tempest.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># Revision (branch) of the Integration Test Suite git repository.</span></span><br><span class="line">CONFIG_PROVISION_TEMPEST_REPO_REVISION=master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to configure the Open vSwitch external bridge for an</span></span><br><span class="line"><span class="comment"># all-in-one deployment (the L3 external bridge acts as the gateway</span></span><br><span class="line"><span class="comment"># for virtual machines) (y, n).</span></span><br><span class="line">CONFIG_PROVISION_ALL_IN_ONE_OVS_BRIDGE=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Data Processing (sahara) to access</span></span><br><span class="line"><span class="comment"># the database.</span></span><br><span class="line">CONFIG_SAHARA_DB_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Data Processing to authenticate with</span></span><br><span class="line"><span class="comment"># the Identity service.</span></span><br><span class="line">CONFIG_SAHARA_KS_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Secret key for signing Telemetry service (ceilometer) messages.</span></span><br><span class="line">CONFIG_CEILOMETER_SECRET=ee2d644e43ba41db</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for Telemetry to authenticate with the Identity</span></span><br><span class="line"><span class="comment"># service.</span></span><br><span class="line">CONFIG_CEILOMETER_KS_PW=<span class="number">85642</span>d5d273d4dab</span><br><span class="line"></span><br><span class="line"><span class="comment"># Backend driver for Telemetry's group membership coordination</span></span><br><span class="line"><span class="comment"># (redis, none).</span></span><br><span class="line">CONFIG_CEILOMETER_COORDINATION_BACKEND=redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP address of the server on which to install MongoDB.</span></span><br><span class="line">CONFIG_MONGODB_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># IP address of the server on which to install the Redis master</span></span><br><span class="line"><span class="comment"># server.</span></span><br><span class="line">CONFIG_REDIS_MASTER_HOST=<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Port on which the Redis server(s) listens.</span></span><br><span class="line">CONFIG_REDIS_PORT=<span class="number">6379</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify 'y' to have Redis try to use HA (y, n).</span></span><br><span class="line">CONFIG_REDIS_HA=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hosts on which to install Redis slaves.</span></span><br><span class="line">CONFIG_REDIS_SLAVE_HOSTS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hosts on which to install Redis sentinel servers.</span></span><br><span class="line">CONFIG_REDIS_SENTINEL_HOSTS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Host to configure as the Redis coordination sentinel.</span></span><br><span class="line">CONFIG_REDIS_SENTINEL_CONTACT_HOST=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Port on which Redis sentinel servers listen.</span></span><br><span class="line">CONFIG_REDIS_SENTINEL_PORT=<span class="number">26379</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Quorum value for Redis sentinel servers.</span></span><br><span class="line">CONFIG_REDIS_SENTINEL_QUORUM=<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the master server watched by the Redis sentinel (eg.</span></span><br><span class="line"><span class="comment"># master).</span></span><br><span class="line">CONFIG_REDIS_MASTER_NAME=mymaster</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Database-as-a-Service (trove) to</span></span><br><span class="line"><span class="comment"># access the database.</span></span><br><span class="line">CONFIG_TROVE_DB_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use for OpenStack Database-as-a-Service to authenticate</span></span><br><span class="line"><span class="comment"># with the Identity service.</span></span><br><span class="line">CONFIG_TROVE_KS_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># User name to use when OpenStack Database-as-a-Service connects to</span></span><br><span class="line"><span class="comment"># the Compute service.</span></span><br><span class="line">CONFIG_TROVE_NOVA_USER=trove</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tenant to use when OpenStack Database-as-a-Service connects to the</span></span><br><span class="line"><span class="comment"># Compute service.</span></span><br><span class="line">CONFIG_TROVE_NOVA_TENANT=services</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password to use when OpenStack Database-as-a-Service connects to</span></span><br><span class="line"><span class="comment"># the Compute service.</span></span><br><span class="line">CONFIG_TROVE_NOVA_PW=PW_PLACEHOLDER</span><br><span class="line"></span><br><span class="line"><span class="comment"># Password of the nagiosadmin user on the Nagios server.</span></span><br><span class="line">CONFIG_NAGIOS_PW=<span class="number">7</span>ba4e6253b3742c1</span><br></pre></td></tr></table></figure>
<h2 id="OpenStack测试">OpenStack测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment">#Preinstallation</span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#使用豆瓣python源</span></span><br><span class="line">mkdir /root/.pip</span><br><span class="line">cat &gt; /root/.pip/pip.conf &lt;&lt;EOF</span><br><span class="line">[global]</span><br><span class="line">index-url = http://pypi.douban.com/simple/</span><br><span class="line">[install]</span><br><span class="line">trusted-host = pypi.douban.com</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">easy_install pip</span><br><span class="line"><span class="comment">#pbr need &gt;=1.6</span></span><br><span class="line">pip list | grep pbr  </span><br><span class="line">pip uninstall pbr </span><br><span class="line">pip install pbr</span><br><span class="line"></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment">#Tempest Installation</span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Tempest Installation</span></span><br><span class="line">yum install git gcc libxslt-devel openssl-devel libffi-devel python-devel python-pip python-virtualenv -y</span><br><span class="line"><span class="comment"># git clone https://github.com/openstack/tempest.git</span></span><br><span class="line"><span class="comment"># pip install tempest/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /root/pip-<span class="number">1.5</span>.<span class="number">5</span></span><br><span class="line">python setup.py install</span><br><span class="line"></span><br><span class="line">pip install tempest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@node-<span class="number">1</span> ~(admin)]<span class="comment"># glance image-list</span></span><br><span class="line">+--------------------------------------+--------------+</span><br><span class="line">| ID                                   | Name         |</span><br><span class="line">+--------------------------------------+--------------+</span><br><span class="line">| <span class="number">6</span>bbafd22-<span class="number">6791</span>-<span class="number">4</span>a9d-<span class="number">8240</span>-<span class="number">355</span>a64f8a5c1 | cirros-in-fs |</span><br><span class="line">+--------------------------------------+--------------+</span><br><span class="line"></span><br><span class="line">[root@node-<span class="number">1</span> ~(admin)]<span class="comment"># neutron net-list</span></span><br><span class="line">+--------------------------------------+---------+-------------------------------------------------------+</span><br><span class="line">| id                                   | name    | subnets                                               |</span><br><span class="line">+--------------------------------------+---------+-------------------------------------------------------+</span><br><span class="line">| <span class="number">9</span>f2a7cc6-<span class="number">6495</span>-<span class="number">4105</span><span class="operator">-a</span>797-<span class="number">6</span>f99d943f406 | private | c4ebe773-<span class="number">1685</span>-<span class="number">445</span>b-b4f3-<span class="number">1</span>c71004da4de <span class="number">192.168</span>.<span class="number">100.0</span>/<span class="number">24</span> |</span><br><span class="line">| <span class="number">987</span>d51e4-<span class="number">28</span>f9-<span class="number">4861</span>-<span class="number">8020</span>-fc455916f441 | public  | cbb688ab-<span class="number">61</span>ce-<span class="number">4</span>b44-<span class="number">92</span><span class="built_in">fc</span>-<span class="number">7</span>b3d0ffee5e7 <span class="number">10.30</span>.<span class="number">0.0</span>/<span class="number">24</span>     |</span><br><span class="line">+--------------------------------------+---------+-------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">[root@node-<span class="number">1</span> ~(admin)]<span class="comment"># openstack user list</span></span><br><span class="line">+----------------------------------+---------+</span><br><span class="line">| ID                               | Name    |</span><br><span class="line">+----------------------------------+---------+</span><br><span class="line">| <span class="number">3</span>a90eefdd4af4f64b2b55e5787c8b480 | nova    |</span><br><span class="line">| <span class="number">81</span>fda8223f424eacb358b9ecf30d8514 | demo    |</span><br><span class="line">| afc0c39b498044a6b012ca85e1a82e3e | cinder  |</span><br><span class="line">| c66ab63dac7142438383f880ceae77e3 | neutron |</span><br><span class="line">| de0c3f0303394b3e8d127119721e7f6b | admin   |</span><br><span class="line">| e6a433779b8749d689e4f8d47026028c | glance  |</span><br><span class="line">+----------------------------------+---------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑tempest</span></span><br><span class="line">vi /etc/tempest.conf</span><br><span class="line"></span><br><span class="line">[DEFAULT]</span><br><span class="line"><span class="built_in">log</span>_file = tempest.log</span><br><span class="line">[alarming]</span><br><span class="line">[auth]</span><br><span class="line">tempest_roles = _member_ = user</span><br><span class="line">create_isolated_networks = <span class="literal">false</span></span><br><span class="line">admin_username =  admin</span><br><span class="line">admin_tenant_name = admin</span><br><span class="line">admin_password = redhat</span><br><span class="line">[baremetal]</span><br><span class="line">driver_enabled = <span class="literal">false</span></span><br><span class="line">[compute]</span><br><span class="line">image_ref = <span class="number">6</span>bbafd22-<span class="number">6791</span>-<span class="number">4</span>a9d-<span class="number">8240</span>-<span class="number">355</span>a64f8a5c1</span><br><span class="line">image_ref_alt = <span class="number">6</span>bbafd22-<span class="number">6791</span>-<span class="number">4</span>a9d-<span class="number">8240</span>-<span class="number">355</span>a64f8a5c1</span><br><span class="line">flavor_ref = <span class="number">1</span></span><br><span class="line">flavor_ref_alt = <span class="number">2</span></span><br><span class="line">fixed_network_name = private</span><br><span class="line">region = RegionOne </span><br><span class="line">shelved_offload_time = <span class="number">0</span></span><br><span class="line">min_compute_nodes = <span class="number">2</span></span><br><span class="line">[compute-feature-enabled]</span><br><span class="line">console_output = <span class="literal">false</span></span><br><span class="line">shelve = <span class="literal">false</span></span><br><span class="line">rescue = <span class="literal">false</span></span><br><span class="line">personality = <span class="literal">false</span></span><br><span class="line">preserve_ports = <span class="literal">true</span></span><br><span class="line">attach_encrypted_volume = <span class="literal">false</span></span><br><span class="line">[dashboard]</span><br><span class="line">dashboard_url = http://<span class="number">10.30</span>.<span class="number">0.10</span></span><br><span class="line">login_url = http://<span class="number">10.30</span>.<span class="number">0.10</span>/dashboard/auth/login</span><br><span class="line">[data-processing]</span><br><span class="line">[data-processing-feature-enabled]</span><br><span class="line">[database]</span><br><span class="line">[debug]</span><br><span class="line">[identity]</span><br><span class="line">catalog_<span class="built_in">type</span> = identity</span><br><span class="line">uri = http://<span class="number">10.30</span>.<span class="number">0.10</span>:<span class="number">5000</span>/v2.<span class="number">0</span>/</span><br><span class="line">auth_version = v2</span><br><span class="line">region = RegionOne</span><br><span class="line">v2_admin_endpoint_<span class="built_in">type</span> = adminURL</span><br><span class="line">v2_public_endpoint_<span class="built_in">type</span> = publicURL</span><br><span class="line">username = admin</span><br><span class="line">tenant_name = admin</span><br><span class="line">admin_role = admin</span><br><span class="line">password = redhat</span><br><span class="line">[identity-feature-enabled]</span><br><span class="line">api_v3 = <span class="literal">false</span></span><br><span class="line">[image]</span><br><span class="line">catalog_<span class="built_in">type</span> = image</span><br><span class="line">region = RegionOne </span><br><span class="line">endpoint_<span class="built_in">type</span> = publicURL</span><br><span class="line">[image-feature-enabled]</span><br><span class="line">api_v2 = <span class="literal">true</span></span><br><span class="line">api_v1 = <span class="literal">false</span></span><br><span class="line">[input-scenario]</span><br><span class="line">[messaging]</span><br><span class="line">[negative]</span><br><span class="line">[network]</span><br><span class="line">catalog_<span class="built_in">type</span> = network</span><br><span class="line">region = RegionOne</span><br><span class="line">endpoint_<span class="built_in">type</span> = publicURL</span><br><span class="line">tenant_network_cidr = <span class="number">192.168</span>.<span class="number">100.0</span>/<span class="number">24</span></span><br><span class="line">tenant_network_mask_bits = <span class="number">28</span></span><br><span class="line">tenant_networks_reachable = <span class="literal">false</span></span><br><span class="line">public_network_id = <span class="number">987</span>d51e4-<span class="number">28</span>f9-<span class="number">4861</span>-<span class="number">8020</span>-fc455916f441</span><br><span class="line">floating_network_name = public</span><br><span class="line">dns_servers = <span class="number">8.8</span>.<span class="number">8.8</span>,<span class="number">8.8</span>.<span class="number">4.4</span></span><br><span class="line">default_network = <span class="number">192.168</span>.<span class="number">100.0</span>/<span class="number">24</span></span><br><span class="line">[network-feature-enabled]</span><br><span class="line">[object-storage]</span><br><span class="line">[object-storage-feature-enabled]</span><br><span class="line">[orchestration]</span><br><span class="line">[oslo_concurrency]</span><br><span class="line"><span class="built_in">disable</span>_process_locking = <span class="literal">false</span></span><br><span class="line">lock_path =  /var/lib/nova/tmp</span><br><span class="line">[scenario]</span><br><span class="line">img_dir = /var/lib/glance/images/cirros-<span class="number">0.3</span>.<span class="number">1</span>-x86_64-uec</span><br><span class="line">img_file = cirros-<span class="number">0.3</span>.<span class="number">1</span>-x86_64-disk.img</span><br><span class="line">img_disk_format = qcow2</span><br><span class="line">img_container_format = bare</span><br><span class="line">[service_available]</span><br><span class="line">cinder = <span class="literal">false</span></span><br><span class="line">neutron = <span class="literal">true</span></span><br><span class="line">glance = <span class="literal">true</span></span><br><span class="line">swift = <span class="literal">false</span></span><br><span class="line">nova = <span class="literal">true</span></span><br><span class="line">heat = <span class="literal">false</span></span><br><span class="line">ceilometer = <span class="literal">false</span></span><br><span class="line">aodh = <span class="literal">false</span></span><br><span class="line">horizon = <span class="literal">true</span></span><br><span class="line">sahara = <span class="literal">false</span></span><br><span class="line">ironic = <span class="literal">false</span></span><br><span class="line">trove = <span class="literal">false</span></span><br><span class="line">zaqar = <span class="literal">false</span></span><br><span class="line">[stress]</span><br><span class="line">[telemetry]</span><br><span class="line">[telemetry-feature-enabled]</span><br><span class="line">[validation]</span><br><span class="line">security_group = <span class="literal">true</span></span><br><span class="line">security_group_rules = <span class="literal">true</span></span><br><span class="line">connect_method = floating</span><br><span class="line">auth_method = keypair</span><br><span class="line">image_ssh_user = cirros</span><br><span class="line">image_ssh_password = <span class="string">"cubswin:)"</span></span><br><span class="line">floating_ip_range = <span class="number">10.30</span>.<span class="number">0.0</span>/<span class="number">24</span></span><br><span class="line">network_<span class="keyword">for</span>_ssh = public</span><br><span class="line">[volume]</span><br><span class="line">build_interval = <span class="number">3</span></span><br><span class="line">catalog_<span class="built_in">type</span> = volume</span><br><span class="line">region = RegionOne </span><br><span class="line">endpoint_<span class="built_in">type</span> = publicURL</span><br><span class="line">backend1_name = lvm</span><br><span class="line">backend2_name = ceph</span><br><span class="line">backend_names = lvm,ceph</span><br><span class="line">[volume-feature-enabled]</span><br><span class="line">multi_backend = <span class="literal">true</span></span><br><span class="line">backup = <span class="literal">true</span></span><br><span class="line">api_v1 = <span class="literal">true</span></span><br><span class="line">api_v2 = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#验证</span></span><br><span class="line">verify-tempest-config</span><br><span class="line">./run_tempest.sh</span><br><span class="line">nosetests tempest/api/identity/admin/v2/<span class="built_in">test</span>_services.py  --with-xunit  --xunit-file=/root/keystone_<span class="built_in">test</span>_services.xml --with-xunit --xunit-file</span><br><span class="line">nosetests tempest.api.compute.flavors.test_flavors.py:FlavorsTestJSON</span><br><span class="line">nosetests tempest.api.compute.flavors.test_flavors.py:FlavorsTestJSON.test_list_flavors</span><br><span class="line"></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"><span class="comment">#Rally Installation</span></span><br><span class="line"><span class="comment">#===========================================================</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/stackforge/rally.git &amp;&amp; <span class="built_in">cd</span> rally</span><br><span class="line">./install_rally.sh -v</span><br><span class="line">rally-manage db recreate</span><br><span class="line"><span class="built_in">source</span> admin-openrc.sh</span><br><span class="line">rally deployment create --fromenv --name=existing</span><br><span class="line">rally deployment check</span><br><span class="line">cp samples/tasks/scenarios/keystone/create-and-delete-user.json .</span><br><span class="line">cat create-and-delete-user.json </span><br><span class="line">rally task start create-and-delete-user.json</span><br><span class="line"></span><br><span class="line"><span class="comment">#编辑页面</span></span><br><span class="line">vi /usr/lib/python2.<span class="number">7</span>/site-packages/rally/ui/templates/task/report.html </span><br><span class="line"></span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"http://192.168.1.100/content/ajax/libs/angularjs/1.3.3/angular.1.3.3.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">rally task report --out=report1.html --open</span><br><span class="line">cp samples/tasks/scenarios/glance/create-and-delete-image.json .</span><br><span class="line">rally task start  create-and-delete-image.json</span><br><span class="line">cp samples/tasks/scenarios/nova/boot-and-delete.json .</span><br><span class="line">rally task start boot-and-delete.json</span><br><span class="line">cp samples/tasks/scenarios/cinder/create-volume.json .</span><br><span class="line">rally task start create-volume.json</span><br><span class="line">cp samples/tasks/scenarios/vm/boot-runcommand-delete.json .</span><br><span class="line">rally task start  boot-runcommand-delete.json</span><br><span class="line">rally verify start --set identity</span><br></pre></td></tr></table></figure>
<h2 id="OpenStack开发">OpenStack开发</h2><ol>
<li>Horizon开发预备知识</li>
<li>简单案例</li>
<li>配置和权限</li>
<li>Horizon换新装</li>
<li>Horizon换交互</li>
<li>Horizon添加新模块</li>
<li>Horizon现有模块库举例</li>
<li>Horizon组件详解</li>
<li>Python库和JS库</li>
</ol>
<blockquote>
<p>Horizon定制</p>
</blockquote>
<ol>
<li>Python</li>
<li>Django</li>
<li>jQuery</li>
<li>OpenStack API</li>
<li>OpenStack组件开发</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[OpenStack是代替VMware私有云的最佳方案之一]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[GFW翻墙小结]]></title>
    <link href="http://wsgzao.github.io/post/fq/"/>
    <id>http://wsgzao.github.io/post/fq/</id>
    <published>2016-02-23T15:22:32.000Z</published>
    <updated>2016-02-23T02:22:03.771Z</updated>
    <content type="html"><![CDATA[<p><img src="http://i.v2ex.co/Ur503skA.jpeg" alt=""></p>
<h2 id="前言">前言</h2><p>政府无限的权力，都是大部分人自己放弃的。假货坑爹，让政府审核。孩子管不好，让政府关网吧。有人在微博骂我，让政府去删。房价太高，让政府去限购。我们的文化实在太独特，创造出了家长式威权政府，GFW 正是在这种背景下产生的，一个社会矛盾的终极调和器，最终生活不能自理的你每天做的每一件事情都要给政府审查一遍，以免伤害到其他同样生活不能自理的人。这是一个零和游戏，越和这样的用户打交道，越对未来持悲观态度，觉得 GFW 可能永远也不会消失，而墙内的这个局域网看起来还似乎生机勃勃的自成一体，真是让人绝望。</p>
<p>Via <a href="https://twitter.com/clowwindy" target="_blank" rel="external">@clowwindy</a> - <a href="https://www.v2ex.com/t/166417#reply121" target="_blank" rel="external">https://www.v2ex.com/t/166417#reply121</a></p>
<hr>
<h2 id="更新记录">更新记录</h2><p>2016年02月23日 - 增加Surge，感谢@刘亚晨<br>2016年01月08日 - 增加首选免费方案XX-Net，更新付费方案土行孙<br>2015年12月23日 - 尊重@东哥的要求，移除XXX<br>2015年11月28日 - 更新XXX和土行孙付费方案<br>2015年10月11日 - 移除fqrouter和红杏，增加shadowsocks-android和GreenVPN<br>2015年08月31日 - Thanks @clowwindy &amp; @breakwa11, and all of the contributor of the shadowsocks.<br>2015年08月11日 - 移除GoAgentX，感谢@ohdarling<br>2015年08月06日 - 移除曲径，感谢两位前盛大创新院朋友做出的贡献，尊重你们的决定<br>2015年05月22日 - 移除所有Goagent项目，增加赛风/红杏/Shadowsocks免费账号<br>2015年03月08日 - fqrouter复活，新增免费方案百度浏览器<br>2015年02月07日 - 修改细节描述，避免误导大家<br>2015年02月03日 - 更换网址为f(翻)q(墙)，感谢fqrouter作者做出的贡献<br>2014年11月30日 - 完善内容，标注自用首选免费和付费翻墙方案<br>2014年08月24日 - 新增免费方案GoAgent+，付费方案商业版Shadowsocks<br>2014年06月15日 - 新增Buckyball浏览器，父亲节快乐<br>2014年06月13日 - 补充Mac/iOS方案<br>2014年06月12日 - 撰写初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/fq/" target="_blank" rel="external">http://wsgzao.github.io/post/fq/</a></p>
<p>扩展阅读</p>
<ul>
<li>Contributors - <a href="http://shadowsocks.org/en/about/contributors.html" target="_blank" rel="external">http://shadowsocks.org/en/about/contributors.html</a></li>
<li>科学上网利器 Shadowsocks 使用方法 - <a href="http://ttt.tt/150/" target="_blank" rel="external">http://ttt.tt/150/</a></li>
</ul>
<hr>
<h2 id="简单验证是否被墙">简单验证是否被墙</h2><blockquote>
<p>如果你不能访问以下网址，那恭喜你生活在墙的有效保护区内，关键字智能屏蔽效果如下</p>
</blockquote>
<p><a href="http://wsgzao.github.io/post/gfw-break/" target="_blank" rel="external">http://wsgzao.github.io/post/gfw-break/</a></p>
<hr>
<h2 id="免费方案">免费方案</h2><blockquote>
<p>各个平台的解决方案都不唯一，请认真阅读原文中的说明部分</p>
</blockquote>
<h3 id="XX-Net">XX-Net</h3><blockquote>
<p>接力GoAgent翻墙工具——Anti-censor tools</p>
</blockquote>
<ul>
<li>【首选】GAE proxy, 稳定、易用、快速</li>
<li>用过GoAgent的朋友应该还有印象吧</li>
</ul>
<p><a href="https://github.com/XX-net/XX-Net" target="_blank" rel="external">https://github.com/XX-net/XX-Net</a></p>
<h3 id="百度浏览器">百度浏览器</h3><blockquote>
<p>你这么大摇大摆提供翻墙插件，真不用担心360菊(jǔ)爆(bào)吗？</p>
</blockquote>
<ul>
<li>看到百度浏览器团队介绍的最后一句话我才明白QQ浏览器为何扶不起</li>
<li>UC浏览器翻墙效果不佳还要背负面临政策风险，所以就不直接推荐了</li>
<li>还有很多通过自行编译或与Chrome/Firefox整合的翻墙方式也不再列举，比如Lantern</li>
</ul>
<p><a href="http://liulanqi.baidu.com/about.html" target="_blank" rel="external">http://liulanqi.baidu.com/about.html</a></p>
<h3 id="Shadowsocks">Shadowsocks</h3><blockquote>
<p>@breakwa11, be careful and stay out of trouble</p>
</blockquote>
<p><a href="https://github.com/breakwa11/shadowsocks-rss" target="_blank" rel="external">https://github.com/breakwa11/shadowsocks-rss</a></p>
<h3 id="Shadowsocks_免费账号">Shadowsocks 免费账号</h3><blockquote>
<p>感谢ishadowsocks团队分享</p>
</blockquote>
<p><a href="http://www.ishadowsocks.com/" target="_blank" rel="external">http://www.ishadowsocks.com/</a></p>
<h3 id="shadowsocks-android">shadowsocks-android</h3><blockquote>
<p>A Shadowsocks client for Android</p>
</blockquote>
<ul>
<li>【首选】Android翻墙方案</li>
</ul>
<p><a href="http://www.zdfans.com/5074.html" target="_blank" rel="external">http://www.zdfans.com/5074.html</a></p>
<h3 id="赛风">赛风</h3><blockquote>
<p>作为免费翻墙的一种备用方案吧</p>
</blockquote>
<p><a href="http://www.zdfans.com/4114.html" target="_blank" rel="external">http://www.zdfans.com/4114.html</a></p>
<h3 id="OS_X">OS X</h3><blockquote>
<p>Shadowsocks GUI designed for OS X 10.8+, automatically configuring system proxy settings, with a GFWList PAC.</p>
</blockquote>
<ul>
<li>【首选】OS X翻墙方案</li>
</ul>
<p><a href="https://github.com/shadowsocks/shadowsocks-iOS/releases" target="_blank" rel="external">https://github.com/shadowsocks/shadowsocks-iOS/releases</a></p>
<h3 id="iOS">iOS</h3><blockquote>
<p>Surge is a web developer tool and proxy utility for iOS 9</p>
</blockquote>
<ul>
<li>【首选】iOS翻墙方案</li>
<li>iOS 9以上版本Surge或许是你的最佳选择之一</li>
</ul>
<p><a href="http://yach.me/" target="_blank" rel="external">http://yach.me/</a></p>
<h3 id="Windows_Phone">Windows Phone</h3><ul>
<li>暂无直接免费方案，建议使用类似Shadowsocks的<code>Share over LAN</code>功能设置局域网代理</li>
</ul>
<hr>
<h2 id="付费方案">付费方案</h2><blockquote>
<p>请根据自身实际需求，睁大眼睛认真阅读各类网站说明后做出合理的选择</p>
</blockquote>
<h3 id="Shadowsocks商业版">Shadowsocks商业版</h3><blockquote>
<p>轻量级科学上网姿势，改变您的生活体验</p>
</blockquote>
<ul>
<li>【首选】由<a href="http://ttt.tt/about/" target="_blank" rel="external">@Showfom</a>运营</li>
<li>我已经在第一时间入坑高级版至2018年</li>
<li>信任.Trust，以下是我的推荐链接</li>
</ul>
<p><a href="https://portal.shadowsocks.com/aff.php?aff=043" target="_blank" rel="external">https://portal.shadowsocks.com/aff.php?aff=043</a></p>
<h3 id="GreenVPN">GreenVPN</h3><blockquote>
<p>GreenVPN冒牌很多，大家多小心吧</p>
</blockquote>
<p><a href="http://gjsq.me/1438224" target="_blank" rel="external">http://gjsq.me/1438224</a></p>
<h3 id="土行孙">土行孙</h3><blockquote>
<p>如果你体验过曲径的优质服务，那么土行孙也许是你新的选择</p>
</blockquote>
<ul>
<li>因为土行孙域名有时在国内无法访问会变化，使用邀请链接做为跳板来解决实属无奈之举，没有利益相关</li>
</ul>
<p><a href="http://itxs.co/s/14ff19gw" target="_blank" rel="external">http://itxs.co/s/14ff19gw</a></p>
]]></content>
    <summary type="html">
    <![CDATA[介绍简单可信赖的翻墙方案]]>
    
    </summary>
    
      <category term="软件 | Soft" scheme="http://wsgzao.github.io/categories/%E8%BD%AF%E4%BB%B6-Soft/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[熊本熊是如何成为风靡全球的吉祥物「网红」的？]]></title>
    <link href="http://wsgzao.github.io/post/kumamon/"/>
    <id>http://wsgzao.github.io/post/kumamon/</id>
    <published>2016-02-18T07:31:24.000Z</published>
    <updated>2016-02-19T01:47:46.869Z</updated>
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>本文为 <a href="http://socialbeta.com/t/how-kumamon-become-the-most-popular-bear" target="_blank" rel="external">SocialBeta</a> 作者 <a href="http://socialbeta.com/t/how-kumamon-become-the-most-popular-bear" target="_blank" rel="external">信河田</a> 原创作品，转载请注明 SocialBeta 链接和作者。</p>
<blockquote>
<p>如果要问大家 2015 年最火的吉祥物是什么，相信很多人的答案会是熊本熊！</p>
</blockquote>
<hr>
<h2 id="更新历史">更新历史</h2><p>2016年02月18日 - 转载初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/kumamon/" target="_blank" rel="external">http://wsgzao.github.io/post/kumamon/</a></p>
<hr>
<p><strong>如果要问大家 2015 年最火的吉祥物是什么，相信很多人的答案会是熊！本！熊！</strong></p>
<p>这只行动笨拙、内心贱萌、自带两坨腮红的萌物在近两年迅速风靡全世界，成为年轻人的心头好。如今，熊本熊的火热程度甚至超过萌物界的前辈 Hello Kitty 和哆啦 A 梦。这家伙不仅有自己专属的本田小摩托，还有专属 Mini。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788531.jpg" alt=""></p>
<p><img src="http://img.socialbeta.com/upload/10-1452788533.jpg" alt=""></p>
<p>甚至还有专属的徕卡相机。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788534.jpg" alt=""></p>
<p>俨然一副「熊」生赢家的样子。</p>
<p>然而你知道他是如何一步步走到这个「熊」生巅峰的吗？今天我们就来一探究竟。</p>
<h2 id="缘起九州新干线">缘起九州新干线</h2><p>熊本熊，大家都知道是来自熊本县的地方吉祥物。但要说到熊本县……别说我们了，就是日本人也只能模糊地说出它在九州岛上，有哪些特产和值得一看的景点则完全不知。所以，至少在熊本熊诞生之前，熊本县的知名度在日本国内都可以说是非常低的。</p>
<p>然而，机会总还是来了。2011 年，贯通整个九州的新干线将全线开通。这意味着临县，乃至大阪等关西地区的旅客可以更便捷地来到九州观光旅行。县政府看准这个千载难逢的机遇，有意做一些特殊的地方推广活动，吸引旅客在熊本站下车。</p>
<h2 id="高瞻远瞩的设计团队">高瞻远瞩的设计团队</h2><p>一开始，县政府找来了本县出身的知名作家小山薰堂来构想这个视觉元素，他转而找到了自己的好友——著名设计师水野学。两人最初想以「熊本惊喜」的概念制作一个 Logo，但随后水野学希望能以一个更加吸引人的方式推广这个概念，小山薰堂表示赞同。于是他们在 Logo 之外又提出了被称为「Kumamon」的熊形地方吉祥物。这个名字结合了「熊本」（Kumamoto）与熊本方言「人」（Mon）的发音，意为「熊本人」，明确了「熊本熊」出自「熊本县」的概念。</p>
<p>虽然县政府对吉祥物的提案有些犹豫，但县知事（县长）蒲岛郁夫还是果断地接受了这一建议。于是，水野学带领自己的 good design company 工作室开始了熊本熊的形象设计。为了突出本县特色，水野学以熊本城的主色调黑色与萌系形象经常采用的两颊腮红（红色也蕴含了熊本县「火之国」的称号。）为基础，创作出了数千种形象组合，最后在其中选出了如今看到的呆萌呆萌的<a href="http://gooddesigncompany.com/works/kumamon" target="_blank" rel="external">熊本熊形象</a>。</p>
<p><img src="http://img.socialbeta.com/upload/10-1453270260.jpg" alt=""></p>
<p>吉祥物终究是要人来扮演的，然而出炉的第一代熊本熊皮套却长相怪异，看了可能会让人做噩梦。于是，小山薰堂赶紧找到了专制吉祥物皮套的大厂<span class="Apple-converted-space"> </span><a href="http://www.kigurumi.biz/" target="_blank" rel="external">Kigurumi.biz</a>，委托他们改进皮套，因此有了第二代皮套。而如今我们看到的是更加肥大呆萌的第三代皮套。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788535.jpg" alt=""></p>
<p>配合外貌，以小山薰堂为首的策划团队也为熊本熊定好了时下人见人爱的「呆萌」和「贱萌」的性格。</p>
<p>到此为止，水野学和小山薰堂显然已经做好了自己的本职工作。但毕竟是为了更好地推广和宣传熊本县的形象，水野学之后又提出了以不收授权费的方式推广熊本熊的建议。只要通过县政府审核，证明商品有助于熊本的宣传，商家就可以使用熊本熊的形象。从诞生的 2010 年 3 月 5 日起，熊本熊呆萌的形象就逐渐出现在熊本县出产的商品中（毕竟是农业大县，土特产农产品根本不缺）。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788543.jpg" alt=""></p>
<p>随着曝光度的增加，熊本熊的知名度开始打响。不过此时，熊本熊的知名度也仅限于熊本和九州，要想让全日本都认识这只熊，就得靠经纪公司——县政府的支持了。</p>
<h2 id="与熊本熊一起疯的县政府">与熊本熊一起疯的县政府</h2><p>明星要想红，除了自身要具备出色的条件外，经纪公司的大力培养也是不可或缺的因素。虽然前文提到县政府一开始对吉祥物的提案兴趣寥寥，不过在熊本熊正式诞生后，县政府还是启动了相应的营销计划，先后开通 Facebook 主页和 Twitter 账号，并为其申请到相应的宣传预算。相对于当时日本绝大多数的地方吉祥物来说，这已经是最高级别的待遇了。</p>
<p>一切准备就绪，县政府开始了与熊本熊一起疯的营销计划。首先，县政府聘任熊本熊为临时公务员，接着县知事（县长）蒲岛郁夫将「在大阪分发一万张名片，提升熊本县知名度」的任务交给了它。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788544.jpg" alt=""></p>
<p>不过在大阪出差途中，被大都市的魅力所迷住，熊本熊竟然下落不明。蒲岛知事为此紧急召开记者发布会，希望有知道熊本熊消息的人通过 Twitter 告知县政府。（你们县政府真会玩……）</p>
<iframe frameborder="0" width="640" height="498" src="http://v.qq.com/iframe/player.html?vid=t0181sebzuo&amp;tiny=0&amp;auto=0" allowfullscreen></iframe>

<p>这里要提一下名片上的内容，也是有些无厘头，比如「希望变得越来越有名，有名到有假货来冒充」、「其实我很敏捷」等，看了让人忍俊不禁，加深了对它「呆萌」的印象。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788545.jpg" alt=""></p>
<p>一年以后，随着一系列宣传上的成功，熊本熊被蒲岛知事正式任命为熊本县营业部长，该职位在县政府内部仅次于知事与副知事，且直接听命于蒲岛知事，体现了县政府对熊本熊的重视。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788553.jpg" alt=""></p>
<p>2013 年 11 月，县政府又开始了一次精妙的全民营销活动。这次，熊本熊遗失了自己两颊的腮红。没了腮红，那就只是普通的熊了，「火之国」的内涵也没了。县政府认为此事件非常严重，蒲岛知事再次紧急召开新闻发布会，表示县政府已成立调查组专门调查此事，并号召大家帮熊本熊找回腮红，熊本熊也跑到东京警视厅报了案。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788550.jpg" alt=""></p>
<p>县政府还在各地张贴「寻腮红启事」，甚至通过电视台发出这一启事，希望大家提供线索。其实县政府是希望通过这一事件，让外界了解「红色」对于熊本县的重要性。它不仅代表了熊本县的火山地理，更代表了众多美味的红色食物。事后有日本媒体表示，这次事件达成了 6 亿日元（约合 3360 万人民币）的广告营销成果。</p>
<iframe frameborder="0" width="640" height="498" src="http://v.qq.com/iframe/player.html?vid=o018000zngm&amp;tiny=0&amp;auto=0" allowfullscreen align=""></iframe>

<p>除了这些县政府亲自参与的推广活动之外，策划团队还很好地利用了 Facebook 和 Twitter 等社交媒体，通过它们发布熊本熊的行程，并且在每一条新消息的最后，都会加上熊本熊的语气词「mon」。</p>
<p>策划团队还会借势热点进行营销。比如冰桶挑战期间，熊本熊就被人点名参加。而他参加冰桶挑战时的反应也是非常搞笑。这些营销策略都让熊本熊极大地增加了知名度和影响力。</p>
<iframe frameborder="0" width="640" height="498" src="http://v.qq.com/iframe/player.html?vid=r0180343hpq&amp;tiny=0&amp;auto=0" allowfullscreen></iframe>

<h2 id="投入的熊本熊扮演者">投入的熊本熊扮演者</h2><p>最后还要谈一下藏在熊本熊厚大皮套里的演员。无论是一开始县政府工作人员客串，还是之后邀请专业的皮套演员进行骑车蹦极等高难度动作，他们都非常卖力地展现出了熊本熊「呆萌」和「贱萌」的性格，更让人们感受到了「熊本熊是活生生存在的」。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452790248.gif" alt=""></p>
<p><span style="color: rgb(127, 127, 127);">捣麻糬掉手套</span></p>
<p><img src="http://img.socialbeta.com/upload/10-1452790240.gif" alt=""></p>
<p><span style="color: rgb(127, 127, 127);">从新干线列车上摔下</span></p>
<p><img src="http://img.socialbeta.com/upload/10-1452790230.gif" alt=""></p>
<p><span style="color: rgb(127, 127, 127);">烧菜起火受惊吓</span></p>
<p><span style="color: rgb(127, 127, 127);"><img src="http://img.socialbeta.com/upload/10-1452790223.gif" alt=""></span></p>
<p><span style="color: rgb(127, 127, 127);">掀女生裙子</span></p>
<p><span style="color: rgb(127, 127, 127);"><img src="http://img.socialbeta.com/upload/10-1452790981.gif" alt=""></span></p>
<p><span style="color: rgb(127, 127, 127);">殴打其他地方吉祥物（少儿不宜）</span></p>
<p><span style="color: rgb(127, 127, 127);"><img src="http://img.socialbeta.com/upload/10-1452873260.gif" alt=""></span></p>
<p><span style="color: rgb(127, 127, 127);">会潇洒地骑着自己的小摩托</span></p>
<p><span style="color: rgb(127, 127, 127);"><img src="http://img.socialbeta.com/upload/10-1452873251.gif" alt=""></span></p>
<p><span style="color: rgb(127, 127, 127);">偶尔还会挑战下极限</span></p>
<p>这其中最有名的一次表演是在参加 2014 年红白歌会时，在后台与另一位地方吉祥物船梨精大打出手，场面之「混乱」连主持人都劝不住。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452789881.gif" alt=""></p>
<p>如今的熊本熊早已红透半边天。到国外出访、在天皇与皇后面前大跳体操舞、被印在各种大牌商品上、参加时装周走秀、参演歌舞伎等，在熊本熊身体力行的宣传下，熊本县的知名度也有了极大的提升。2013 年 4 月，日本地方经济综合研究所的<a href="http://www.dik.or.jp/?action=cabinet2_action_main_download&amp;block_id=235&amp;room_id=1&amp;cabinet2_id=17&amp;file_id=205&amp;upload_id=384" target="_blank" rel="external">调查</a>显示，九州、关西和首都圈地区的居民对熊本县的印象分别从 2011 年的第 6 位、第 6 位和第 7 位，上升至第 2  位、第 3 位和第 5 位。此外，民众前往熊本县观光旅游的意愿也有大幅提升。申请授权的商品从 2011 年的 3600 件，升至如今的 20000 件。根据日本银行的计算，熊本熊出道的头两年（2011 年至 2013 年），它就为熊本县带来了 1244 亿日元的经济收益（约 76.3 亿人民币）。</p>
<h2 id="熊本熊的成功启示">熊本熊的成功启示</h2><p>熊本熊的成功，是吉祥物创作者与地方政府，以及幕后工作人员亲密配合的完美成果。设计师从 Logo 到吉祥物的奇思妙想，再到提出极富远见的营销建议，县政府都没有唱反调，反倒支持这种创新。而县政府在熊本熊的营销活动中，也一改以往一贯严肃的政府形象，变得亲民且幽默。蒲岛郁夫知事甚至为此出书，详细阐述了熊本熊营销成功的心得。而浓缩为书中的一句话就是「提拔吉祥物做营业部长，这是勇于『打破盘子』的创新精神」。</p>
<p><img src="http://img.socialbeta.com/upload/10-1452788552.jpg" alt=""><strong> </strong></p>
]]></content>
    <summary type="html">
    <![CDATA[如果要问大家 2015 年最火的吉祥物是什么，相信很多人的答案会是熊本熊！]]>
    
    </summary>
    
      <category term="生活 | Life" scheme="http://wsgzao.github.io/categories/%E7%94%9F%E6%B4%BB-Life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[DevOps实用资源(授人以鱼不如授人以渔)]]></title>
    <link href="http://wsgzao.github.io/post/devops/"/>
    <id>http://wsgzao.github.io/post/devops/</id>
    <published>2016-02-14T07:31:24.000Z</published>
    <updated>2016-02-14T08:07:06.000Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/o2t5S8at.png" alt=""></p>
<h2 id="前言">前言</h2><p>其实一直很想整理一篇DevOps学习资源导航类文章，主要原因除了自己的懒惰外，技术的不断创新也让未来更加值得期待。虽然在大多数情况下我们既无法面面俱到也突破不了点的极限，但是这也不会阻碍我们对于学习的热爱。梳理这篇文章也是希望自己能够始终保持学习的态度，完善自己的知识体系，坚持技术沉淀的过程，享受点滴进步的快乐。</p>
<blockquote>
<p>DevOps是一个持续改进的过程</p>
</blockquote>
<hr>
<h2 id="更新历史">更新历史</h2><p>2016年02月14日 - 增加Forvo，Coursera，自强学堂<br>2016年01月04日 - 增加利器<br>2015年12月22日 - 增加极客学院，网易公开课，曹政微信订阅号<br>2015年10月29日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/devops/" target="_blank" rel="external">http://wsgzao.github.io/post/devops/</a></p>
<hr>
<h2 id="图书">图书</h2><blockquote>
<p>我推荐大家尝试使用Kindle改变自己阅读的习惯</p>
</blockquote>
<p>Kindle Paperwhite - <a href="http://www.amazon.cn/" target="_blank" rel="external">http://www.amazon.cn/</a></p>
<h2 id="搜索引擎">搜索引擎</h2><blockquote>
<p>善用搜索引擎，穿过一堵墙你的知识面可能会更加立体</p>
</blockquote>
<p>FQ - <a href="https://wsgzao.github.io/post/fq/" target="_blank" rel="external">https://wsgzao.github.io/post/fq/</a></p>
<ul>
<li>翻墙是一种学习态度</li>
</ul>
<p>Google - <a href="https://www.google.com/" target="_blank" rel="external">https://www.google.com/</a><br>Google Images - <a href="https://images.google.com/" target="_blank" rel="external">https://images.google.com/</a><br>Google Scholar - <a href="https://scholar.google.com/" target="_blank" rel="external">https://scholar.google.com/</a></p>
<ul>
<li>事实证明大多数情况下还是Google最懂我们的心</li>
</ul>
<p>WikipediA - <a href="https://www.wikipedia.org/" target="_blank" rel="external">https://www.wikipedia.org/</a></p>
<ul>
<li>试着把维基百科作为你的首选，弱化自己对于百度的依赖</li>
</ul>
<p>Forvo - <a href="http://zh.forvo.com/" target="_blank" rel="external">http://zh.forvo.com/</a></p>
<ul>
<li>妈妈再也不用担心我不会发音了，让Forvo来做你的发音指南</li>
</ul>
<h2 id="安全">安全</h2><blockquote>
<p>黑客的思路往往让人眼前一亮，多向大牛们学习</p>
</blockquote>
<p>知道创宇研发技能表 - <a href="http://blog.knownsec.com/Knownsec_RD_Checklist/" target="_blank" rel="external">http://blog.knownsec.com/Knownsec_RD_Checklist/</a></p>
<ul>
<li>感谢<a href="http://evilcos.me/" target="_blank" rel="external">@余弦</a></li>
</ul>
<p>纳威安全导航 - <a href="http://navisec.it/" target="_blank" rel="external">http://navisec.it/</a></p>
<ul>
<li>乌云，FreeBuf，i春秋等都值得你多逛逛</li>
</ul>
<h2 id="阅读订阅">阅读订阅</h2><blockquote>
<p>信息爆炸的时代如何过滤噪音很重要</p>
</blockquote>
<p>知乎日报 - <a href="http://daily.zhihu.com/" target="_blank" rel="external">http://daily.zhihu.com/</a></p>
<ul>
<li>每天 3 次，每次 7 分钟</li>
<li>我习惯下班后离线阅读生活中的美</li>
<li>读读日报和好奇心日报也推荐大家试试</li>
</ul>
<p>开发者头条 - <a href="http://toutiao.io/" target="_blank" rel="external">http://toutiao.io/</a></p>
<ul>
<li>码农周刊团队为程序员设计的阅读分享平台</li>
<li>极客头条，稀土掘金，伯乐在线等也是类似的</li>
</ul>
<p>湾区日报 - <a href="http://wanqu.co/" target="_blank" rel="external">http://wanqu.co/</a></p>
<ul>
<li>关注创业与技术,每天推送5篇优质英文文章</li>
<li>坚持向来不易，锻炼下英文阅读能力也不错哦</li>
</ul>
<p>深蓝阅读 - <a href="http://bluereader.org/" target="_blank" rel="external">http://bluereader.org/</a></p>
<ul>
<li>简单好用的内容订阅平台</li>
</ul>
<p>利器 - <a href="http://liqi.io/" target="_blank" rel="external">http://liqi.io/</a></p>
<ul>
<li>创造者和他们的工具</li>
</ul>
<h2 id="社区">社区</h2><blockquote>
<p>Way to Explore &amp; Way too Extreme</p>
</blockquote>
<p>V2EX - <a href="http://www.v2ex.com/" target="_blank" rel="external">http://www.v2ex.com/</a></p>
<ul>
<li>一个与众不同的社区</li>
</ul>
<p>Stack Overflow - <a href="http://stackoverflow.com/" target="_blank" rel="external">http://stackoverflow.com/</a></p>
<ul>
<li>如果你使用Google相信会在这里看到不少高质量的答案</li>
</ul>
<h2 id="微信订阅号">微信订阅号</h2><p>小道消息 - WebNotes</p>
<ul>
<li>冯大辉的小道消息已经成为微信订阅号的标杆之一</li>
</ul>
<p>曹政 - caozsay</p>
<ul>
<li>曹大做为一个有故事的人，愿意分享更愿意交流，已经很难得了</li>
</ul>
<p>高效运维 - greatops</p>
<ul>
<li>萧田国组织维护的”高效运维”公众号每周多篇干货满满的原创好文</li>
</ul>
<h2 id="OJ">OJ</h2><blockquote>
<p>ACM和奥数类似属于有天赋的你们，但实际工作中更要注重学习方法和问题总结</p>
</blockquote>
<p>LeetCode - <a href="http://leetcode.com/" target="_blank" rel="external">http://leetcode.com/</a></p>
<ul>
<li>leetcode 是一个针对程序员的面试准备平台</li>
</ul>
<p>ACM之家 - <a href="http://www.acmerblog.com/" target="_blank" rel="external">http://www.acmerblog.com/</a></p>
<ul>
<li>POJ、HDU、ZOJ等在线OJ解题报告，相关经典算法收集整理</li>
</ul>
<p>牛客网 - <a href="http://www.nowcoder.com/" target="_blank" rel="external">http://www.nowcoder.com/</a></p>
<ul>
<li>一个新的专业IT笔试面试备考平台</li>
</ul>
<h2 id="信息聚合">信息聚合</h2><blockquote>
<p>分享一些实用的技术学习路线</p>
</blockquote>
<p>鸟哥的Linux私房菜 - <a href="http://vbird.dic.ksu.edu.tw/" target="_blank" rel="external">http://vbird.dic.ksu.edu.tw/</a></p>
<ul>
<li>我也是跟着鸟哥的文章进入Linux</li>
</ul>
<p>存储基础知识 - <a href="https://community.emc.com/thread/176852" target="_blank" rel="external">https://community.emc.com/thread/176852</a></p>
<ul>
<li>EMC官方整理的教程，由浅入深知识面也很广</li>
</ul>
<p>菜鸟教程 - <a href="http://www.runoob.com/" target="_blank" rel="external">http://www.runoob.com/</a></p>
<ul>
<li>学的不仅是技术，更是梦想</li>
<li>同类型还有w3school等</li>
</ul>
<p>自强学堂 - <a href="http://www.ziqiangxuetang.com/" target="_blank" rel="external">http://www.ziqiangxuetang.com/</a></p>
<ul>
<li>感谢@涂伟忠，Django可是自强学堂的招牌教程</li>
</ul>
<p>优设 - <a href="http://hao.uisdc.com/" target="_blank" rel="external">http://hao.uisdc.com/</a></p>
<ul>
<li>以前很喜欢腾讯CDC的设计理念，现在老了只能偶尔瞅瞅</li>
</ul>
<p>VMware - <a href="http://www.vmware.com/cn/support/support-resources/pubs/" target="_blank" rel="external">http://www.vmware.com/cn/support/support-resources/pubs/</a></p>
<ul>
<li>没有贴图还能把虚拟化手册写得灰常清晰具有可操作性，VMware必须得算一个</li>
<li>当然也推荐大家阅读RedHat，SuSE，Oracle等官方帮助文档</li>
</ul>
<h2 id="Blog">Blog</h2><blockquote>
<p>推荐的Blog不多，希望大家找到适合自己的博客</p>
</blockquote>
<p>编程随想 - <a href="https://program-think.blogspot.com/" target="_blank" rel="external">https://program-think.blogspot.com/</a></p>
<ul>
<li>你应该了解一些真实的信息</li>
</ul>
<p>阮一峰 - <a href="http://www.ruanyifeng.com/" target="_blank" rel="external">http://www.ruanyifeng.com/</a></p>
<ul>
<li>坚持分享技术和生活的典范</li>
</ul>
<p>酷壳 - <a href="http://coolshell.cn/" target="_blank" rel="external">http://coolshell.cn/</a></p>
<ul>
<li>坚持更新技术类Blog的人或团队越来越少，这也是认真做事的态度</li>
</ul>
<h2 id="在线教育">在线教育</h2><p>极客学院 - <a href="http://wiki.jikexueyuan.com/" target="_blank" rel="external">http://wiki.jikexueyuan.com/</a></p>
<ul>
<li>在线教育类网站很多，我不做太多推荐，极客学院Wiki是一个好产品</li>
</ul>
<p>网易公开课 - <a href="http://open.163.com/" target="_blank" rel="external">http://open.163.com/</a></p>
<ul>
<li>国内外优质的MOOC资源很丰富，一起系统的完善自己的知识体系吧</li>
</ul>
<p>Coursera - <a href="https://www.coursera.org/" target="_blank" rel="external">https://www.coursera.org/</a></p>
<ul>
<li>在网上学习全世界最好的课程</li>
<li>在国外生活的同学几乎都会推荐的网络学习平台</li>
</ul>
<h2 id="其它">其它</h2><blockquote>
<p>还有很多需要耐心等待时间的验证</p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[DevOps是一个持续改进的过程]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[思考枕ThinkPillow体验评测小结]]></title>
    <link href="http://wsgzao.github.io/post/thinkpillow/"/>
    <id>http://wsgzao.github.io/post/thinkpillow/</id>
    <published>2016-02-02T13:30:32.000Z</published>
    <updated>2016-02-02T14:24:03.000Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/868XHd5s.jpeg" alt=""></p>
<h2 id="前言">前言</h2><p>虽然我目前没有颈椎问题，但我看到父母可能会因为枕头打鼾甚至影响颈椎。本着负责任的精神以及3年的<code>记忆枕</code>经验，配合每去一次MUJI必定乱摸和睡遍床上用品的经历，果断入手了思考枕ThinkPillow第2代，软硬高度可调节，保护颈椎，预防打鼾的设计理念，作为“淘宝众筹”设计类第一名我觉得在实至名归，评价就一个字<code>值</code>。</p>
<blockquote>
<p>人的一生有三分之一时间在睡眠中度过，为什么不让自己睡得好点呢？</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2016年02月02日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/thinkpillow/" target="_blank" rel="external">http://wsgzao.github.io/post/thinkpillow/</a></p>
<p>扩展阅读</p>
<ul>
<li>枕頭推薦 - <a href="http://www.muji.tw/mujilife/pillow/" target="_blank" rel="external">http://www.muji.tw/mujilife/pillow/</a></li>
</ul>
<hr>
<h2 id="购买记录">购买记录</h2><blockquote>
<p>淘宝众筹，长时间的耐心等待也是必须哒</p>
</blockquote>
<p>思考枕2代，全球第二款高度可调节枕头，极致睡眠体验 - <a href="https://izhongchou.taobao.com/dreamdetail.htm?id=10046658" target="_blank" rel="external">https://izhongchou.taobao.com/dreamdetail.htm?id=10046658</a></p>
<p>付款时间：2015-10-18 22:07:35<br>到货时间：2016-01-28 00:40:35</p>
<h2 id="产品介绍">产品介绍</h2><blockquote>
<p>引用官方的话吧，具体信息看众筹链接</p>
</blockquote>
<p>非常感谢近万名热心网友对我们的大力支持是你们改变了人类的睡眠方式！世界因为有你们而变地更加精彩！</p>
<p>爱思考的设计团队历时近三年时间倾力打造出前后两代思考枕，去年我们发起了第一代考枕众筹舌动，反响巨大，与其说是一次众人筹款，倒不如说是一次对旧事物进行创新改造的运动，前后有超过四千人多人参与在后来通过几百通的电话回访，几百份的邮件，几百个真实客户的评论，我们得到了很多有价值的客户反馈，让我们拥有了改进思考枕的信心，经过6个多月的研发，我们终于做出了更佳舒适的思考枕二代。</p>
<p>考枕完全是中国创新团队的原创设计，不同于一般的众筹项目国外有样板，国内改版山寨。在这个浮躁的年代，条件反射式地山寨抄袭，急于求成，人们已不屑于考甚至慢慢丧失了思考能力。而思考枕的诞生是源于我们对日常问题的深度思考是源于我们对创新执着追求是源于我们对美好生舌的热爱更是代表着一种不安于现状勇于打破常规的开创精神。思考枕绝对可以算的上是中国众筹史上里程碑式的项目因为它代表着一股中国正在崛起的创新原动力！</p>
<h2 id="购买原因">购买原因</h2><p>如何选择枕头 - <a href="https://www.muji.tw/mujilife/pillow/" target="_blank" rel="external">https://www.muji.tw/mujilife/pillow/</a></p>
<ol>
<li>保护颈椎</li>
<li>只为得到更好的睡眠质量</li>
</ol>
<h2 id="真实体验">真实体验</h2><blockquote>
<p>被我睡了3天的感觉，评价一个枕头的好坏关键看3点</p>
</blockquote>
<ol>
<li>高度</li>
<li>软硬度</li>
<li>材质</li>
</ol>
<p>事实是我认为ThinkPillow基本都做到了，参考对象为被我睡了3年的记忆枕和MUJI价值450左右的枕头，而MUJI官方推荐的枕头选购方案可以参考扩展阅读，虽然一开始可能会有些不习惯，但利用充气(白色)和抽气(黑色)小球调整至你认为的最佳状态后就可以舒舒服服的睡大觉啦。</p>
<h2 id="实拍照片">实拍照片</h2><p><img src="http://ww1.sinaimg.cn/large/7207510dgw1f0lclwfq18j21kw1661kx.jpg" alt=""><br><img src="http://ww2.sinaimg.cn/large/7207510dgw1f0lckb3prsj21kw1667r9.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/large/7207510dgw1f0lclivcxaj21kw166ttx.jpg" alt=""></p>
]]></content>
    <summary type="html">
    <![CDATA[人的一生有三分之一时间在睡眠中度过，为什么不让自己睡得好点呢？]]>
    
    </summary>
    
      <category term="生活 | Life" scheme="http://wsgzao.github.io/categories/%E7%94%9F%E6%B4%BB-Life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[利器]]></title>
    <link href="http://wsgzao.github.io/post/liqi/"/>
    <id>http://wsgzao.github.io/post/liqi/</id>
    <published>2016-01-08T16:30:32.000Z</published>
    <updated>2016-01-08T16:26:57.000Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/Gt4iYMe1.jpeg" alt=""></p>
<h2 id="更新记录">更新记录</h2><p>2016年01月09日 - 初稿</p>
<h2 id="介绍一下你自己和所做的工作。">介绍一下你自己和所做的工作。</h2><p>我是<a href="https://www.linkedin.com/in/aowang" target="_blank" rel="external">王奥(OX)</a>，目前在中国三大赌场之一担任DevOps运维工程师。我几乎翻阅了<a href="http://liqi.io/community/" target="_blank" rel="external">利器社群计划</a>的每一个链接，无论软或硬每个人都有自己喜欢的利器和使用方式，我们可以用先进的IDE Coding，也可以用平凡的Office写小说。最初的纸笔已经转变为各种灵活多样的辅助工具呈现在我们面前，将灵感和科技融合通过适合自己的利器来实现，做一个分享者、创造者。</p>
<h2 id="你都在使用哪些硬件？">你都在使用哪些硬件？</h2><blockquote>
<p>好奇心驱使着我不断去探寻科技的乐趣</p>
</blockquote>
<p>零客户端, ThinkPad X220i, ThinkPad X1 Carbon, 魅蓝Metal, iPad Mini 2, Kindle Paperwhite 2</p>
<h2 id="软件呢？">软件呢？</h2><blockquote>
<p>因为工作需要主要基于Windows为主，我将如实交代和Windows愉快的相处过程</p>
</blockquote>
<ol>
<li>操作系统是64位的Windows 10，推荐搭配8G内存和256GB固态硬盘提升幸福指数</li>
<li>好压+看图王构成2345伪流氓阵营 ，Adobe Photoshop/Faststone Capture/QQ截图共存</li>
<li>Listary用于代替Everything和Total Commander的效率神器，类比于Alfred</li>
<li>浏览器Maxthon用于主力怀旧，360极速和QQ浏览器在不同设备交叉体验，跨平台数据同步</li>
<li>没有绝对安全，好习惯很重要，腾讯电脑管家和360安全在不同设备针锋相对，一起耍流氓</li>
<li>Everynote同步笔记，快盘同步数据文件，跨平台数据同步</li>
<li>QQ/微信作为社交登录统一平台和安全中心，辐射第三方应用。移动端莫要忽视蚂蚁金服的影响力</li>
<li>输入法搜狗/百度/腾讯拼音纯净版混合模式体验中</li>
<li>百度网盘和360网盘互捅菊花</li>
<li>Office 2016搭配Foxit PhantomPDF，移动端推荐WPS</li>
<li>广告拦截ADSafe或阿呆喵</li>
<li>邮件收发QQ邮箱搭配Foxmail，跨平台数据同步</li>
<li>思维脑图FreeMind或XMind</li>
<li>远程协助AnyDesk或TeamViewer</li>
<li>终端管理Xmanager搭配MobaXterm</li>
<li>开发环境Visual Studio/JetBrains/GitHub/Sublime Text/Notepad2</li>
<li>虚拟化平台VMware Workstation/Horizon/vRealize</li>
<li>付费翻墙Shadowsocks</li>
<li>保持一份年轻的心</li>
</ol>
<blockquote>
<p>分享两篇自己坚持更新的文章</p>
</blockquote>
<p>自己整理的DevOps实用资源 - <a href="http://wsgzao.github.io/post/devops/" target="_blank" rel="external">http://wsgzao.github.io/post/devops/</a><br>Windows常用软件推荐 - <a href="http://wsgzao.github.io/post/windows/" target="_blank" rel="external">http://wsgzao.github.io/post/windows/</a></p>
<h2 id="你最理想的工作环境是什么？">你最理想的工作环境是什么？</h2><p>和一群优秀的小伙伴协作+扯蛋</p>
<h2 id="你平时获得工作灵感的方式有哪些？">你平时获得工作灵感的方式有哪些？</h2><p>浏览<a href="http://liqi.io" target="_blank" rel="external">利器</a></p>
<h2 id="推荐一件生活中的利器给大家。">推荐一件生活中的利器给大家。</h2><ol>
<li>好记性不如烂笔头，准备好<code>笔/本子/便利贴</code>，随时记录一切</li>
<li>如果大家有中午冬眠的习惯，可以尝试下<code>零听眼罩</code>+<code>MUJI无印良品微粒贴身靠枕</code>的类似搭配</li>
</ol>
<h2 id="利器社群计划">利器社群计划</h2><p>本文参与了「利器社群计划」，发现更多创造者和他们的工具：<a href="http://liqi.io/community/" target="_blank" rel="external">http://liqi.io/community/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[创造者和他们的工具]]>
    
    </summary>
    
      <category term="生活 | Life" scheme="http://wsgzao.github.io/categories/%E7%94%9F%E6%B4%BB-Life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Windows常用软件推荐]]></title>
    <link href="http://wsgzao.github.io/post/windows/"/>
    <id>http://wsgzao.github.io/post/windows/</id>
    <published>2016-01-04T08:35:27.000Z</published>
    <updated>2016-01-04T14:21:44.000Z</updated>
    <content type="html"><![CDATA[<p><img src="http://i.v2ex.co/l6zV1ws3.jpeg" alt=""></p>
<h2 id="前言">前言</h2><p>很多人都认为我是计算机高手，其实我只会帮你修理下你的电脑啦，曾几何时我也帮助过好多好多的同学和老师，尝试和体验各种各样的软件，但谁又能想到我曾今也对你们的电脑做过很多失败的坑爹操作，把你们最宝贵的数据撸得灰飞烟灭。作为一名非职业HelpDesk，我一定不是最最优秀的那一群技术大牛，但我也努力超越了99.99%的从业者，Because I just love and enjoy thinking to do better and better.</p>
<p>如果你认同<code>高效，实用</code>的软件使用理念就跟着我走吧，让我们一起寻找<code>适合自己的好用软件</code>。</p>
<blockquote>
<p>长期更新此文以督促自己的懒惰，我要用佳软改变你一生的习惯。</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2016年01月04日 - 扩展阅读增加利器，完善细节内容<br>2015年12月10日 - 增加硬件选型专题，替换SecureCRT为Xmanager，mRemoteNG为MobaXterm<br>2015年10月05日 - 增加Office 2016, 清理不和谐内容<br>2015年08月06日 - 增加Ditto, mRemoteNG, SocksCap64, SwitchHosts<br>2015年08月04日 - 增加StartIsBack++, Clover, Cmd Markdown, JetBrains<br>2015年05月29日 - 增加AnyDesk，COW，替换QQ拼音纯净版为百度输入法<br>2015年04月16日 - 增加Listary，Bandisoft，Adobe Acrobat DC，Auto CAD 2016<br>2015年03月31日 - 增加微PE，有道云协作，自同步<br>2015年03月05日 - 正式更名为Windows常用软件推荐，统一日志标题和链接<br>2015年02月24日 - 替换TrueCrypt为VeraCrypt，增加易数一键还原，百度电脑专家<br>2015年02月20日 - 剥离Mac和Android部分<br>2014年11月12日 - 增加Win10，3DM运行库，网易云音乐，好奇心日报，调整部分链接和描述<br>2014年08月26日 - 引导部分原版链接至第三方Mod修改版(绿色精简)<br>2014年08月13日 - 增加DirectX Repair，EaseUS Data Recovery Wizard和Mac专题<br>2014年08月12日 - 精简优化分离内容，转化为Markdown书写<br>2014年06月02日 - 更新猎豹免费WiFi和猎豹清理大师<br>2014年04月15日 - 更新Windows 8.1 With Update和一小波翻墙工具并调整部分软件推荐<br>2014年03月18日 - 更新TeamViewer 9，Sublime 3，读知乎<br>2014年03月07日 - 新增雅虎天气，更新Office2013 With SP1等其它软件版本及评语<br>2014年01月20日 - 更新部分软件评语，新增专业软件部分之文件传输专题<br>2013年12月27日 - 手机浏览器回归QQ浏览器，更新部分软件版本和推荐优先级<br>2013年12月03日 - 更新部分软件版本，新增专业软件部分之文本处理专题<br>2013年11月28日 - 更新大批软件版本，新增福昕风腾PDF，StartIsBackPlus，高德地图<br>2013年11月21日 - PE更换为IT天空 SKYPE<br>2013年11月03日 - 增加专业软件部分之网络穿透专题<br>2013年10月08日 - 简单看图制图类工具更换为QQ影像<br>2013年10月04日 - 手机浏览器更换为傲游及链接文字描述等细节<br>2013年09月21日 - 精细化内容<br>2013年09月19日 - 完善内容<br>2013年09月07日 - 补充专业软件部分<br>2013年08月29日 - 微调精炼语法<br>2013年08月28日 - 优化下语句和措辞<br>2013年08月27日 - 增加Software List For Android<br>2013年08月26日 - 增加OS部分<br>2013年08月25日 - 补充特色推荐部分<br>2013年08月24日 - 常用软件部分基本结束<br>2013年08月23日 - 补充内容<br>2013年08月22日 - 补充内容<br>2013年08月21日 - 梳理框架</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/windows/" target="_blank" rel="external">http://wsgzao.github.io/post/windows/</a></p>
<p>扩展阅读</p>
<ul>
<li>利器 - <a href="http://liqi.io/" target="_blank" rel="external">http://liqi.io/</a></li>
<li>小众软件 - <a href="http://love.appinn.com/" target="_blank" rel="external">http://love.appinn.com/</a></li>
<li>善用佳软 - <a href="http://xbeta.info/" target="_blank" rel="external">http://xbeta.info/</a></li>
<li>zd423 - <a href="http://www.zdfans.com/" target="_blank" rel="external">http://www.zdfans.com/</a></li>
<li>Apps索引 - <a href="http://wsgzao.github.io/index/#Apps" target="_blank" rel="external">http://wsgzao.github.io/index/#Apps</a></li>
</ul>
<hr>
<h2 id="硬件选型">硬件选型</h2><blockquote>
<p>选择笔记本不一定为了办公和轻便，使用台式机也未必只是为了玩游戏和大屏享受，手机和平板也可以辅助我们工作，无论选择哪种硬件，使用起来能够赏心悦目，得心应手，提高效率才是我们追求的本质。</p>
</blockquote>
<h3 id="笔记本">笔记本</h3><ol>
<li>从颜值角度出发我会推荐Dell XPS和MacBook</li>
<li>从实用方向考虑我会选择ThinkPad X250和ThinkPad X1</li>
<li>其它好的选择当然也是随心啦，比如大神船和最有可能乱入的小米和华为</li>
</ol>
<h3 id="台式机">台式机</h3><blockquote>
<p>京东提供了一个相对透明开放的装机平台，至少可以让很多人避开奸商偷袭</p>
</blockquote>
<p>京东装机大师 - <a href="http://diy.jd.com/" target="_blank" rel="external">http://diy.jd.com/</a><br>萌叔装机好福哟 - <a href="https://shironeko.taobao.com" target="_blank" rel="external">https://shironeko.taobao.com</a></p>
<h3 id="配件">配件</h3><blockquote>
<p>推荐大家多参考利器</p>
</blockquote>
<ol>
<li>8G内存和256G SSD固态硬盘会逐步成为标配，提高生产力的首选</li>
<li>你可能也需要手感不错的鼠标和掷地有声的机械键盘</li>
<li>一把舒服的座椅和高大上的显示器</li>
<li>欢迎继续补充</li>
</ol>
<h3 id="系统部署">系统部署</h3><p>ThinkPad X1 Carbon使用经验分享(解决Windows 10高分屏模糊) - <a href="http://wsgzao.github.io/post/thinkpad/" target="_blank" rel="external">http://wsgzao.github.io/post/thinkpad/</a></p>
<h2 id="操作系统">操作系统</h2><blockquote>
<p>重装系统建议谨慎行事，丢失数据可是很蛋疼的一件事哦</p>
</blockquote>
<p>Windows 7 - <a href="http://www.zdfans.com/4922.html" target="_blank" rel="external">http://www.zdfans.com/4922.html</a></p>
<ul>
<li>普通用户建议稳定在Win7</li>
<li>怀有好奇心的朋友可考虑向Win10迈进</li>
<li>玩游戏和办公需求高者请勿尝鲜</li>
</ul>
<p>Windows 10 - <a href="http://www.zdfans.com/win10" target="_blank" rel="external">http://www.zdfans.com/win10</a></p>
<ul>
<li>Windows 10强势回归</li>
</ul>
<p>Ghost - <a href="http://songyongzhi.blog.163.com/" target="_blank" rel="external">http://songyongzhi.blog.163.com/</a></p>
<ul>
<li>偷懒请认准Ghost，ESD会慢慢成为新的标准</li>
<li>安装方式建议【U盘引导+移动硬盘安装】</li>
</ul>
<p>Others - <a href="http://msdn.itellyou.cn/" target="_blank" rel="external">http://msdn.itellyou.cn/</a></p>
<ul>
<li>简单直接的微软原版资源下载渠道</li>
</ul>
<p>U盘装机助理 - <a href="http://www.itiankong.net/forum-usbzl-1.html" target="_blank" rel="external">http://www.itiankong.net/forum-usbzl-1.html</a></p>
<ul>
<li>作者频繁的更新速度深深的折磨着我幼小的心灵</li>
</ul>
<p>微PE - <a href="http://www.wepe.com.cn/" target="_blank" rel="external">http://www.wepe.com.cn/</a></p>
<ul>
<li>感谢前通用PE作者@李培聪的付出，祝你创业顺利哈</li>
</ul>
<hr>
<h2 id="常用软件">常用软件</h2><h3 id="特色推荐">特色推荐</h3><p>Listary -  <a href="http://www.listary.com/" target="_blank" rel="external">http://www.listary.com/</a></p>
<ul>
<li>如果Mac下的Alfred作为排名第一的效率工具类神器，那你还在犹豫什么呢，必装</li>
<li>我也从Launchy转投Listary，是时候放开Everything/Total Commander</li>
</ul>
<p>ADSafe广告管家 - <a href="http://www.ad-safe.com/" target="_blank" rel="external">http://www.ad-safe.com/</a></p>
<ul>
<li>去网页，弹窗，视频40s等待广告就是如此简单</li>
<li>发现上网异常请自觉停用此类去广告软件</li>
</ul>
<p>Http File Server - <a href="http://pan.baidu.com/s/1i3u0vGx" target="_blank" rel="external">http://pan.baidu.com/s/1i3u0vGx</a></p>
<ul>
<li>十分方便的HTTP文件共享服务器</li>
<li>Mod By 随波</li>
</ul>
<h3 id="压缩解压缩">压缩解压缩</h3><p>好压 - <a href="http://haozip.2345.com/" target="_blank" rel="external">http://haozip.2345.com/</a></p>
<ul>
<li>简单方便，自带虚拟光驱</li>
<li>WinRAR，7zip，360压缩也许都很优秀，但我相信自己体验后做出的选择</li>
</ul>
<p>Bandizip - <a href="http://www.bandisoft.com/bandizip" target="_blank" rel="external">http://www.bandisoft.com/bandizip</a></p>
<ul>
<li>Bandisoft出品，轻巧、快速、免费的压缩软件</li>
</ul>
<h3 id="图像浏览处理">图像浏览处理</h3><p>2345看图王 - <a href="http://pic.2345.com/" target="_blank" rel="external">http://pic.2345.com/</a></p>
<ul>
<li>速度最快的看图软件</li>
<li>ACDSee臃肿，Picasa乏力，专业制图请使用PS</li>
</ul>
<p>Honeyview - <a href="http://www.bandisoft.com/honeyview/" target="_blank" rel="external">http://www.bandisoft.com/honeyview/</a></p>
<ul>
<li>也是Bandisoft家族出品，速度惊人的图像浏览器</li>
</ul>
<p>Faststone Capture - <a href="http://www.portablesoft.org/faststone-capture/" target="_blank" rel="external">http://www.portablesoft.org/faststone-capture/</a></p>
<ul>
<li>截图神器+录屏工具</li>
<li>我也不反对大家使用QQ截图哈</li>
</ul>
<p>Adobe Photoshop - <a href="http://www.flighty.cn/html/soft/20141016_263.html" target="_blank" rel="external">http://www.flighty.cn/html/soft/20141016_263.html</a></p>
<ul>
<li>专业制图利器</li>
<li>Mod By 轻狂志</li>
</ul>
<h3 id="文字办公">文字办公</h3><p>Microsoft Office 2016 - <a href="http://pan.baidu.com/s/1hq4gSTI" target="_blank" rel="external">http://pan.baidu.com/s/1hq4gSTI</a></p>
<ul>
<li>整合32位和64位，整合Visio &amp; Project</li>
<li>移动端推荐使用金山WPS</li>
<li>推荐大家购买Office 365，全平台好用且不贵</li>
</ul>
<p>Microsoft Office 2007 - <a href="http://pan.baidu.com/share/link?shareid=966283776&amp;uk=1157904223" target="_blank" rel="external">http://pan.baidu.com/share/link?shareid=966283776&amp;uk=1157904223</a></p>
<ul>
<li>Office 2007 SP3中英双语VOL集成</li>
<li>整合Visio &amp; Project</li>
<li>已完美激活建议求稳者安装</li>
</ul>
<p>MathType - <a href="http://fengqingwuhen.blog.163.com/blog/static/17747406320141019104445935/" target="_blank" rel="external">http://fengqingwuhen.blog.163.com/blog/static/17747406320141019104445935/</a></p>
<ul>
<li>最佳数学公式编辑器</li>
</ul>
<p>福昕风腾PDF套件金山版 - <a href="http://pan.baidu.com/s/17qSRE" target="_blank" rel="external">http://pan.baidu.com/s/17qSRE</a></p>
<ul>
<li>优秀的个人免费PDF阅读软件</li>
<li>简单小巧够用</li>
</ul>
<p>Adobe Acrobat - <a href="http://yun.baidu.com/s/1pJ7UgLP" target="_blank" rel="external">http://yun.baidu.com/s/1pJ7UgLP</a></p>
<ul>
<li>需要使用专业功能朋友还是坚持Acrobat吧</li>
</ul>
<h3 id="浏览器">浏览器</h3><p>Maxthon傲游 - <a href="http://www.maxthon.cn/" target="_blank" rel="external">http://www.maxthon.cn/</a></p>
<ul>
<li>被搜狗，360极速，金山猎豹，百度浏览器依次挑战，但依旧努力改变着世界</li>
</ul>
<p>Google Chrome - <a href="http://chrome.google.com/" target="_blank" rel="external">http://chrome.google.com/</a></p>
<ul>
<li>简洁的界面和精益求精的内核是核心</li>
<li>插件丰富，版本飙得够快</li>
</ul>
<h3 id="输入法">输入法</h3><p>百度输入法 - <a href="http://shurufa.baidu.com" target="_blank" rel="external">http://shurufa.baidu.com</a></p>
<ul>
<li>百度输入法尊重用户体验成功上位，全平台统一已成定局</li>
</ul>
<h3 id="安全防护">安全防护</h3><p>腾讯电脑管家 - <a href="http://guanjia.qq.com" target="_blank" rel="external">http://guanjia.qq.com</a></p>
<ul>
<li>刷个存在感，希望淡淡的耍流氓</li>
</ul>
<p>金山毒霸 - <a href="http://www.ijinshan.com/" target="_blank" rel="external">http://www.ijinshan.com/</a></p>
<ul>
<li>金山一直很努力，但也学着耍流氓</li>
<li>猎豹系列很出色</li>
</ul>
<p>360安全中心 - <a href="http://www.360.cn/" target="_blank" rel="external">http://www.360.cn/</a></p>
<ul>
<li>用户体验和技术实力毋庸置疑</li>
<li>我不喜欢周鸿祎yī靠打压对手的流氓商业模式</li>
<li>360已经在安全领域形成垄断优势</li>
</ul>
<p>百度电脑专家 - <a href="http://zhuanjia.baidu.com/" target="_blank" rel="external">http://zhuanjia.baidu.com/</a></p>
<ul>
<li>360和腾讯都有电脑修复，但唯独百度解决了很多实际问题</li>
<li>百度卫士和杀毒还需要努力啊，被KPI逼着真耍流氓</li>
</ul>
<h3 id="媒体处理">媒体处理</h3><p>QQ影音 - <a href="http://player.qq.com/" target="_blank" rel="external">http://player.qq.com/</a></p>
<ul>
<li>全能，轻巧，无广告</li>
<li>PotPlayer或许是目前最佳的播放器</li>
</ul>
<p>QQ音乐 - <a href="http://music.qq.com/" target="_blank" rel="external">http://music.qq.com/</a></p>
<ul>
<li>我办理了绿钻</li>
</ul>
<p>网易云音乐 - <a href="http://music.163.com" target="_blank" rel="external">http://music.163.com</a></p>
<ul>
<li>网易再一次用优秀的产品体验为自己赢得了口碑</li>
</ul>
<p>完美解码 - <a href="http://jm.wmzhe.com/" target="_blank" rel="external">http://jm.wmzhe.com/</a></p>
<ul>
<li>高清全能解码播放</li>
<li>视频制作需要</li>
</ul>
<p>格式工厂 - <a href="http://www.zdfans.com/1072.html" target="_blank" rel="external">http://www.zdfans.com/1072.html</a></p>
<ul>
<li>经常音视频转码必备之一吧</li>
</ul>
<h3 id="下载工具">下载工具</h3><p>QQ旋风 - <a href="http://xf.qq.com/" target="_blank" rel="external">http://xf.qq.com/</a></p>
<ul>
<li>界面清爽，回归下载本质</li>
<li>如今浏览器自带下载也足矣</li>
</ul>
<p>迅雷 - <a href="http://vip.xunlei.com/fast_xl/" target="_blank" rel="external">http://vip.xunlei.com/fast_xl/</a></p>
<ul>
<li>产品本身很优秀</li>
<li>恭喜IPO成功，期待和小米的整合组建智能家庭</li>
</ul>
<h3 id="聊天通信">聊天通信</h3><p>QQ - <a href="http://im.qq.com/" target="_blank" rel="external">http://im.qq.com/</a></p>
<ul>
<li>我办理了QQ会员</li>
</ul>
<p>飞信 - <a href="http://feixin.10086.cn/" target="_blank" rel="external">http://feixin.10086.cn/</a></p>
<ul>
<li>群发短信，微信改变了我们的生活，4G的时代短信将离我们远去</li>
<li>只剩免费的短信报警作用吧</li>
</ul>
<p>Skype - <a href="http://www.skype.com/" target="_blank" rel="external">http://www.skype.com/</a></p>
<ul>
<li>MSN再见了因为不思进取，Skype不要走老路啊</li>
</ul>
<h3 id="词典翻译">词典翻译</h3><p>有道词典 - <a href="http://cidian.youdao.com/" target="_blank" rel="external">http://cidian.youdao.com/</a></p>
<ul>
<li>越做越强，短期内无人能超越</li>
<li>金山词霸和必应词典看移动端吧</li>
</ul>
<h3 id="邮件客户端">邮件客户端</h3><p>Foxmail - <a href="http://foxmail.com.cn/" target="_blank" rel="external">http://foxmail.com.cn/</a></p>
<ul>
<li>入职后的第一件事就是收发邮件</li>
<li>个人日常在线邮箱建议使用QQ邮箱</li>
<li>投简历还是无奈选择Gmail</li>
</ul>
<h3 id="文本编辑器">文本编辑器</h3><p>NotePad2 - <a href="http://pan.baidu.com/s/1qWkb1q0" target="_blank" rel="external">http://pan.baidu.com/s/1qWkb1q0</a></p>
<ul>
<li>差个tab标签，建议替换自带记事本</li>
<li>Mod By zhfi</li>
</ul>
<p>Sublime Text - <a href="http://pan.baidu.com/share/home?uk=3693847658#category/type=0" target="_blank" rel="external">http://pan.baidu.com/share/home?uk=3693847658#category/type=0</a></p>
<ul>
<li>无比性感的编辑器，</li>
<li>建议补充搭配使用</li>
</ul>
<p>UEStudio -  <a href="http://hrtsea.com/?s=UEStudio" target="_blank" rel="external">http://hrtsea.com/?s=UEStudio</a></p>
<ul>
<li>专业强大的文本编辑器</li>
<li>略显臃肿</li>
</ul>
<p>Cmd Markdown - <a href="http://www.zybuluo.com/mdeditor" target="_blank" rel="external">http://www.zybuluo.com/mdeditor</a></p>
<ul>
<li>Markdown简洁的语法可以辅助你书写更有质量的文章</li>
<li>作业部落推出客户端啦</li>
</ul>
<h3 id="数据同步共享">数据同步共享</h3><p>金山快盘 - <a href="http://www.kuaipan.cn/" target="_blank" rel="external">http://www.kuaipan.cn/</a></p>
<ul>
<li>百度网盘统一文件共享，360不时捅其菊花，金山不断深耕协同办公，腾讯继续保持蛋疼状态</li>
</ul>
<p>Evernote - <a href="http://www.evernote.com/" target="_blank" rel="external">http://www.evernote.com/</a></p>
<ul>
<li>笔记类应用除了onenote我只认可它</li>
<li>建议搭配金山快盘和Evernote，提高工作效率</li>
</ul>
<p>有道云协作 - <a href="http://note.youdao.com/groupintro.html" target="_blank" rel="external">http://note.youdao.com/groupintro.html</a></p>
<ul>
<li>跨平台支持多人实时协作，可以极大提升团队效率</li>
<li>虽然没有直接推荐有道云笔记但对于文字编辑类工作者来说整合使用还是很方便的</li>
</ul>
<p>FileGee - <a href="http://cn.filegee.com/" target="_blank" rel="external">http://cn.filegee.com/</a></p>
<ul>
<li>国内优秀的个人免费本地同步工具</li>
</ul>
<p>自同步 - <a href="http://www.zisync.com/" target="_blank" rel="external">http://www.zisync.com/</a></p>
<ul>
<li>局域网最高效的文件同步、共享工具</li>
</ul>
<h3 id="数据备份恢复">数据备份恢复</h3><p>易数一键还原 - <a href="http://www.onekeyrestore.cn/" target="_blank" rel="external">http://www.onekeyrestore.cn/</a></p>
<ul>
<li>以DiskGenius为内核开发，安全易用靠谱</li>
<li>同时推荐ORM一键还原系统</li>
</ul>
<p>DiskGenius -  <a href="http://pan.baidu.com/s/1kTj3b75" target="_blank" rel="external">http://pan.baidu.com/s/1kTj3b75</a></p>
<ul>
<li>国内磁盘分区和数据恢复的佼佼者</li>
<li>Mod By MyCrack</li>
</ul>
<p>EaseUS Data Recovery Wizard - <a href="http://www.0daydown.com/?s=EaseUS+Data+Recovery" target="_blank" rel="external">http://www.0daydown.com/?s=EaseUS+Data+Recovery</a></p>
<ul>
<li>原先是国产易我数据恢复，现在依旧犀利啊</li>
</ul>
<h3 id="数据加密">数据加密</h3><p>VeraCrypt -  <a href="http://sourceforge.net/projects/veracrypt/" target="_blank" rel="external">http://sourceforge.net/projects/veracrypt/</a></p>
<ul>
<li>替代TrueCrypt，不断修复安全漏洞</li>
<li>微软自带的 BitLocker 驱动器加密也足矣</li>
</ul>
<h3 id="快速启动">快速启动</h3><p>StartIsBack++ - <a href="http://www.zdfans.com/5573.html" target="_blank" rel="external">http://www.zdfans.com/5573.html</a></p>
<ul>
<li>最好用的开始菜单恢复软件</li>
</ul>
<p>Clover - <a href="http://ejie.me/" target="_blank" rel="external">http://ejie.me/</a></p>
<ul>
<li>为你的 Windows Explorer 插上翅膀</li>
<li>可惜作者不更新了，在Win10上会有一些小Bug</li>
</ul>
<p>Ditto - <a href="http://ditto-cp.sourceforge.net/" target="_blank" rel="external">http://ditto-cp.sourceforge.net/</a></p>
<ul>
<li>不可不用的精品免费Windows剪贴板增强小工具</li>
</ul>
<p>SwitchHosts - <a href="http://oldj.github.io/SwitchHosts/" target="_blank" rel="external">http://oldj.github.io/SwitchHosts/</a></p>
<ul>
<li>SwitchHosts! 是一个管理、切换多个 hosts 方案的工具</li>
<li>它是一个免费开源的软件，基于 wxPython 开发，可在 Windows/Linux/Mac 下运行</li>
</ul>
<h3 id="光盘刻录">光盘刻录</h3><p>Nero -  <a href="http://pan.baidu.com/share/link?shareid=1935729386&amp;uk=1157904223" target="_blank" rel="external">http://pan.baidu.com/share/link?shareid=1935729386&amp;uk=1157904223</a></p>
<ul>
<li>专注刻录，刻录时记得校验数据，别刻飞了</li>
</ul>
<p>UltraISO - <a href="http://www.zdfans.com/1397.html" target="_blank" rel="external">http://www.zdfans.com/1397.html</a></p>
<ul>
<li>作为经常折腾各类操作系统的人来说，它不可或缺</li>
</ul>
<h3 id="驱动运行库">驱动运行库</h3><p>万能驱动助理 - <a href="http://www.wandrv.com" target="_blank" rel="external">http://www.wandrv.com</a></p>
<ul>
<li>确实是装机必备的万能驱动包</li>
</ul>
<p>驱动精灵 - <a href="http://www.drivergenius.com/" target="_blank" rel="external">http://www.drivergenius.com/</a></p>
<ul>
<li>不重装电脑或者驱动异常，别没事升级驱动</li>
</ul>
<p>DirectX Repair - <a href="http://blog.csdn.net/vbcom/article/details/6962388" target="_blank" rel="external">http://blog.csdn.net/vbcom/article/details/6962388</a></p>
<ul>
<li>系统+游戏修复神器啊</li>
</ul>
<p>3DM游戏运行库 - <a href="http://bbs.3dmgame.com/thread-3551335-1-1.html" target="_blank" rel="external">http://bbs.3dmgame.com/thread-3551335-1-1.html</a></p>
<ul>
<li>集成32位和64位运行库，是目前互联网上最新最全的常用运行库合集</li>
</ul>
<h3 id="远程控制">远程控制</h3><p>TeamViewer - <a href="http://www.zdfans.com/789.html" target="_blank" rel="external">http://www.zdfans.com/789.html</a></p>
<ul>
<li>远程控制，内网穿透，VPN共享，跨平台</li>
<li>对个人免费，业界良心啊，QQ表示继续努力</li>
</ul>
<p>AnyDesk - <a href="http://anydesk.com/" target="_blank" rel="external">http://anydesk.com/</a></p>
<ul>
<li>远程控制效果或许会超出你的想象，作为TeamViewer备用方案</li>
</ul>
<p>向日葵 - <a href="http://sunlogin.oray.com/zh_CN/" target="_blank" rel="external">http://sunlogin.oray.com/zh_CN/</a></p>
<ul>
<li>硬是一种态度</li>
</ul>
<hr>
<h2 id="专业软件">专业软件</h2><blockquote>
<p>大部分行业都有属于自己的专业工具，我这里仅结合实际列举较为实用的</p>
</blockquote>
<p>VMware Workstation -  <a href="http://www.zdfans.com/?s=vmware" target="_blank" rel="external">http://www.zdfans.com/?s=vmware</a></p>
<ul>
<li>我相信硬件性能过剩的趋势将驱使更多的人走近虚拟化，感受另一个奇妙的世界</li>
</ul>
<p>Xmanager - <a href="http://www.0daydown.com/?s=Xmanager+" target="_blank" rel="external">http://www.0daydown.com/?s=Xmanager+</a></p>
<ul>
<li>相信新版Xmanager一定会让你爱不释手，放下SecureCRT的执念</li>
<li>利用Xmanager-Passive可以轻松映射图形化界面，Xshell、SecureCRT，PuTTY等都适用</li>
</ul>
<p>Adobe - <a href="http://yun.baidu.com/share/home?uk=1308988221" target="_blank" rel="external">http://yun.baidu.com/share/home?uk=1308988221</a></p>
<ul>
<li>Mod By liuhangtnnd</li>
</ul>
<p>Auto CAD - <a href="http://www.zdfans.com/4808.html" target="_blank" rel="external">http://www.zdfans.com/4808.html</a></p>
<ul>
<li>Mod By 珊瑚の海</li>
</ul>
<p>FreeMind - <a href="http://sourceforge.net/projects/freemind/" target="_blank" rel="external">http://sourceforge.net/projects/freemind/</a></p>
<ul>
<li>免费简单好用的思维脑图工具</li>
<li>XMind，Mindjet MindManager或许更专业</li>
</ul>
<p>Axure RP - <a href="http://www.0daydown.com/?s=Axure+RP" target="_blank" rel="external">http://www.0daydown.com/?s=Axure+RP</a></p>
<ul>
<li>一个产品经理必备的交互原型设计工具</li>
</ul>
<p>JetBrains - <a href="http://www.jetbrains.com/" target="_blank" rel="external">http://www.jetbrains.com/</a></p>
<ul>
<li>IntelliJ IDEA, PhpStorm, PyCharm, ReSharper等都是这家出品的</li>
<li>学生和老师可以免费试用全套产品哈</li>
</ul>
<h3 id="网络穿透专题">网络穿透专题</h3><blockquote>
<p>善用此类工具你可以穿透各类网络干你想干的事情</p>
</blockquote>
<p>CCProxy - <a href="http://www.ccproxy.com/" target="_blank" rel="external">http://www.ccproxy.com/</a></p>
<ul>
<li>最佳共享上网行为管理软件</li>
<li>与Teamviewer VPN协同二级代理穿透网络</li>
</ul>
<p>COW - <a href="https://github.com/cyfdecyf/cow" target="_blank" rel="external">https://github.com/cyfdecyf/cow</a></p>
<ul>
<li>COW 是一个简化穿墙的 HTTP 代理服务器</li>
</ul>
<p>Proxifier - <a href="http://pan.baidu.com/share/link?shareid=3076195103&amp;uk=1157904223" target="_blank" rel="external">http://pan.baidu.com/share/link?shareid=3076195103&amp;uk=1157904223</a></p>
<ul>
<li>让不支持代理的软件也能通，如mstsc</li>
</ul>
<p>MobaXterm - <a href="http://www.0daydown.com/?s=MobaXterm" target="_blank" rel="external">http://www.0daydown.com/?s=MobaXterm</a></p>
<ul>
<li>MobaXterm是一款豪华、全功能的终端软件MobaXterm</li>
<li>用来代替mRemote管理3389在适合不过了</li>
</ul>
<p>SocksCap64 - <a href="http://www.sockscap64.com/" target="_blank" rel="external">http://www.sockscap64.com/</a></p>
<ul>
<li>最好用的网络加速/Socks代理软件</li>
</ul>
<h3 id="文本处理专题">文本处理专题</h3><blockquote>
<p>本专题将重点解决日常办公中遇到的PDF转换，内容检索，ORC识别等专向领域</p>
</blockquote>
<p>Smallpdf - <a href="http://smallpdf.com/cn" target="_blank" rel="external">http://smallpdf.com/cn</a></p>
<ul>
<li>云服务时代可以让我们轻松玩转pdf</li>
</ul>
<p>FileLocator Pro - <a href="http://www.portablesoft.org/filelocator-pro-portable/" target="_blank" rel="external">http://www.portablesoft.org/filelocator-pro-portable/</a></p>
<ul>
<li>最好的免索引全文搜索工具</li>
<li>文件检索请使用Everything</li>
</ul>
<p>ABBYY FineReader Corporate - <a href="http://www.ttrar.com/html/ABBYY-FineReader-Corporate.html" target="_blank" rel="external">http://www.ttrar.com/html/ABBYY-FineReader-Corporate.html</a></p>
<ul>
<li>世界第一的OCR软件!识别率英文120%!中文99%!这货是真的真的很强</li>
</ul>
<p>Beyond Compare - <a href="http://www.ttrar.com/html/Beyond-Compare.html" target="_blank" rel="external">http://www.ttrar.com/html/Beyond-Compare.html</a></p>
<ul>
<li>不可多得的专业级的文件夹和文件对比工具</li>
</ul>
<h3 id="文件传输专题">文件传输专题</h3><blockquote>
<p>本身这没有什么好介绍的，但是最近智能家庭的概念和各大互联网企业的动作让我看见某些市场前景，我这里简单预测下自己的判断。<br>迅雷的离线下载、云点播和百度云这两样”范云服务“产品将在未来的智能家庭硬件大战中起到关键性的作用，它们与其它产品如无线路由器，电视机的合作和融合将会彻底改变我们的生活方式，目前来看已经在改变。</p>
</blockquote>
<p>常用下载工具没有推荐 - ?</p>
<ul>
<li>无论是迅雷，QQ旋风，还是国外的IDM，EagleGet，最终应该转型为类似百度云这样的平台类应用</li>
</ul>
<p>WinSCP - <a href="http://winscp.net/eng/download.php" target="_blank" rel="external">http://winscp.net/eng/download.php</a></p>
<ul>
<li>个人认为是目前最佳的sftp和ftp传输工具，用户体验已超越FileZilla Client</li>
</ul>
<p>Serv-U - <a href="http://www.ttrar.com/html/Serv-U-FTP-Server-Platinum.html" target="_blank" rel="external">http://www.ttrar.com/html/Serv-U-FTP-Server-Platinum.html</a></p>
<ul>
<li>这也许是世界上最好的FTP服务器之一</li>
<li>如果觉得贵不妨尝试下国产的xlight</li>
</ul>
<p>FileZilla Server - <a href="https://filezilla-project.org/download.php?type=server" target="_blank" rel="external">https://filezilla-project.org/download.php?type=server</a></p>
<ul>
<li>Windows下的免费服务端就用这个吧</li>
<li>Unix一般用vsftpd或者ProFTPD较多，当然你也要考虑处理中文乱码</li>
</ul>
<hr>
<p>题图 - 移动先行，云优先   Mobile-First，Cloud-First</p>
]]></content>
    <summary type="html">
    <![CDATA[长期更新此文以督促自己的懒惰，我要用佳软改变你一生的习惯]]>
    
    </summary>
    
      <category term="软件 | Soft" scheme="http://wsgzao.github.io/categories/%E8%BD%AF%E4%BB%B6-Soft/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Installing RHEL 7 or CentOS 7 on older HP RAID controllers]]></title>
    <link href="http://wsgzao.github.io/post/cciss/"/>
    <id>http://wsgzao.github.io/post/cciss/</id>
    <published>2015-12-31T08:22:32.000Z</published>
    <updated>2015-12-31T03:04:01.052Z</updated>
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>针对老的硬件安装新的操作系统，无论是Windows还是Linux很多时候都会遇到无法识别磁盘阵列卡的情况，一般情况下通过dd加载官方或者老版本ISO中的驱动识别RAID阵列卡即可，但这次遇到的HP DL580比较特别，需要修改引导参数来解决，详细原因可以参考扩展阅读。本文主要以在HP DL580上部署RHEL 7为例，灵感来源于国外的一篇文章Installing CentOS 7 on older HP ProLiants，在此表示由衷的感谢。</p>
<blockquote>
<p>使用hpsa.hpsa_allow_any=1忽略控制器检测识别磁盘阵列</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年12月31日 - 更新细节描述<br>2015年12月03日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/cciss/" target="_blank" rel="external">http://wsgzao.github.io/post/cciss/</a></p>
<p>扩展阅读</p>
<ul>
<li>HP Smart Array CCISS driver - <a href="http://cciss.sourceforge.net/" target="_blank" rel="external">http://cciss.sourceforge.net/</a></li>
<li>HP Proliant DL580 G5安装centos7 x64无法识别阵列卡问题 - <a href="http://blog.csdn.net/ztsinghua/article/details/48825013" target="_blank" rel="external">http://blog.csdn.net/ztsinghua/article/details/48825013</a></li>
</ul>
<hr>
<h2 id="Problem">Problem</h2><p>A quick google brought up this StackOverflow article.</p>
<p>CentOS 7 x64 and HP Proliant DL360 G5 SCSI Controller compatibility - <a href="http://serverfault.com/questions/611182/centos-7-x64-and-hp-proliant-dl360-g5-scsi-controller-compatibility" target="_blank" rel="external">http://serverfault.com/questions/611182/centos-7-x64-and-hp-proliant-dl360-g5-scsi-controller-compatibility</a></p>
<blockquote>
<p>PROBLEM: RHEL7 removes the the the CCSIS driver and you need to load the kernel component correctly before it can see any drives.</p>
</blockquote>
<p>There are two parts to this install:</p>
<ol>
<li>Loading the kernel component for the installer (or rather allow HPSA to load any old driver)</li>
<li>Altering the bootloader to ensure that on boot the kernel uses the same HPSA directives, otherwise after install it’ll boot and guess what… it won’t see your drives!</li>
</ol>
<h2 id="RHEL_7">RHEL 7</h2><h3 id="第一次安装">第一次安装</h3><ol>
<li>加载RHEL 7.1的ISO镜像引导至安装画面</li>
<li>选择<code>Install Red Hat Enterprise Linux 7.1</code></li>
<li>按一下<code>Tab</code>，在quiet后空格加入<code>hpsa.hpsa_simple_mode=1 hpsa.hpsa_allow_any=1</code></li>
<li>按步骤一路执行，识别硬盘开始安装</li>
</ol>
<h3 id="安装重启修复引导">安装重启修复引导</h3><ol>
<li>加载RHEL 7.1的ISO镜像引导至安装画面</li>
<li>选择<code>Trubleshooting→Rescue a Red Hat Enterprise Linux system</code></li>
<li>按一下<code>Tab</code>，在quiet后空格加入<code>hpsa.hpsa_simple_mode=1 hpsa.hpsa_allow_any=1</code></li>
<li>按步骤一路执行，识别硬盘挂载系统分区至<code>/mnt/sysimage</code></li>
<li>手动修改<code>/boot/grub2/grub.cfg</code>，重启后进入系统</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">chroot /mnt/sysimage</span><br><span class="line"><span class="built_in">cd</span> /boot/grub2/</span><br><span class="line">cp grub.cfg grub.cfg.bak</span><br><span class="line"></span><br><span class="line">vi grub.cfg</span><br><span class="line"><span class="comment">#在启动菜单处quiet空格加入参数，注意有两处请仔细甄别</span></span><br><span class="line">quiet hpsa.hpsa_simple_mode=<span class="number">1</span> hpsa.hpsa_allow_any=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#保存退出重启</span></span><br><span class="line">:x</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">init <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#重启后卡住</span></span><br><span class="line">可以尝试第二个rescue启动项试试</span><br></pre></td></tr></table></figure>
<h2 id="CentOS_7">CentOS 7</h2><p>CentOS 7 and older HP RAID controllers - <a href="http://jordanappleson.co.uk/linux/2014/09/18/centos-7-and-hp-raid-drivers/" target="_blank" rel="external">http://jordanappleson.co.uk/linux/2014/09/18/centos-7-and-hp-raid-drivers/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[使用hpsa.hpsa_allow_any=1忽略控制器检测识别磁盘阵列]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Jacman基于Pacman修改的Hexo主题]]></title>
    <link href="http://wsgzao.github.io/post/hexo-jacman/"/>
    <id>http://wsgzao.github.io/post/hexo-jacman/</id>
    <published>2015-12-30T09:11:20.000Z</published>
    <updated>2015-12-30T08:36:09.706Z</updated>
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>Pacman是一款为Hexo打造的一款扁平化，有着响应式设计的主题。 由于Pacman已经暂停更新，加上Hexo已经升级为3.0，很多主题需要重新适配，而Jacman是基于Pacman修改而来，在前端设计样式和功能上做了很多合理的修改和完善，相信你也一定可以很快上手。</p>
<blockquote>
<p>Jacman是一款基于Pacman修改并坚持更新的Hexo主题</p>
</blockquote>
<hr>
<h2 id="更新历史">更新历史</h2><p>2015年12月30日 - 更新Jacman配置参数<br>2015年11月29日 - 更新Jacman配置细节<br>2015年03月22日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/hexo-pacman/" target="_blank" rel="external">http://wsgzao.github.io/post/hexo-pacman/</a></p>
<p>扩展阅读</p>
<ul>
<li>Jacman - <a href="https://github.com/wuchong/jacman" target="_blank" rel="external">https://github.com/wuchong/jacman</a></li>
<li>HelloDog Index - <a href="http://wsgzao.github.io/index/#Hexo" target="_blank" rel="external">http://wsgzao.github.io/index/#Hexo</a></li>
</ul>
<hr>
<h2 id="主题安装">主题安装</h2><blockquote>
<p>设置很简单，请参考原文中文说明</p>
</blockquote>
<h3 id="Jacman">Jacman</h3><p><a href="http://wuchong.me/blog/2014/11/20/how-to-use-jacman/" target="_blank" rel="external">http://wuchong.me/blog/2014/11/20/how-to-use-jacman/</a></p>
<hr>
<h2 id="配置yml">配置yml</h2><blockquote>
<p>这是我自己的真实配置文件，请参考原文注释做修改</p>
</blockquote>
<h3 id="全局yml">全局yml</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="header"># Hexo Configuration</span></span><br><span class="line"><span class="header">## Docs: http://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="header">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="header"># Site</span></span><br><span class="line">title: HelloDog</span><br><span class="line">subtitle: Keep Calm and Carry On</span><br><span class="line">description: HelloDog是一个基于Github和Hexo的静态Blog，希望用简单而清晰的写作方式Markdown分享自己的心得体会。</span><br><span class="line">author: wsgzao</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone:</span><br><span class="line"></span><br><span class="line"><span class="header"># URL</span></span><br><span class="line"><span class="header">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line">url: http://wsgzao.github.io/</span><br><span class="line">root: /</span><br><span class="line">permalink: post/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line"></span><br><span class="line"><span class="header"># Directory</span></span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"><span class="header"># Writing</span></span><br><span class="line">new<span class="emphasis">_post_</span>name: :title.md # File name of new posts</span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: false # Transform title into titlecase</span><br><span class="line">external_link: true # Open external links in new tab</span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: false</span><br><span class="line">post<span class="emphasis">_asset_</span>folder: false</span><br><span class="line">relative_link: false</span><br><span class="line">future: true</span><br><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  tab_replace:</span><br><span class="line"></span><br><span class="line"><span class="header"># Category &amp; Tag</span></span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"><span class="header"># Date / Time format</span></span><br><span class="line"><span class="header">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="header">## You can customize the date format as defined in</span></span><br><span class="line"><span class="header">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"><span class="header"># Pagination</span></span><br><span class="line"><span class="header">## Set per_page to 0 to disable pagination</span></span><br><span class="line">per_page: 10</span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"><span class="header"># Extensions</span></span><br><span class="line"><span class="header">## Plugins: http://hexo.io/plugins/</span></span><br><span class="line"><span class="header">## Themes: http://hexo.io/themes/</span></span><br><span class="line">theme: jacman</span><br><span class="line"></span><br><span class="line"><span class="header"># Deployment</span></span><br><span class="line"><span class="header">## Docs: http://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  type:</span><br><span class="line"></span><br><span class="line"><span class="header"># Others</span></span><br><span class="line">index_generator:</span><br><span class="line">  per_page: 5 ##首页默认10篇文章标题 如果值为0不分页</span><br><span class="line"></span><br><span class="line">archive_generator:</span><br><span class="line"><span class="code">    per_page: 0 ##归档页面默认10篇文章标题</span></span><br><span class="line"><span class="code">    yearly: true  ##生成年视图</span></span><br><span class="line"><span class="code">    monthly: true ##生成月视图</span></span><br><span class="line"></span><br><span class="line">tag_generator:</span><br><span class="line"><span class="code">    per_page: 0 ##标签分类页面默认10篇文章</span></span><br><span class="line"></span><br><span class="line">category_generator: </span><br><span class="line"><span class="code">    per_page: 0 ###分类页面默认10篇文章</span></span><br><span class="line"></span><br><span class="line">feed:</span><br><span class="line"><span class="code">    type: atom ##feed类型 atom或者rss2</span></span><br><span class="line"><span class="code">    path: atom.xml ##feed路径</span></span><br><span class="line"><span class="code">    limit: 20  ##feed文章最小数量</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="主题yml">主题yml</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="header">##### Menu</span></span><br><span class="line">menu:</span><br><span class="line">  主页 | Home: /</span><br><span class="line">  索引 | Index: /index</span><br><span class="line">  归档 | Archives: /archives</span><br><span class="line">  简介 | About: /about</span><br><span class="line"><span class="header">## you can create `tags` and `categories` folders in `../source`.</span></span><br><span class="line"><span class="header">## And create a `index.md` file in each of them.</span></span><br><span class="line"><span class="header">## set `front-matter`as</span></span><br><span class="line"><span class="header">## layout: tags (or categories)</span></span><br><span class="line"><span class="header">## title: tags (or categories)</span></span><br><span class="line"><span class="header">## ---</span></span><br><span class="line"></span><br><span class="line"><span class="header">#### Widgets</span></span><br><span class="line">widgets:</span><br><span class="line"><span class="bullet">- </span>github-card</span><br><span class="line"><span class="bullet">- </span>category</span><br><span class="line"><span class="bullet">- </span>links</span><br><span class="line"><span class="bullet">- </span>rss</span><br><span class="line">  ## provide eight widgets:github-card,category,tag,rss,archive,tagcloud,links,weibo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="header">#### RSS</span></span><br><span class="line">rss: /atom.xml ## RSS address.</span><br><span class="line"></span><br><span class="line"><span class="header">#### Image</span></span><br><span class="line">imglogo:</span><br><span class="line">  enable: true             ## display image logo true/false.</span><br><span class="line">  src: img/logo.png        ## <span class="code">`.svg`</span> and <span class="code">`.png`</span> are recommended,please put image into the theme folder <span class="code">`/jacman/source/img`</span>.</span><br><span class="line">favicon: img/favicon.ico   ## size:32px*32px,<span class="code">`.ico`</span> is recommended,please put image into the theme folder <span class="code">`/jacman/source/img`</span>.     </span><br><span class="line">apple_icon: img/jacman.jpg ## size:114px*114px,please put image into the theme folder <span class="code">`/jacman/source/img`</span>.</span><br><span class="line">author_img: img/author.jpg ## size:220px*220px.display author avatar picture.if don't want to display,please don't set this.</span><br><span class="line">banner_img: #img/banner.jpg ## size:1920px*200px+. Banner Picture</span><br><span class="line"><span class="header">### Theme Color</span></span><br><span class="line">theme_color:</span><br><span class="line"><span class="code">    theme: '#ea6753'    ##the defaut theme color is blue</span></span><br><span class="line"></span><br><span class="line"><span class="header"># 代码高亮主题</span></span><br><span class="line"><span class="header"># available: default | night</span></span><br><span class="line">highlight_theme: night</span><br><span class="line"></span><br><span class="line"><span class="header">#### index post is expanding or not</span></span><br><span class="line">index:</span><br><span class="line">  expand: false           ## default is unexpanding,so you can only see the short description of each post.</span><br><span class="line">  excerpt_link: Read More </span><br><span class="line"></span><br><span class="line">close_aside: true  #close sidebar in post page if true</span><br><span class="line">mathjax: false      #enable mathjax if true</span><br><span class="line"></span><br><span class="line"><span class="header">### Creative Commons License Support, see http://creativecommons.org/</span></span><br><span class="line"><span class="header">### you can choose: by , by-nc , by-nc-nd , by-nc-sa , by-nd , by-sa , zero</span></span><br><span class="line">creative_commons: none</span><br><span class="line"></span><br><span class="line"><span class="header">#### Author information</span></span><br><span class="line">author:</span><br><span class="line">  intro_line1:  "Hello, I'm OX. This is my blog on GitHub."    ## your introduction on the bottom of the page</span><br><span class="line">  intro_line2:  "Doing is better than perfect."  ## the 2nd line</span><br><span class="line">  weibo:  ## e.g. wuchong1014 or 2176287895 for http://weibo.com/2176287895</span><br><span class="line">  weibo_verifier:  ## e.g. b3593ceb Your weibo-show widget verifier ,if you use weibo-show it is needed.</span><br><span class="line">  tsina:      ## e.g. 2176287895  Your weibo ID,It will be used in share button.</span><br><span class="line">  douban:     ## e.g. wuchong1014 or your id for https://www.douban.com/people/wuchong1014</span><br><span class="line">  zhihu:      ## e.g. jark  for http://www.zhihu.com/people/jark</span><br><span class="line">  email:      ## e.g. imjark@gmail.com</span><br><span class="line">  twitter:    ## e.g. jarkwu for https://twitter.com/jarkwu</span><br><span class="line">  github: wsgzao    ## e.g. wuchong for https://github.com/wuchong</span><br><span class="line">  facebook:   ## e.g. imjark for https://facebook.com/imjark</span><br><span class="line">  linkedin: aowang  ## e.g. wuchong1014 for https://www.linkedin.com/in/wuchong1014</span><br><span class="line">  google_plus:    ## e.g. "111190881341800841449" for https://plus.google.com/u/0/111190881341800841449, the "" is needed!</span><br><span class="line">  stackoverflow:  ## e.g. 3222790 for http://stackoverflow.com/users/3222790/jark</span><br><span class="line"><span class="header">## if you set them, the corresponding  share button will show on the footer</span></span><br><span class="line"></span><br><span class="line"><span class="header">#### Toc</span></span><br><span class="line">toc:</span><br><span class="line">  article: true   ## show contents in article.</span><br><span class="line">  aside: true     ## show contents in aside.</span><br><span class="line"><span class="header">## you can set both of the value to true of neither of them.</span></span><br><span class="line"><span class="header">## if you don't want display contents in a specified post,you can modify `front-matter` and add `toc: false`.</span></span><br><span class="line"></span><br><span class="line"><span class="header">#### Links</span></span><br><span class="line">links:</span><br><span class="line">  Hexo: https://hexo.io/</span><br><span class="line">  Jark's Blog: http://wuchong.me</span><br><span class="line">  GitHub: https://github.com/wsgzao</span><br><span class="line">  LinkedIn: https://www.linkedin.com/in/aowang</span><br><span class="line"></span><br><span class="line"><span class="header">#### Comment</span></span><br><span class="line">duoshuo_shortname: wsgzao   ## e.g. wuchong   your duoshuo short name.</span><br><span class="line">disqus_shortname:     ## e.g. wuchong   your disqus short name.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="header">#### Share button</span></span><br><span class="line">jiathis:</span><br><span class="line">  enable: false ## if you use jiathis as your share tool,the built-in share tool won't be display.</span><br><span class="line">  id: 1503875   ## e.g. 1889330 your jiathis ID.</span><br><span class="line">  tsina: 1913082125 ## e.g. 2176287895 Your weibo id,It will be used in share button.</span><br><span class="line"></span><br><span class="line"><span class="header">#### Analytics</span></span><br><span class="line">google_analytics:</span><br><span class="line">  enable: false</span><br><span class="line">  id:        ## e.g. UA-46321946-2 your google analytics ID.</span><br><span class="line">  site:      ## e.g. wuchong.me your google analytics site or set the value as auto.</span><br><span class="line"><span class="header">## You MUST upgrade to Universal Analytics first!</span></span><br><span class="line"><span class="header">## https://developers.google.com/analytics/devguides/collection/upgrade/?hl=zh_CN</span></span><br><span class="line">baidu_tongji:</span><br><span class="line">  enable: true</span><br><span class="line">  sitecode: c2c5fc7d844d0973d9f77abd87f49c3c ## e.g. e6d1f421bbc9962127a50488f9ed37d1 your baidu tongji site code</span><br><span class="line">cnzz_tongji:</span><br><span class="line">  enable: false</span><br><span class="line">  siteid:    ## e.g. 1253575964 your cnzz tongji site id</span><br><span class="line"></span><br><span class="line"><span class="header">#### Miscellaneous</span></span><br><span class="line">ShowCustomFont: true  ## you can change custom font in <span class="code">`variable.styl`</span> and <span class="code">`font.styl`</span> which in the theme folder <span class="code">`/jacman/source/css`</span>.</span><br><span class="line">fancybox: true        ## if you use gallery post or want use fancybox please set the value to true.</span><br><span class="line">totop: true           ## if you want to scroll to top in every post set the value to true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="header">#### Custom Search</span></span><br><span class="line">google_cse:</span><br><span class="line">  enable: false</span><br><span class="line">  cx:   ## e.g. 018294693190868310296:abnhpuysycw your Custom Search ID.</span><br><span class="line"><span class="header">## https://www.google.com/cse/</span></span><br><span class="line"><span class="header">## To enable the custom search You must create a "search" folder in '/source' and a "index.md" file</span></span><br><span class="line"><span class="header">## set the 'front-matter' as</span></span><br><span class="line"><span class="header">## layout: search</span></span><br><span class="line"><span class="header">## title: search</span></span><br><span class="line"><span class="header">## ---</span></span><br><span class="line">baidu_search:     ## http://zn.baidu.com/</span><br><span class="line">  enable: false</span><br><span class="line">  id: "3783770861532079376"  ## e.g. "783281470518440642"  for your baidu search id</span><br><span class="line">  site: http://zhannei.baidu.com/cse/search  ## your can change to your site instead of the default site</span><br><span class="line"></span><br><span class="line">swiftype:     ## https://swiftype.com/</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="内容发布">内容发布</h2><h3 id="修改post预设格式">修改post预设格式</h3><blockquote>
<p>建议按照个人习惯修改<code>hexo\scaffolds</code>中的<code>post.md</code></p>
</blockquote>
<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">categories:</span><br><span class="line">description:</span><br></pre></td></tr></table></figure>
<h3 id="生成文章">生成文章</h3><blockquote>
<p>文章如含有有中文请修改编码为<code>UTF-8</code>避免乱码</p>
</blockquote>
<p>1.命令生成初始文章，文件名空格会自动加<code>-</code>hyphen中横线</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="string">"hexo post"</span></span><br></pre></td></tr></table></figure>
<p>2.在<code>hexo\source\_posts</code>中编辑生成出来的<code>hexo-post</code>文件</p>
<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: hexo post #可以改成中文的，如“新文章”</span><br><span class="line">date: 2015-01-14 21:31:42 #发表日期，可自定义修改排序</span><br><span class="line">categories: blog #文章文类</span><br><span class="line"><span class="header">tags: [博客,文章] #文章标签，可以加入多标签</span><br><span class="line">---</span></span><br><span class="line"><span class="header">#这里是正文，用Markdown书写</span></span><br></pre></td></tr></table></figure>
<p>3.本地预览文章内容，登录<code>localhost:4000</code>查看效果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></p>
<p>4.发布内容到<code>public</code>文件夹，然后我选择手动复制同步到GitHub<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure></p>
<h3 id="导航栏添加自定义页面">导航栏添加自定义页面</h3><p>1.命令手动生成自定义页面<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n page <span class="string">"about"</span></span><br></pre></td></tr></table></figure></p>
<p>2.编辑<code>hexo/source/about/index.md</code>内容<br>3.修改<code>themes/jacman/_config.yml</code>文件<br><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  关于: /about</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="其它修改">其它修改</h2><h3 id="RSS和sitemap">RSS和sitemap</h3><p>1.安装RSS和sitemap插件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed@<span class="number">1</span> --save</span><br><span class="line">npm install hexo-generator-sitemap@<span class="number">1</span> --save</span><br></pre></td></tr></table></figure></p>
<p>2.开启RSS和sitemap功能，编辑<code>hexo/_config.yml</code><br><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  type: atom       #feed 类型 (atom/rss2)</span><br><span class="line">  path: atom.xml   #rss 路径</span><br><span class="line">  limit: 20        #在 rss 中最多生成的文章数(0显示所有)</span><br></pre></td></tr></table></figure></p>
<p>3.修改<code>thems/jacman/_config.yml</code>，编辑Widgets和rss<br><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="header">#### Widgets</span></span><br><span class="line">widgets:</span><br><span class="line"><span class="bullet">- </span>rss</span><br><span class="line"></span><br><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure></p>
<p>4.手动提交生成出来的<code>atom.xml</code>文件给搜索引擎</p>
<h3 id="添加404页面">添加404页面</h3><p>在GitHub根目录下如<code>wsgzao.github.io</code>设置404.html即可，建议使用<code>腾讯公益404</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"UTF-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>404 | HelloDog<span class="tag">&lt;/<span class="title">title</span>&gt;</span>                                                                                              </span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"http://www.qq.com/404/search_children.js"</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="网站统计">网站统计</h3><p>Jacman自带的选择足够了</p>
<h3 id="站内搜索">站内搜索</h3><blockquote>
<p>已提交微搜索(swiftype也很不错)的Pull Request给Jacman，欢迎大家体验</p>
</blockquote>
<p>微搜索 - <a href="http://tinysou.com/" target="_blank" rel="external">http://tinysou.com/</a><br>swiftype - <a href="https://swiftype.com/" target="_blank" rel="external">https://swiftype.com/</a></p>
<p>利用swiftype为hexo添加站内搜索v2.0<br><a href="http://www.jerryfu.net/post/search-engine-for-hexo-with-swiftype-v2.html" target="_blank" rel="external">http://www.jerryfu.net/post/search-engine-for-hexo-with-swiftype-v2.html</a></p>
<h2 id="常见错误">常见错误</h2><ol>
<li>修改配置文件时注意<code>YAML</code>语法，参数<code>冒号:</code>后一定要留<code>空格</code></li>
<li>中文乱码请修改文件编码格式为<code>UTF-8</code></li>
<li>GitHub同步慢或者失败请使用翻墙代理加速</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[Jacman是一款基于Pacman修改并坚持更新的Hexo主题]]>
    
    </summary>
    
      <category term="Hexo" scheme="http://wsgzao.github.io/categories/Hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用rt_tables巧妙配置Linux多网卡多路由实现策略路由]]></title>
    <link href="http://wsgzao.github.io/post/iproute2/"/>
    <id>http://wsgzao.github.io/post/iproute2/</id>
    <published>2015-12-23T08:22:32.000Z</published>
    <updated>2015-12-23T01:12:27.126Z</updated>
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>一般在多网卡的网络访问关系中我们通常根据目标IP地址段来添加静态路由表，在主机系统配置层面这个需求一般都比较简单也不需要使用非常复杂的命令，说实话如果不是因为开发测试中心同事<a href="https://cn.linkedin.com/in/恒-谢-aa5598106" target="_blank" rel="external">@谢恒</a>的乱入启发，我也不会发现还有策略路由这样一种灵活通用的配置方法来实现Linux多网卡多路由的设定，灰常感谢。</p>
<blockquote>
<p>rt_tables是一种更加简单灵活的策略路由实现方法</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年12月23日 - 增加Linux添加静态路由最佳实践<br>2015年12月18日 - 修正动态路由为策略路由描述，完善内容，感谢<a href="http://www.v2ex.com/member/extreme" target="_blank" rel="external">@extreme</a><br>2015年12月17日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/iproute2/" target="_blank" rel="external">http://wsgzao.github.io/post/iproute2/</a></p>
<p>扩展阅读</p>
<ul>
<li>Routing Tables - <a href="http://linux-ip.net/html/routing-tables.html" target="_blank" rel="external">http://linux-ip.net/html/routing-tables.html</a></li>
<li>linux配置静态路由 - <a href="http://www.361way.com/linux-define-static-route/4053.html" target="_blank" rel="external">http://www.361way.com/linux-define-static-route/4053.html</a></li>
<li>Linux策略性路由应用及分析(iproute2) - <a href="http://tilt.lib.tsinghua.edu.cn/node/408" target="_blank" rel="external">http://tilt.lib.tsinghua.edu.cn/node/408</a></li>
<li>Linux Advanced Routing &amp; Traffic Control - <a href="http://lartc.org/" target="_blank" rel="external">http://lartc.org/</a></li>
</ul>
<hr>
<h2 id="静态路由表和策略路由的区别">静态路由表和策略路由的区别</h2><p>通常我们维护静态路由表会手工填写所有IP地址段的路由规则，使用命令或者写入配置文件永久生效，先以Windows/Linux/AIX常用方法为例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Windows静态路由</span></span><br><span class="line">--键入 route -p add [目标] [mask &lt;网络掩码&gt;] [网关] [metric &lt;度量值&gt;] [<span class="keyword">if</span> &lt;接口&gt;]</span><br><span class="line">route <span class="built_in">print</span></span><br><span class="line">route delete</span><br><span class="line">route -p add <span class="number">172.16</span>.<span class="number">19.0</span> mask <span class="number">255.255</span>.<span class="number">255.0</span> <span class="number">198.15</span>.<span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#RHEL静态路由</span></span><br><span class="line">vi /etc/sysconfig/network</span><br><span class="line">default via <span class="number">192.168</span>.<span class="number">3.1</span> dev eth0</span><br><span class="line"><span class="number">10.211</span>.<span class="number">6.0</span>/<span class="number">24</span> via <span class="number">192.168</span>.<span class="number">3.1</span> dev eth0</span><br><span class="line"><span class="number">10.0</span>.<span class="number">0.0</span>/<span class="number">8</span> via <span class="number">10.212</span>.<span class="number">52.1</span> dev eth1</span><br><span class="line"></span><br><span class="line"><span class="comment">#SuSE静态路由</span></span><br><span class="line">vi /etc/sysconfig/network/routes</span><br><span class="line">default <span class="number">192.168</span>.<span class="number">3.1</span> - -</span><br><span class="line"><span class="number">10.211</span>.<span class="number">6.0</span> <span class="number">192.168</span>.<span class="number">3.1</span> <span class="number">255.255</span>.<span class="number">255.0</span> eth0</span><br><span class="line"><span class="number">10.0</span>.<span class="number">0.0</span> <span class="number">10.212</span>.<span class="number">52.1</span> <span class="number">255.0</span>.<span class="number">0.0</span> eth1</span><br><span class="line"></span><br><span class="line"><span class="comment">#AIX静态路由</span></span><br><span class="line">smitty mkroute</span><br><span class="line"><span class="number">172.20</span>.<span class="number">14.0</span>/<span class="number">24</span> gw <span class="number">172.23</span>.<span class="number">14.254</span></span><br></pre></td></tr></table></figure>
<p>这种办法针对少量的规则还可以轻松应对，但规则一旦增加麻烦也就接踵而至，网段地址不断变化就必须及时更新路由表，否则其他用户就无法访问。如果可以根据用户访问进来的路径设定策略路由就会方便很多，而rt_tables就是为此而生。</p>
<h2 id="Linux添加静态路由最佳实践">Linux添加静态路由最佳实践</h2><blockquote>
<p>按照RedHat官方介绍有三种方式添加永久静态路由，这里只列举最佳方式</p>
</blockquote>
<h3 id="临时路由">临时路由</h3><blockquote>
<p>以下两种方法可以立即生效，但重启后会消失，切记使用场景</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#route命令参数，使用route命令，查看本机路由直接输入route -n回车即可</span></span><br><span class="line">add     增加路由</span><br><span class="line">del     删除路由</span><br><span class="line">-net    设置到某个网段的路由</span><br><span class="line">-host   设置到某台主机的路由</span><br><span class="line">gw      出口网关 IP地址</span><br><span class="line">dev     出口网关 物理设备名</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加路由</span></span><br><span class="line">route add -net <span class="number">192.168</span>.<span class="number">0.0</span>/<span class="number">24</span> gw <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line">route add -host <span class="number">192.168</span>.<span class="number">1.1</span> dev <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line"><span class="comment">#删除路由</span></span><br><span class="line">route del -net <span class="number">192.168</span>.<span class="number">0.0</span>/<span class="number">24</span> gw <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line"><span class="comment">#添加默认路由</span></span><br><span class="line">route add default gw <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#使用ip route 命令和route命令类似</span></span><br><span class="line">add 增加路由</span><br><span class="line">del 删除路由</span><br><span class="line">via 网关出口 IP地址</span><br><span class="line">dev 网关出口 物理设备名</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加路由</span></span><br><span class="line">ip route add <span class="number">192.168</span>.<span class="number">0.0</span>/<span class="number">24</span> via <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line">ip route add <span class="number">192.168</span>.<span class="number">1.1</span> dev <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line"><span class="comment">#删除路由</span></span><br><span class="line">ip route del <span class="number">192.168</span>.<span class="number">0.0</span>/<span class="number">24</span> via <span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line"><span class="comment">#增加默认路由</span></span><br><span class="line">ip route add default via <span class="number">192.168</span>.<span class="number">0.1</span> dev eth0</span><br></pre></td></tr></table></figure>
<h3 id="永久路由">永久路由</h3><blockquote>
<p>该方法需要重启网络会造成短暂的网络服务中断，但重启后优先级大于rc.local方式不会影响nfs</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在/etc/sysconfig/static-routes文件里添加如下内容 (没有static-routes的话就手动建立一个这样的文件)</span></span><br><span class="line">any net <span class="number">192.168</span>.<span class="number">3.0</span>/<span class="number">24</span> gw <span class="number">192.168</span>.<span class="number">3.254</span></span><br><span class="line">any net <span class="number">10.250</span>.<span class="number">228.128</span> netmask <span class="number">255.255</span>.<span class="number">255.192</span> gw <span class="number">10.250</span>.<span class="number">228.129</span></span><br><span class="line"></span><br><span class="line">service network restart</span><br></pre></td></tr></table></figure>
<h2 id="rt_tables">rt_tables</h2><blockquote>
<p>rt_tables简单来说就是通过给表的命名使得管理简单化</p>
</blockquote>
<p>大部分人习惯直接将路由表优先级号码直接作为表的名称来使用，这样做的好处是非常直观和简明的表达了表所在优先级的位置，但是当表的优先级结构出现变动时，我们对巨大的路由表的修改就显得很烦琐和费事了。</p>
<p>在/etc/iproute2/目录下,有这么一个文件rt_tables,只要对它进行改动，我们将很容易的完成路由表优先级结构的变动。(数值越小优先级别越高)</p>
<p>当路由表的优先级发生变化的时候，我们只需要编辑/etc/iproute2/rt_tables这个文件就可以直接改变路由表的优先级次序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/iproute2/rt_tables</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># reserved values</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="number">255</span>    <span class="built_in">local</span></span><br><span class="line"><span class="number">254</span>    main</span><br><span class="line"><span class="number">253</span>    default</span><br><span class="line"><span class="number">0</span>    unspec</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#1    inr.ruhep</span></span><br></pre></td></tr></table></figure>
<p>Linux最多可以支持255张路由表，其中有3张表是内置的：</p>
<p>表255 本地路由表（Local table） 本地接口地址，广播地址，已及NAT地址都放在这个表。该路由表由系统自动维护，管理员不能直接修改。</p>
<p>表254 主路由表（Main table） 如果没有指明路由所属的表，所有的路由都默认都放在这个表里，一般来说，旧的路由工具（如route）所添加的路由都会加到这个表。一般是普通的路由。</p>
<p>表253 默认路由表 （Default table） 一般来说默认的路由都放在这张表，但是如果特别指明放的也可以是所有的网关路由。</p>
<p>表 0 保留</p>
<h2 id="策略性路由应用及分析(iproute2)">策略性路由应用及分析(iproute2)</h2><p>策略性路由</p>
<p>　　策略性是指对于IP包的路由是以网络管理员根据需要定下的一些策略为主要依据进行路由的。例如我们可以有这样的策略：“所有来直自网A的包，选择X路径；其他选择Y路径”，或者是“所有TOS为A的包选择路径F；其他选者路径K”。<br>　　Cisco 的网络操作系统 (Cisco IOS) 从11.0开始就采用新的策略性路由机制。而Linux是在内核2.1开始采用策略性路由机制的。策略性路由机制与传统的路由算法相比主要是引入了多路由表以及规则的概念。</p>
<p>多路由表（multiple Routing Tables）</p>
<p>　　传统的路由算法是仅使用一张路由表的。但是在有些情形底下，我们是需要使用多路由表的。例如一个子网通过一个路由器与外界相连，路由器与外界有两条线路相连，其中一条的速度比较快，一条的速度比较慢。对于子网内的大多数用户来说对速度并没有特殊的要求，所以可以让他们用比较慢的路由；但是子网内有一些特殊的用户却是对速度的要求比较苛刻，所以他们需要使用速度比较快的路由。如果使用一张路由表上述要求是无法实现的，而如果根据源地址或其它参数，对不同的用户使用不同的路由表，这样就可以大大提高路由器的性能。</p>
<p>规则（rule）</p>
<p>　　规则是策略性的关键性的新的概念。我们可以用自然语言这样描述规则，例如我门可以指定这样的规则：<br>　　规则一：“所有来自192.16.152.24的IP包，使用路由表10， 本规则的优先级别是1500”<br>　　规则二：“所有的包，使用路由表253，本规则的优先级别是32767”</p>
<p>　　我们可以看到，规则包含3个要素：<br>　　什么样的包，将应用本规则（所谓的SELECTOR，可能是filter更能反映其作用）；<br>　　符合本规则的包将对其采取什么动作（ACTION），例如用那个表；<br>　　本规则的优先级别。优先级别越高的规则越先匹配（数值越小优先级别越高）。</p>
<h2 id="环境配置">环境配置</h2><blockquote>
<p>服务器A和B为双网卡，操作系统为rhel_7.1_64</p>
</blockquote>
<table>
<thead>
<tr>
<th>网卡显示名称</th>
<th>IP地址</th>
<th>子网掩码</th>
<th>网关</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>ens4f0</td>
<td>172.31.192.201</td>
<td>255.255.255.0</td>
<td>172.31.192.254</td>
<td>服务器A</td>
</tr>
<tr>
<td>ens9f0</td>
<td>172.31.196.1</td>
<td>255.255.255.0</td>
<td>172.31.196.254</td>
<td>服务器A</td>
</tr>
<tr>
<td>ens4f0</td>
<td>172.31.192.202</td>
<td>255.255.255.0</td>
<td>172.31.192.254</td>
<td>服务器B</td>
</tr>
<tr>
<td>ens9f0</td>
<td>172.31.196.2</td>
<td>255.255.255.0</td>
<td>172.31.196.254</td>
<td>服务器B</td>
</tr>
<tr>
<td>/</td>
<td>172.25.168.44</td>
<td>255.255.255.0</td>
<td>172.25.168.254</td>
<td>接入测试</td>
</tr>
</tbody>
</table>
<blockquote>
<p>网络配置，以服务器A为例，注意注释默认网关</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/sysconfig/network-scripts/ifcfg-ens4f0</span><br><span class="line"></span><br><span class="line">DEVICE=ens4f0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">IPADDR=<span class="number">172.31</span>.<span class="number">192.201</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line"><span class="comment">#GATEWAY=172.31.192.254</span></span><br><span class="line"></span><br><span class="line">cat /etc/sysconfig/network-scripts/ifcfg-ens9f0</span><br><span class="line"></span><br><span class="line">DEVICE=ens9f0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">IPADDR=<span class="number">172.31</span>.<span class="number">196.1</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line"><span class="comment">#GATEWAY=172.31.196.254</span></span><br></pre></td></tr></table></figure>
<h2 id="策略路由配置">策略路由配置</h2><blockquote>
<p>注意配置名称一定要吻合</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#编辑rt_tables</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"192 net_192 "</span> &gt;&gt; /etc/iproute2/rt_tables</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"196 net_196 "</span> &gt;&gt; /etc/iproute2/rt_tables</span><br><span class="line"></span><br><span class="line"><span class="comment">#清空net_192路由表</span></span><br><span class="line">ip route flush table net_192</span><br><span class="line"><span class="comment"># 添加一个路由规则到 net_192 表，这条规则是 net_192 这个路由表中数据包默认使用源 IP 172.31.192.201 通过 ens4f0 走网关 172.31.192.254</span></span><br><span class="line">ip route add default via <span class="number">172.31</span>.<span class="number">192.254</span> dev ens4f0 src <span class="number">172.31</span>.<span class="number">192.201</span> table net_192</span><br><span class="line"><span class="comment">#来自 172.31.192.201 的数据包，使用 net_192 路由表的路由规则</span></span><br><span class="line">ip rule add from <span class="number">172.31</span>.<span class="number">192.201</span> table net_192</span><br><span class="line"></span><br><span class="line"><span class="comment">#清空net_196路由表</span></span><br><span class="line">ip route flush table net_196</span><br><span class="line"><span class="comment">#添加一个路由规则到 net_196 表，这条规则是 net_196 这个路由表中数据包默认使用源 IP 172.31.196.1 通过 ens9f0 走网关 172.31.196.254 </span></span><br><span class="line">ip route add default via <span class="number">172.31</span>.<span class="number">196.254</span> dev ens9f0 src <span class="number">172.31</span>.<span class="number">196.1</span> table net_196</span><br><span class="line"><span class="comment">#来自 172.31.196.1 的数据包，使用 net_196 路由表的路由规则</span></span><br><span class="line">ip rule add from <span class="number">172.31</span>.<span class="number">196.1</span> table net_196</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加默认网关</span></span><br><span class="line">route add default gw <span class="number">172.31</span>.<span class="number">192.254</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果需要自启动生效可以写进配置文件也可以加入rc.local</span></span><br><span class="line">vi /etc/rc.local</span><br><span class="line"></span><br><span class="line">ip route flush table net_192</span><br><span class="line">ip route add default via <span class="number">172.31</span>.<span class="number">192.254</span> dev ens4f0 src <span class="number">172.31</span>.<span class="number">192.201</span> table net_192</span><br><span class="line">ip rule add from <span class="number">172.31</span>.<span class="number">192.201</span> table net_192</span><br><span class="line">ip route flush table net_196</span><br><span class="line">ip route add default via <span class="number">172.31</span>.<span class="number">196.254</span> dev ens9f0 src <span class="number">172.31</span>.<span class="number">196.1</span> table net_196</span><br><span class="line">ip rule add from <span class="number">172.31</span>.<span class="number">196.1</span> table net_196</span><br><span class="line">route add default gw <span class="number">172.31</span>.<span class="number">192.254</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看路由表</span></span><br><span class="line">route -n</span><br><span class="line"></span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line"><span class="number">169.254</span>.<span class="number">0.0</span>     <span class="number">0.0</span>.<span class="number">0.0</span>         <span class="number">255.255</span>.<span class="number">0.0</span>     U     <span class="number">1006</span>   <span class="number">0</span>        <span class="number">0</span> ens9f0</span><br><span class="line"><span class="number">169.254</span>.<span class="number">0.0</span>     <span class="number">0.0</span>.<span class="number">0.0</span>         <span class="number">255.255</span>.<span class="number">0.0</span>     U     <span class="number">1008</span>   <span class="number">0</span>        <span class="number">0</span> ens4f0</span><br><span class="line"><span class="number">169.254</span>.<span class="number">0.0</span>     <span class="number">0.0</span>.<span class="number">0.0</span>         <span class="number">255.255</span>.<span class="number">0.0</span>     U     <span class="number">1014</span>   <span class="number">0</span>        <span class="number">0</span> br-ex</span><br><span class="line"><span class="number">169.254</span>.<span class="number">0.0</span>     <span class="number">0.0</span>.<span class="number">0.0</span>         <span class="number">255.255</span>.<span class="number">0.0</span>     U     <span class="number">1015</span>   <span class="number">0</span>        <span class="number">0</span> br-int</span><br><span class="line"><span class="number">172.31</span>.<span class="number">192.0</span>    <span class="number">0.0</span>.<span class="number">0.0</span>         <span class="number">255.255</span>.<span class="number">255.0</span>   U     <span class="number">0</span>      <span class="number">0</span>        <span class="number">0</span> ens4f0</span><br><span class="line"><span class="number">172.31</span>.<span class="number">196.0</span>    <span class="number">0.0</span>.<span class="number">0.0</span>         <span class="number">255.255</span>.<span class="number">255.0</span>   U     <span class="number">0</span>      <span class="number">0</span>        <span class="number">0</span> ens9f0</span><br><span class="line"></span><br><span class="line"><span class="comment">#在接入测试服务器上验证连通性</span></span><br><span class="line">ping <span class="number">172.31</span>.<span class="number">192.201</span></span><br><span class="line">ping <span class="number">172.31</span>.<span class="number">196.1</span></span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[rt_tables是一种更加简单灵活的策略路由实现方法]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[多说自定义CSS头像和多说评论显示UA]]></title>
    <link href="http://wsgzao.github.io/post/duoshuo/"/>
    <id>http://wsgzao.github.io/post/duoshuo/</id>
    <published>2015-12-20T11:32:03.000Z</published>
    <updated>2015-12-20T04:38:37.000Z</updated>
    <content type="html"><![CDATA[<p><img src="http://i.v2ex.co/kNlD5E2c.png" alt=""></p>
<h2 id="前言">前言</h2><p>多说是一款社会化评论系统，她改变了网站与用户之间，用户与用户之间的互动方式。当然Disqus在大家心目中可能更加具有影响力，而我选择多说的原因也很简单，一句话概括来说就是“接地气的本地化评论托管服务”。之前看到很多朋友自豪的使用WordPress时会选择多说作为第三方评论插件，民间的高手们也根据官方的API开发出一些十分有趣的隐藏属性。因为现在自己使用GitHub+Hexo搭建的静态Blog，也希望通过多说自定义CSS和多说评论显示User Agent让评论动感起来，文章记录了自己所执行的真实步骤，扩展阅读和原文中也会标注参考链接和注意点，Blog所需要修改后的文件都托管在GitHub上，欢迎大家分享自己的经验，我们一起完善这些简单而有趣的小功能。</p>
<blockquote>
<p>感谢多说团队和那些无私的开发者们</p>
</blockquote>
<hr>
<h2 id="更新历史">更新历史</h2><p>2015年12月20日 - 修复移动端多说评论头像错位，完善细节内容，感谢<a href="http://orangeprogramming.com" target="_blank" rel="external">@橙子</a><br>2015年11月29日 - 增加2个非本地化embedded.js让多说显示UA方案<br>2015年04月25日 - 修复Font Awesome图标显示，增加动态效果图展示<br>2015年04月24日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/duoshuo/" target="_blank" rel="external">http://wsgzao.github.io/post/duoshuo/</a></p>
<p>扩展阅读</p>
<ul>
<li>duoshuo-mod - <a href="https://github.com/wsgzao/duoshuo-mod" target="_blank" rel="external">https://github.com/wsgzao/duoshuo-mod</a></li>
<li>出色的自定义效果展示 - <a href="http://dev.duoshuo.com/docs/4ff1cfd0397309552c000017" target="_blank" rel="external">http://dev.duoshuo.com/docs/4ff1cfd0397309552c000017</a></li>
<li>HelloDog Index - <a href="http://wsgzao.github.io/index/#Hexo" target="_blank" rel="external">http://wsgzao.github.io/index/#Hexo</a></li>
</ul>
<hr>
<h2 id="多说自定义CSS">多说自定义CSS</h2><blockquote>
<p>主要参考@V说，他的文章中还分享了额外9种特效，满足大家Duang的欲望哈</p>
</blockquote>
<p>多说自定义CSS 让你的多说评论动感起来 - <a href="http://www.vsay.cn/one-more-custom-css-lets-you-say-comments-city.html" target="_blank" rel="external">http://www.vsay.cn/one-more-custom-css-lets-you-say-comments-city.html</a></p>
<p><img src="http://ww3.sinaimg.cn/large/7207510dgw1erhrcp15bzg20dj0bm7l2.gif" alt=""></p>
<h3 id="头像水平翻转">头像水平翻转</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Head Start*/</span></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-comments-tabs</span> <span class="tag">li</span><span class="class">.ds-tab</span> <span class="tag">a</span><span class="class">.ds-current</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#6D6D6B</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">text-shadow</span>:<span class="value"> none</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#F3F3F3</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-highlight</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Microsoft YaHei, <span class="string">"Helvetica Neue"</span>, Helvetica, Arial, Sans-serif</span></span>;</span><br><span class="line">    <span class="rule">;</span><span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#6D6D6B</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-comments-tabs</span> <span class="tag">li</span><span class="class">.ds-tab</span> <span class="tag">a</span><span class="class">.ds-current</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#696a52</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#F2F2F2</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">a</span><span class="class">.ds-highlight</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#696a52</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-left</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">li</span><span class="class">.ds-post</span>,<span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="id">#ds-hot-posts</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> visible</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-post-self</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">10px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">li</span><span class="class">.ds-post</span>,<span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-post-self</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-avatar</span>, <span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-children</span> <span class="class">.ds-avatar</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> -<span class="number">20px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">36px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">36px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> -<span class="number">1px</span> <span class="number">0</span> <span class="number">1px</span> <span class="function">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">15</span>) inset</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">46px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#FAFAFA</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="class">.ds-avatar</span> <span class="tag">a</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">1px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1px</span> solid <span class="hexcolor">#b9baa6</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#fff</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="class">.ds-avatar</span> <span class="tag">a</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="class">.ds-avatar</span> &gt; <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">2px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-replybox</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-children</span> <span class="class">.ds-replybox</span><span class="class">.ds-inline-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span>,</span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span><span class="class">.ds-inline-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> none</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span><span class="class">.ds-inline-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span>,</span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span> <span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="function">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.22</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition</span>:<span class="value"> .<span class="number">8s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-moz-transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-o-transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-ms-transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class">.ds-post-self</span><span class="pseudo">:hover</span> <span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transform</span>:<span class="value"> <span class="function">rotateX</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-moz-transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-o-transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-ms-transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comment-body</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-delay</span>:<span class="value"> initial</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-duration</span>:<span class="value"> <span class="number">0.4s</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-property</span>:<span class="value"> all</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-timing-function</span>:<span class="value"> initial</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#F7F7F7</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">15px</span> <span class="number">15px</span> <span class="number">15px</span> <span class="number">47px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="hexcolor">#B8B9B9</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> white <span class="number">1px</span> solid</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-children</span> <span class="class">.ds-comment-body</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-left</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comment-body</span> <span class="tag">p</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#787968</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comments</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-powered-by</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comments</span> <span class="tag">a</span><span class="class">.ds-user-name</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-weight</span>:<span class="value"> normal</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#3D3D3D</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comments</span> <span class="tag">a</span><span class="class">.ds-user-name</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#D32</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="id">#ds-bubble</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> none <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="id">#ds-hot-posts</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="id">#ds-hot-posts</span> <span class="class">.ds-gradient-bg</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comment-body</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#F1F1F1</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-delay</span>:<span class="value"> initial</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-duration</span>:<span class="value"> <span class="number">0.4s</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-property</span>:<span class="value"> all</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-timing-function</span>:<span class="value"> initial</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="comment">/*Head End*/</span></span><br></pre></td></tr></table></figure>
<h3 id="多说后台自定义CSS">多说后台自定义CSS</h3><blockquote>
<p>设置步骤超级简单，登录多说后台-&gt;设置-&gt;基本设置-&gt;自定义CSS</p>
</blockquote>
<p><img src="http://ww1.sinaimg.cn/large/7207510dgw1ergrzty3c5j20mm0i4dj7.jpg" alt=""></p>
<h2 id="多说评论显示UA(User_Agent)">多说评论显示UA(User Agent)</h2><blockquote>
<p>以前参考@myhloli和@搜索客，目前已经独立拆分代码便于长期维护</p>
</blockquote>
<p>多说评论框UA显示/博主标记 - <a href="http://myhloli.com/duoshuo-ua-and-admin-tab.html" target="_blank" rel="external">http://myhloli.com/duoshuo-ua-and-admin-tab.html</a></p>
<p>多说回复后显示浏览器及操作系统信息（Useragent） - <a href="http://ssk.91txh.com/209" target="_blank" rel="external">http://ssk.91txh.com/209</a></p>
<h3 id="本地化embed-js">本地化embed.js</h3><p>1.下载embed.js</p>
<p>多说官方 - <a href="http://static.duoshuo.com/embed.js" target="_blank" rel="external">http://static.duoshuo.com/embed.js</a></p>
<p>偷懒可以下载我当前使用的 - <a href="http://wsgzao.github.io/embed_ua.js" target="_blank" rel="external">http://wsgzao.github.io/embed_ua.js</a></p>
<p>2.获取多说ID</p>
<p>方法一：在文章下方登录后评论点击头像可获取多说ID</p>
<p>方法二：访问多说后台，<a href="http://duoshuo.com/settings/" target="_blank" rel="external">http://duoshuo.com/settings/</a> ，点击你的用户名，地址栏中会出现如如下的ID地址<br><a href="http://duoshuo.com/profile/867394/" target="_blank" rel="external">http://duoshuo.com/profile/867394/</a></p>
<p>3.本地修改embed.js</p>
<blockquote>
<p>注意修改e.user_id多说ID，可以自定义ssk前端显示昵称</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//HelloDog -  http://wsgzao.github.io/post/duoshuo/</span></span><br><span class="line"><span class="comment">//Mobile Start</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkMobile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> isiPad = navigator.userAgent.match(<span class="regexp">/iPad/i</span>) != <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (isiPad) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> isMobile = navigator.userAgent.match(<span class="regexp">/iphone|android|phone|mobile|wap|netfront|x11|java|opera mobi|opera mini|ucweb|windows ce|symbian|symbianos|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220/i</span>) != <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (isMobile) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Mobile End</span></span><br><span class="line"><span class="comment">//Admin Start</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sskadmin</span><span class="params">(e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ssk = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">if</span> (e.user_id == <span class="number">867394</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (checkMobile()) &#123;</span><br><span class="line">            ssk = <span class="string">'&lt;span class="this_ua sskadmin"&gt;R00T&lt;/span&gt;&lt;br&gt;&lt;br&gt;'</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ssk = <span class="string">'&lt;span class="this_ua sskadmin"&gt;R00T&lt;/span&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (checkMobile()) &#123;</span><br><span class="line">            ssk = <span class="string">'&lt;br&gt;&lt;br&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ssk;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Admin End</span></span><br><span class="line"><span class="comment">//UA Start</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">show_ua</span><span class="params">(string)</span></span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(string)</span><br><span class="line">        $.ua.set(string);</span><br><span class="line">        <span class="keyword">var</span> sua=$.ua;</span><br><span class="line">        <span class="keyword">if</span>(sua.os.version==<span class="string">'x86_64'</span>)sua.os.version=<span class="string">'x64'</span>;</span><br><span class="line">        <span class="keyword">if</span> (checkMobile()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;span class="this_ua platform '</span>+sua.os.name+<span class="string">'"&gt;'</span>+sua.os.name+<span class="string">' '</span>+sua.os.version+<span class="string">'&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class="this_ua browser '</span>+sua.browser.name+<span class="string">'"&gt;'</span>+sua.browser.name+<span class="string">' '</span>+sua.browser.version+<span class="string">'&lt;/span&gt;'</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;span class="this_ua platform '</span>+sua.os.name+<span class="string">'"&gt;'</span>+sua.os.name+<span class="string">' '</span>+sua.os.version+<span class="string">'&lt;/span&gt;&lt;span class="this_ua browser '</span>+sua.browser.name+<span class="string">'"&gt;'</span>+sua.browser.name+<span class="string">' '</span>+sua.browser.version+<span class="string">'&lt;/span&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//UA End</span></span><br></pre></td></tr></table></figure>
<p>4.上传embed.js</p>
<p>我的做法上传到GitHub，其它类似七牛或者云主机的方法都可以<br><a href="http://wsgzao.github.io/embed_ua.js" target="_blank" rel="external">http://wsgzao.github.io/embed_ua.js</a></p>
<p>5.修改多说调用地址</p>
<blockquote>
<p>其它平台以此类推，我自己的做法ds.src = ‘//wsgzao.github.io/embed_ua.js’;</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> duoshuoQuery = &#123;short_name:<span class="string">"&lt;%= theme.duoshuo_shortname %&gt;"</span>&#125;;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ds = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">    ds.type = <span class="string">'text/javascript'</span>;ds.async = <span class="literal">true</span>;</span><br><span class="line">    ds.src = <span class="string">'//wsgzao.github.io/embed_ua.js'</span>;</span><br><span class="line">    ds.charset = <span class="string">'UTF-8'</span>;</span><br><span class="line">    (<span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>]</span><br><span class="line">    || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>]).appendChild(ds);</span><br><span class="line">  &#125;)();</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>7.多说后台自定义CSS</p>
<blockquote>
<p>请参考上文方法加入多说自定义CSS</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*UA Start*/</span></span><br><span class="line"><span class="tag">span</span><span class="class">.this_ua</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#ccc</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">4px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span> <span class="number">5px</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> <span class="number">1px</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1px</span> solid <span class="hexcolor">#BBB</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*text-transform: Capitalize!important;</span><br><span class="line">    float: right!important;</span><br><span class="line">    line-height: 18px!important;*/</span></span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.platform</span><span class="class">.Windows</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#39b3d7</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#46b8da</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.platform</span><span class="class">.Linux</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#3A3A3A</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#1F1F1F</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.platform</span><span class="class">.Ubuntu</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#DD4814</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#DD4814</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.platform</span><span class="class">.Mac</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#666666</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#666666</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.platform</span><span class="class">.Android</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#98C13D</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#98C13D</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.platform</span><span class="class">.iOS</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#666666</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#666666</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Chrome</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#EE6252</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#EE6252</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Chromium</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#EE6252</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#EE6252</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Firefox</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#f0ad4e</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#eea236</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.IE</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#428bca</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#357ebd</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Edge</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#428bca</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#357ebd</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Opera</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#d9534f</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#d43f3a</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Maxthon</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#7373B9</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#7373B9</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.browser</span><span class="class">.Safari</span><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#666666</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#666666</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="class">.this_ua</span><span class="class">.sskadmin</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#00a67c</span><span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-color</span>:<span class="value"> <span class="hexcolor">#00a67c</span><span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="comment">/*UA End*/</span></span><br><span class="line"><span class="comment">/*Head Start*/</span></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-comments-tabs</span> <span class="tag">li</span><span class="class">.ds-tab</span> <span class="tag">a</span><span class="class">.ds-current</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#6D6D6B</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">text-shadow</span>:<span class="value"> none</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#F3F3F3</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-highlight</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Microsoft YaHei, <span class="string">"Helvetica Neue"</span>, Helvetica, Arial, Sans-serif</span></span>;</span><br><span class="line">    <span class="rule">;</span><span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#6D6D6B</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-comments-tabs</span> <span class="tag">li</span><span class="class">.ds-tab</span> <span class="tag">a</span><span class="class">.ds-current</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#696a52</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#F2F2F2</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">a</span><span class="class">.ds-highlight</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#696a52</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-left</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">li</span><span class="class">.ds-post</span>,<span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="id">#ds-hot-posts</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> visible</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-post-self</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">10px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">li</span><span class="class">.ds-post</span>,<span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-post-self</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-avatar</span>, <span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-children</span> <span class="class">.ds-avatar</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> -<span class="number">20px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">36px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">36px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> -<span class="number">1px</span> <span class="number">0</span> <span class="number">1px</span> <span class="function">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">15</span>) inset</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">46px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#FAFAFA</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="class">.ds-avatar</span> <span class="tag">a</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">1px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1px</span> solid <span class="hexcolor">#b9baa6</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#fff</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="class">.ds-avatar</span> <span class="tag">a</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="class">.ds-avatar</span> &gt; <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">2px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-replybox</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-children</span> <span class="class">.ds-replybox</span><span class="class">.ds-inline-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span>,</span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span><span class="class">.ds-inline-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> none</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span><span class="class">.ds-inline-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span> <span class="tag">a</span><span class="class">.ds-avatar</span>,</span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-replybox</span> <span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">32px</span> <span class="important">!important</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">32px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="function">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.22</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition</span>:<span class="value"> .<span class="number">8s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-moz-transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-o-transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-ms-transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transition</span>:<span class="value"> .<span class="number">4s</span> all ease-in-out</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class">.ds-post-self</span><span class="pseudo">:hover</span> <span class="class">.ds-avatar</span> <span class="tag">img</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transform</span>:<span class="value"> <span class="function">rotateX</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-moz-transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-o-transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-ms-transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">rotate</span>(<span class="number">360deg</span>)</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comment-body</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-delay</span>:<span class="value"> initial</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-duration</span>:<span class="value"> <span class="number">0.4s</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-property</span>:<span class="value"> all</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-timing-function</span>:<span class="value"> initial</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#F7F7F7</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">15px</span> <span class="number">15px</span> <span class="number">15px</span> <span class="number">47px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="hexcolor">#B8B9B9</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> white <span class="number">1px</span> solid</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="tag">ul</span><span class="class">.ds-children</span> <span class="class">.ds-comment-body</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-left</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comment-body</span> <span class="tag">p</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#787968</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comments</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-powered-by</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comments</span> <span class="tag">a</span><span class="class">.ds-user-name</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-weight</span>:<span class="value"> normal</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#3D3D3D</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comments</span> <span class="tag">a</span><span class="class">.ds-user-name</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#D32</span> <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="id">#ds-bubble</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> none <span class="important">!important</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="id">#ds-hot-posts</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-reset</span> <span class="id">#ds-hot-posts</span> <span class="class">.ds-gradient-bg</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> none</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="id">#ds-thread</span> <span class="id">#ds-reset</span> <span class="class">.ds-comment-body</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#F1F1F1</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-delay</span>:<span class="value"> initial</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-duration</span>:<span class="value"> <span class="number">0.4s</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-property</span>:<span class="value"> all</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">-webkit-transition-timing-function</span>:<span class="value"> initial</span></span>;</span><br><span class="line"><span class="rule">&#125;</span></span></span><br><span class="line"><span class="comment">/*Head End*/</span></span><br></pre></td></tr></table></figure>
<h2 id="其它开源方案">其它开源方案</h2><blockquote>
<p>欢迎大家积极反馈，提出自己的想法^_^</p>
</blockquote>
<p>[多说]不本地化embed.js使多说评论显示UA - <a href="http://easun.org/blog/archives/make_duoshuo_show_ua.html" target="_blank" rel="external">http://easun.org/blog/archives/make_duoshuo_show_ua.html</a></p>
<p>多说UA插件 - <a href="http://gerald.top/code/duoshuo-ua" target="_blank" rel="external">http://gerald.top/code/duoshuo-ua</a></p>
<p>ua-parser-js - <a href="https://github.com/faisalman/ua-parser-js" target="_blank" rel="external">https://github.com/faisalman/ua-parser-js</a></p>
<p>duoshuo-mod - <a href="https://github.com/wsgzao/duoshuo-mod" target="_blank" rel="external">https://github.com/wsgzao/duoshuo-mod</a></p>
<h3 id="前端识别">前端识别</h3><blockquote>
<p>大家可以猛击测试各种UA</p>
</blockquote>
<p>Useragent.js - <a href="http://zsxsoft.github.io/useragent.js/withimage.html" target="_blank" rel="external">http://zsxsoft.github.io/useragent.js/withimage.html</a></p>
<p>UAParser.js - <a href="http://faisalman.github.io/ua-parser-js/" target="_blank" rel="external">http://faisalman.github.io/ua-parser-js/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[感谢多说团队和那些无私的开发者们]]>
    
    </summary>
    
      <category term="Hexo" scheme="http://wsgzao.github.io/categories/Hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Linbell G2无线自发电门铃半年使用体验小结]]></title>
    <link href="http://wsgzao.github.io/post/linbell/"/>
    <id>http://wsgzao.github.io/post/linbell/</id>
    <published>2015-12-19T08:22:32.000Z</published>
    <updated>2015-12-30T00:46:09.889Z</updated>
    <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/large/7207510dgw1ez5dxabt6gj20nq0hsgn4.jpg" alt=""></p>
<h2 id="前言">前言</h2><p>Linbell G2是在淘宝众筹中购买的产品之一，买的原因很简单就是希望告别坏了7年的门铃，作为第二代无线自发电门铃产品我相信他们团队的口碑和质量。回头来看坚持半年每周观察<code>淘宝众筹/京东众筹</code>的产品可以清晰的感知市场的变化和需求，你能发现成群结队的<code>移动电源/空气净化器/智能手环/代步工具</code>等形形色色的智能硬件产品。好奇心驱使着我去探索自己喜欢的事情，有符合心意的收获自然也有失败的体验，Bong2送同事了，云麦好轻积灰，大可乐3提前预见性破产，在小米/华为/360等互联网巨头强势切入智能硬件市场的过程中应该会继续洗牌这个混乱的市场，然而在众多打着智能硬件口号并真正融入生活的产品我认可了Linbell G2。</p>
<blockquote>
<p>Linbell是一款用心实用的智能硬件</p>
</blockquote>
<h2 id="更新记录">更新记录</h2><p>2015年12月19日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/linbell/" target="_blank" rel="external">http://wsgzao.github.io/post/linbell/</a></p>
<hr>
<h2 id="购买过程">购买过程</h2><p><img src="http://ww2.sinaimg.cn/large/7207510dgw1ez5dxaxrznj20ro0a0t9v.jpg" alt=""></p>
<p>购买时间：2015-07-15<br>购买渠道：淘宝众筹<br>购买价格：58CNY</p>
<h2 id="使用体验">使用体验</h2><blockquote>
<p>作为门铃Linbell已经成功俘获了我的心</p>
</blockquote>
<h3 id="优点">优点</h3><ol>
<li>这是一个称职的门铃</li>
<li>铃声清晰，按钮反馈干脆</li>
<li>牢靠，3M背贴值得信赖</li>
<li>信号传输实测50m依旧给力</li>
<li>终身自发电技术点赞</li>
<li>其它优点和原理参考官方介绍吧</li>
</ol>
<p><a href="https://detail.tmall.com/item.htm?spm=a1z10.5-b.w4011-13022041176.23.uvGtHH&amp;id=525103505113&amp;rn=1ab0d50bef8c7f13c088f6522735b62a&amp;abbucket=4" target="_blank" rel="external">https://detail.tmall.com/item.htm?spm=a1z10.5-b.w4011-13022041176.23.uvGtHH&amp;id=525103505113&amp;rn=1ab0d50bef8c7f13c088f6522735b62a&amp;abbucket=4</a></p>
<h3 id="缺点">缺点</h3><ol>
<li><p>如果你喜欢小巧玲珑也许她不是你的选择</p>
</li>
<li><p>设计上估计至少占据两个插孔位置吧(看图说话怪Linbell还是公牛呢？)</p>
</li>
</ol>
<p><a href="http://www.iznb.cn/article/18292" target="_blank" rel="external">http://www.iznb.cn/article/18292</a></p>
<h2 id="小结">小结</h2><p>如果你和我一样曾经坏了一个门铃或者计划安装一个新的，我希望Linbell可以满足你的真实需求，一个用心实在的无线自发电门铃。</p>
]]></content>
    <summary type="html">
    <![CDATA[Linbell是一款用心实用的智能硬件]]>
    
    </summary>
    
      <category term="生活 | Life" scheme="http://wsgzao.github.io/categories/%E7%94%9F%E6%B4%BB-Life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[RHEL7 Teaming网卡绑定实践]]></title>
    <link href="http://wsgzao.github.io/post/teaming/"/>
    <id>http://wsgzao.github.io/post/teaming/</id>
    <published>2015-12-01T08:22:32.000Z</published>
    <updated>2015-12-01T07:10:11.512Z</updated>
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>为了提高网络容错或吞吐量，一般服务器都会采取多网卡绑定的策略，在RHEL6中使用的是<code>Bonding</code>，而RHEL7提供了一项新的实现技术<code>Teaming</code>，具体原理和对比列表大家可以参考扩展阅读中的RedHat官方博客。配置Teaming有两种方式，第一种是使用nmclii命令，第二种是直接修改配置文件，如果大家有更好的方法也欢迎分享。</p>
<blockquote>
<p>使用teaming替换bonding实现链路聚合网卡绑定</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年12月01日 - 补充firewall替换iptables防火墙部分<br>2015年11月30日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/teaming/" target="_blank" rel="external">http://wsgzao.github.io/post/teaming/</a></p>
<p>扩展阅读</p>
<p>If You Like Bonding, You Will Love Teaming - <a href="http://rhelblog.redhat.com/2014/06/23/team-driver/" target="_blank" rel="external">http://rhelblog.redhat.com/2014/06/23/team-driver/</a><br>Configure Network Teaming - <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Teaming.html" target="_blank" rel="external">https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Teaming.html</a></p>
<hr>
<h2 id="firewall">firewall</h2><blockquote>
<p>RHEL 7默认使用的是firewall作为防火墙，如果不习惯可以改为iptables防火墙</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#停止firewall</span></span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"><span class="comment">#禁止firewall开机启动</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service </span><br><span class="line"></span><br><span class="line"><span class="comment">#安装iptables</span></span><br><span class="line">yum install iptables-services  </span><br><span class="line"><span class="comment">#编辑防火墙配置文件</span></span><br><span class="line">vi /etc/sysconfig/iptables</span><br><span class="line"></span><br><span class="line"><span class="comment"># Firewall configuration written by system-config-firewall</span></span><br><span class="line"><span class="comment"># Manual customization of this file is not recommended.</span></span><br><span class="line">*filter</span><br><span class="line">:INPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">:FORWARD ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">:OUTPUT ACCEPT [<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br><span class="line">-A INPUT -p icmp -j ACCEPT</span><br><span class="line">-A INPUT -i lo -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">22</span> -j ACCEPT</span><br><span class="line">-A INPUT -m state --state NEW -m tcp -p tcp --dport <span class="number">80</span> -j ACCEPT</span><br><span class="line">-A INPUT -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">-A FORWARD -j REJECT --reject-with icmp-host-prohibited</span><br><span class="line">COMMIT</span><br><span class="line"></span><br><span class="line"><span class="comment">#保存退出</span></span><br><span class="line">:wq! </span><br><span class="line"></span><br><span class="line"><span class="comment">#启动防火墙</span></span><br><span class="line">systemctl start iptables.service</span><br><span class="line"><span class="comment">#停止防火墙</span></span><br><span class="line">systemctl stop iptables.service</span><br><span class="line"><span class="comment">#重启防火墙</span></span><br><span class="line">systemctl restart iptables.service</span><br><span class="line"><span class="comment">#查看防火墙状态</span></span><br><span class="line">systemctl status iptables.service</span><br><span class="line"><span class="comment">#设置开机启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> iptables.service</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果需要了解iptables的用法可以参考我以前的文章</p>
</blockquote>
<p>iptables配置实践 - <a href="http://wsgzao.github.io/post/iptables/" target="_blank" rel="external">http://wsgzao.github.io/post/iptables/</a></p>
<h2 id="teaming">teaming</h2><blockquote>
<p>实践方法采取直接编辑ifcfg配置activebackup主备模式，其它方法原理类似比如 nmcli/nmtui</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看LOWER_UP网卡，准备双网卡teaming测试</span></span><br><span class="line">ip link show</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="number">65536</span> qdisc noqueue state UNKNOWN mode DEFAULT</span><br><span class="line">    link/loopback <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> brd <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line"><span class="number">2</span>: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="number">1500</span> qdisc pfifo_fast state UP mode DEFAULT qlen <span class="number">1000</span></span><br><span class="line">    link/ether <span class="number">52</span>:<span class="number">54</span>:<span class="number">00</span>:d5:f7:d4 brd ff:ff:ff:ff:ff:ff</span><br><span class="line"><span class="number">3</span>: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="number">1500</span> qdisc pfifo_fast state UP mode DEFAULT qlen <span class="number">1000</span></span><br><span class="line">  link/ether <span class="number">52</span>:<span class="number">54</span>:<span class="number">00</span>:d8:<span class="number">04</span>:<span class="number">70</span> brd ff:ff:ff:ff:ff:ff</span><br><span class="line"></span><br><span class="line"><span class="comment">#Creating a Network Team Using ifcfg Files</span></span><br><span class="line"><span class="built_in">cd</span> /etc/sysconfig/network-scripts/</span><br><span class="line">vi ifcfg-team0</span><br><span class="line"></span><br><span class="line">DEVICE=team0</span><br><span class="line">DEVICETYPE=Team</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">IPADDR=<span class="number">192.168</span>.<span class="number">11.1</span></span><br><span class="line">PREFIX=<span class="number">24</span></span><br><span class="line"><span class="comment">#GATEWAY=192.168.11.254</span></span><br><span class="line">TEAM_CONFIG=<span class="string">'&#123;"runner": &#123;"name": "activebackup"&#125;, "link_watch": &#123;"name": "ethtool"&#125;&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#做好备份继续编辑需要绑定的网卡信息，调整prio优先级</span></span><br><span class="line"></span><br><span class="line">vi ifcfg-eth0</span><br><span class="line"></span><br><span class="line">DEVICE=eth0</span><br><span class="line"><span class="comment">#HWADDR=D4:85:64:01:46:9E</span></span><br><span class="line">DEVICETYPE=TeamPort</span><br><span class="line">ONBOOT=yes</span><br><span class="line">TEAM_MASTER=team0</span><br><span class="line">TEAM_PORT_CONFIG=<span class="string">'&#123;"prio": 100&#125;'</span></span><br><span class="line"></span><br><span class="line">vi ifcfg-eth1</span><br><span class="line"></span><br><span class="line">DEVICE=eth1</span><br><span class="line"><span class="comment">#HWADDR=D4:85:64:01:46:9F</span></span><br><span class="line">DEVICETYPE=TeamPort</span><br><span class="line">ONBOOT=yes</span><br><span class="line">TEAM_MASTER=team0</span><br><span class="line">TEAM_PORT_CONFIG=<span class="string">'&#123;"prio": 99&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#重启网络</span></span><br><span class="line">systemctl restart network</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查端口状态</span></span><br><span class="line">teamnl team0 ports</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>: eth0: up <span class="number">1000</span>Mbit FD</span><br><span class="line"><span class="number">2</span>: eth1: up <span class="number">1000</span>Mbit FD</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查teaming状态</span></span><br><span class="line">teamdctl team0 state</span><br><span class="line"></span><br><span class="line">setup:</span><br><span class="line">     runner: activebackup</span><br><span class="line">ports:</span><br><span class="line">     eth0</span><br><span class="line">          link watches:</span><br><span class="line">          link summary: up</span><br><span class="line">          instance[link_watch_0]:</span><br><span class="line">               name: ethtool</span><br><span class="line">               link: up</span><br><span class="line">     eth1</span><br><span class="line">          link watches:</span><br><span class="line">          link summary: up</span><br><span class="line">          instance[link_watch_0]:</span><br><span class="line">               name: ethtool</span><br><span class="line">               link: up</span><br><span class="line">runner:</span><br><span class="line">     active port: eth0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#手动断开其中一条链路验证主备模式切换是否正常</span></span><br><span class="line">ip link <span class="built_in">set</span> eth1 down</span><br><span class="line"></span><br><span class="line">teamdctl team0 state</span><br><span class="line"></span><br><span class="line">setup:</span><br><span class="line">     runner: activebackup</span><br><span class="line">ports:</span><br><span class="line">     eth0</span><br><span class="line">          link watches:</span><br><span class="line">          link summary: down</span><br><span class="line">          instance[link_watch_0]:</span><br><span class="line">               name: ethtool</span><br><span class="line">               link: down</span><br><span class="line">     eth1</span><br><span class="line">          link watches:</span><br><span class="line">          link summary: up</span><br><span class="line">          instance[link_watch_0]:</span><br><span class="line">               name: ethtool</span><br><span class="line">               link: up</span><br><span class="line">runner:</span><br><span class="line">     active port: eth1</span><br></pre></td></tr></table></figure>
<h2 id="bonding">bonding</h2><blockquote>
<p>传统的bonding配置和测试结果可以参考我之前的文章</p>
</blockquote>
<p>Linux双网卡绑定实践 - <a href="http://wsgzao.github.io/post/bonding/" target="_blank" rel="external">http://wsgzao.github.io/post/bonding/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[使用teaming替换bonding实现链路聚合网卡绑定]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Windows下使用EasyBCD安装Linux双系统实践]]></title>
    <link href="http://wsgzao.github.io/post/easybcd/"/>
    <id>http://wsgzao.github.io/post/easybcd/</id>
    <published>2015-11-26T08:22:32.000Z</published>
    <updated>2015-11-27T03:21:16.088Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/9RYxcYnL.png" alt=""></p>
<h2 id="前言">前言</h2><p>记得大学的时候折腾黑苹果实现Windows+Mac+Linux的时候很开心，虽然牺牲了不少时间但学习的过程仍然值得回味。现在自己基本以VMware虚拟化为主很少再使用物理机，这次因为其它工作原因帮助同事做了小小的实践，主要是通过EasyBCD硬盘安装Linux实现双系统独立共存，该方法也适用于RedHat/CentOS/Ubuntu等。</p>
<blockquote>
<p>轻轻松松实现Windows和Linux双系统</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年11月27日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/easybcd/" target="_blank" rel="external">http://wsgzao.github.io/post/easybcd/</a></p>
<p>扩展阅读</p>
<ul>
<li>Win7下硬盘安装 Redhat Linux 6.0 ES - <a href="http://blog.csdn.net/shenkxiao/article/details/6747592" target="_blank" rel="external">http://blog.csdn.net/shenkxiao/article/details/6747592</a></li>
</ul>
<hr>
<h2 id="基础信息">基础信息</h2><ol>
<li>笔记本型号为4G内存的<code>ThinkPad x230</code></li>
<li>部署的操作系统版本为<code>rhel-server-6.3-x86_64-dvd.iso</code></li>
<li>EasyBCD版本为<code>EasyBCD 2.3</code></li>
</ol>
<ul>
<li>EasyBCD - <a href="https://neosmart.net/EasyBCD/" target="_blank" rel="external">https://neosmart.net/EasyBCD/</a></li>
<li>RHEL - <a href="http://www.redhat.com/rhel/server/" target="_blank" rel="external">http://www.redhat.com/rhel/server/</a></li>
</ul>
<h2 id="准备工作">准备工作</h2><blockquote>
<p>RedHat由于版权原因只能识别FAT32</p>
</blockquote>
<ol>
<li>建议分配3个FAT32逻辑分区，大小可根据实际情况调整</li>
<li>将ISO镜像复制到存放系统镜像的分区并解压</li>
<li>运行EasyBCD选择<code>添加新条目→Linux/BSD→选择ISO→添加镜像文件</code></li>
</ol>
<blockquote>
<p>我的分区如下，仅供参考切勿照搬</p>
</blockquote>
<table>
<thead>
<tr>
<th>分区名称</th>
<th>分区编号</th>
<th>分区格式</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>引导分区</td>
<td>sda1</td>
<td>NTFS</td>
<td>Windows隐藏分区</td>
</tr>
<tr>
<td>C盘</td>
<td>sda2</td>
<td>NTFS</td>
<td>Windows系统分区</td>
</tr>
<tr>
<td>D盘</td>
<td>sda3</td>
<td>NTFS</td>
<td>数据盘</td>
</tr>
<tr>
<td>E盘</td>
<td>sda4</td>
<td>NTFS</td>
<td>数据盘</td>
</tr>
<tr>
<td>F盘</td>
<td>sda5</td>
<td>FAT32</td>
<td>部署Linux系统，/根分区存放点，20G</td>
</tr>
<tr>
<td>G盘</td>
<td>sda6</td>
<td>FAT32</td>
<td>存放ISO镜像和解压文件，10G</td>
</tr>
<tr>
<td>H盘</td>
<td>sda7</td>
<td>FAT32</td>
<td>作为SWAP交换分区，4G</td>
</tr>
</tbody>
</table>
<h2 id="系统安装">系统安装</h2><blockquote>
<p>过程较为简单但一定注意boot loader的选择</p>
</blockquote>
<ol>
<li>硬盘/光盘/U盘重启后引导进入安装过程</li>
<li>操作系统安装步骤按照自己需求正常调整和执行</li>
<li>分区时选择sda5作为/, sda7作为SWAP（<code>仅供参考切勿照搬</code>）</li>
<li>查看<code>Change device</code>修改<code>boot loader</code>为你安装系统的分区如<code>/dev/sda5</code></li>
<li>完成安装后重启设备</li>
</ol>
<h2 id="引导修复">引导修复</h2><blockquote>
<p>轻松实现Windows和Linux双系统引导切换</p>
</blockquote>
<ol>
<li>安装重启后回到Windows运行EasyBCD</li>
<li>选择<code>编辑引导菜单</code>，删除ISO条目，选择<code>添加新条目→Linux/BSD→选择驱动器→添加条目</code></li>
<li>重启后进入Linux完成收尾工作测试效果</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[轻轻松松实现Windows和Linux双系统]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ThinkPad X1 Carbon使用经验分享(解决Windows 10高分屏模糊)]]></title>
    <link href="http://wsgzao.github.io/post/thinkpad/"/>
    <id>http://wsgzao.github.io/post/thinkpad/</id>
    <published>2015-11-19T03:43:14.000Z</published>
    <updated>2015-11-20T01:49:22.605Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/WnBWyuqk.jpeg" alt=""></p>
<h2 id="前言">前言</h2><p>虽然ThinkPad已经不再属于IBM，性价比依旧不够给力，但是在我的真实体验中小黑依然给我留下了优质的印象。我没有使用过T系列，平时工作主要以X220i和X1为主，没有浪费多余钱购置笔记本电脑也要感谢父母单位和公司的给力，如果大家依靠自己能力购买MacBook改变习惯积极提高工作效率也是极好的选择。记得ThinkPad X1 Carbon第一代出来时就推荐同事购买，但当时在短时间内没有搞清楚UEFI和GPT导致部署系统时出现差池，现在终于有机会重新完整实践一遍。因为工作原因MacBook和Surface需要割舍，从实用和颜值的角度出发我目前会推荐大家购买Dell XPS 13和ThinkPad X250。</p>
<blockquote>
<p>ThinkPad X1 Carbon “碳”为观止</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年11月20日 - 增加简单的体验评测部分，补充部署步骤<br>2015年11月19日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/thinkpad/" target="_blank" rel="external">http://wsgzao.github.io/post/thinkpad/</a></p>
<p>扩展阅读</p>
<ul>
<li>ThinkPad - <a href="http://think.lenovo.com.cn/" target="_blank" rel="external">http://think.lenovo.com.cn/</a></li>
</ul>
<hr>
<h2 id="机型配置和操作系统">机型配置和操作系统</h2><blockquote>
<p>10小时续航一体化轻薄设计，8G内存和256G SSD固态硬盘会成为大家的标配</p>
</blockquote>
<p>ThinkPad X1 carbon （2015版）- <a href="http://detail.zol.com.cn/series/16/32108/param_18925_0_1.html" target="_blank" rel="external">http://detail.zol.com.cn/series/16/32108/param_18925_0_1.html</a></p>
<p>Win10 TH2 - <a href="http://zxkh19501.blog.163.com/" target="_blank" rel="external">http://zxkh19501.blog.163.com/</a></p>
<h2 id="BIOS设置">BIOS设置</h2><blockquote>
<p>Setup中的设置非常重要，主要目的是开启虚拟化支持和调整操作系统兼容性，请务必理解每一步的含义</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span>. 启动ThinkPad X1 Carbon超极本，然后按下`F1`，进入ThinkPad Setup（即BIOS）</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. 选择`Security`中的`Virtualization`，回车后修改以下<span class="number">2</span>个选项为`Enabled`</span><br><span class="line"></span><br><span class="line">Intel Virtualization Technology [Enabled]</span><br><span class="line">Intel VT<span class="operator">-d</span> Feature [Enabled]</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 选择`Security`中的`Secure Boot`，回车后修改以下<span class="number">1</span>个选项为`Disabled`</span><br><span class="line"></span><br><span class="line">Secure Boot [Disabled]</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. 选择`Startup`修改以下<span class="number">3</span>个选项分别为</span><br><span class="line"></span><br><span class="line">UEFI/Lagacy Boot [Both]</span><br><span class="line">- UEFI/Lagacy Boot Priority [Legacy First]</span><br><span class="line">- CSM Support [Yes]</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. 按F10保存并退出Setup配置，重启电脑准备安装系统</span><br></pre></td></tr></table></figure>
<h2 id="系统部署">系统部署</h2><blockquote>
<p>我比较懒也不追求完美，选择U盘启动PE方式安装，分区表使用传统MBR，只为看着干净些不必学我。UEFI+GPT模式也很简单，前提是你要理解为什么，善用搜索引擎来丰富你的知识面。</p>
</blockquote>
<p>U盘装机助理 - <a href="http://www.itiankong.net/forum-usbzl-1.html" target="_blank" rel="external">http://www.itiankong.net/forum-usbzl-1.html</a></p>
<p>安装过程非常简单，说下自己的步骤就不展开了，其它常用软件可参考我写的另一篇文章</p>
<ol>
<li>下载你喜欢的PE镜像写入U盘</li>
<li>笔记本插入U盘开机按F12从U盘启动PE</li>
<li>进入PE后运行<code>DiskGenius</code>快速分区</li>
<li>插入移动硬盘，虚拟光驱挂载Windows 10 镜像文件</li>
<li>运行类似<code>WinntSetup</code>等工具部署系统</li>
<li>重启后记得拔除U盘和移动硬盘，等待系统安装完成，预计12分钟完成</li>
</ol>
<p>Windows常用软件推荐 - <a href="http://wsgzao.github.io/post/windows/" target="_blank" rel="external">http://wsgzao.github.io/post/windows/</a></p>
<blockquote>
<p>最后注意三点</p>
</blockquote>
<ol>
<li>做任何事情都要记得提前做好重要数据备份</li>
<li>尽可能使用原版系统和官方驱动，必要时可升级BIOS固件</li>
<li>SSD固态硬盘分区选择4K对齐，UEFI+GPT自由选择吧</li>
</ol>
<h2 id="Windows_10高分辨率问题">Windows 10高分辨率问题</h2><blockquote>
<p>1920x1080以上高分辨率在Windows 10下的表现有些不尽如人意</p>
</blockquote>
<p>在Window 7/8.1的时候把DPI调整为125%是一个最佳值，但在Windows 10中却并不理想，这里我推荐大家使用一个小工具<code>Windows10_DPI_FIX</code> 来修复这个问题，最后还是希望微软官方可以解决高分辨率这个痛点。</p>
<p><a href="http://windows10_dpi_blurry_fix.xpexplorer.com/" target="_blank" rel="external">http://windows10_dpi_blurry_fix.xpexplorer.com/</a></p>
<blockquote>
<p>使用步骤很简单</p>
</blockquote>
<p><img src="http://windows10_dpi_blurry_fix.xpexplorer.com/screenshot.jpg" alt=""></p>
<ol>
<li>下载程序<a href="http://www.xpexplorer.com/installers/Windows10_DPI_FIX.exe" target="_blank" rel="external">http://www.xpexplorer.com/installers/Windows10_DPI_FIX.exe</a></li>
<li>按图勾选<code>Use Windows 8.1 DPI scaling</code>，选择DPI Scale为<code>125%</code>，重启就可以看到效果</li>
</ol>
<h2 id="体验评测">体验评测</h2><blockquote>
<p>ThinkPad X1 Carbon作为一款超级本也是以牺牲部分功能扩展为基础</p>
</blockquote>
<h3 id="优点">优点</h3><ol>
<li>轻薄，碳纤维+铝镁合金一体化机身，不可拆卸电池，总共1.5KG左右</li>
<li>理论10小时续航，正常工作6坚持小时没有问题</li>
</ol>
<h3 id="缺点">缺点</h3><ol>
<li>无法方便扩展内存容量，仅支持有限的固态硬盘和无线网卡升级</li>
<li>无光驱，仅有2个USB 3.0接口和一个RJ45网络转接口</li>
<li>高分屏可能需要一段适应过程</li>
</ol>
<h3 id="小结">小结</h3><p>如果从颜值考虑我更倾向于<code>Dell XPS 13</code>，有限的扩展升级促使我们在购买时尽量选择高配型号，触摸屏和高分屏是一个趋势但目前没有实际需求建议暂缓，针对超级本的小缺点也可以通过外置光驱，USB Hub，网络转接口等弥补。总体来说ThinkPad X1 Carbon依旧是一款做工扎实，但性价比稍逊一筹的本本。</p>
]]></content>
    <summary type="html">
    <![CDATA[ThinkPad X1 Carbon “碳”为观止]]>
    
    </summary>
    
      <category term="生活 | Life" scheme="http://wsgzao.github.io/categories/%E7%94%9F%E6%B4%BB-Life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用GitHub和Hexo搭建免费静态Blog]]></title>
    <link href="http://wsgzao.github.io/post/hexo-guide/"/>
    <id>http://wsgzao.github.io/post/hexo-guide/</id>
    <published>2015-11-18T12:40:07.000Z</published>
    <updated>2015-11-29T08:49:09.000Z</updated>
    <content type="html"><![CDATA[<p><img src="http://i.v2ex.co/5bb7J7NT.png" alt=""></p>
<h2 id="前言">前言</h2><p>习惯自己写Blog的朋友一定不会陌生Wordpress，或许也曾在新浪博客和QQ空间留过脚印，但静心认真思考一下，似乎我们又总是向往更加简单自由的写作方式。GitHub给我们提供了一个无限的空间，我们需要珍惜使用，而Hexo的出现从某种意义上来说代替了Jekyll，让我们可以更专注于写作本身。本文主要介绍自己的实践心得并不断完善内容，衍生知识和原理推荐大家认真阅读官网的手册，其它推荐参考内容链接在文中也会标注出来。</p>
<blockquote>
<p><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html" target="_blank" rel="external">阮一峰 - 喜欢写Blog的人，会经历三个阶段</a></p>
</blockquote>
<p>第一阶段，刚接触Blog，觉得很新鲜，试着选择一个免费空间来写。<br>第二阶段，发现免费空间限制太多，就自己购买域名和空间，搭建独立博客。<br>第三阶段，觉得独立博客的管理太麻烦，最好在保留控制权的前提下，让别人来管，自己只负责写文章。</p>
<hr>
<h2 id="更新历史">更新历史</h2><p>2015年11月18日 - 推荐iissnan的主题，完善细节内容<br>2015年09月03日 - 完善Windows 10安装Hexo中的细节<br>2015年03月22日 - 更新Windows下Hexo 3.0安装和升级，感谢<a href="http://akarin.xyz" target="_blank" rel="external">@机智的阿卡林酱</a><br>2015年03月10日 - 增加Hexo 3.0降级 2.8<br>2014年12月19日 - 完善内容<br>2014年12月09日 - 更新Hexo配置修改部分<br>2014年06月19日 - 更新全部基础架构，待完善配置修改部分<br>2014年06月17日 - 更新部分Hexo建站过程，待完善<br>2014年05月29日 - 撰写初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/hexo-guide/" target="_blank" rel="external">http://wsgzao.github.io/post/hexo-guide/</a></p>
<p>扩展阅读</p>
<ul>
<li>Hexo Docs - <a href="http://hexo.io/docs/" target="_blank" rel="external">http://hexo.io/docs/</a></li>
<li>HelloDog Index - <a href="http://wsgzao.github.io/index/#Hexo" target="_blank" rel="external">http://wsgzao.github.io/index/#Hexo</a></li>
</ul>
<hr>
<h2 id="准备工作">准备工作</h2><p><strong>注意</strong> 本文主要针对<code>Windows</code>平台和<code>Hexo 3.x</code></p>
<h3 id="了解Hexo">了解Hexo</h3><blockquote>
<p>A fast, simple &amp; powerful blog framework</p>
</blockquote>
<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。<br><a href="http://hexo.io/" target="_blank" rel="external">hexo.io</a></p>
<h3 id="安装GIT">安装GIT</h3><p><a href="https://windows.github.com/" target="_blank" rel="external">GitHub Windows</a></p>
<p>简单可依赖，安装完成后依据提示操作即可，So Easy</p>
<h3 id="安装Node-JS">安装Node.JS</h3><p><a href="http://nodejs.org/" target="_blank" rel="external">Node.JS</a></p>
<p><strong>注意</strong> 安装完成后添加Path环境变量，使<code>npm</code>命令生效。新版已经会自动配置Path</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;C:\Program Files\nodejs\node_modules\npm</span><br></pre></td></tr></table></figure>
<h3 id="安装Hexo">安装Hexo</h3><p>配置好<code>GitHub</code>家目录后，双击桌面上的<code>Git Shell</code>，输入<code>npm</code>命令即可安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo --save</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果命令无法运行，可以尝试更换taobao的npm源</span></span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Hexo初始化配置">Hexo初始化配置</h2><h3 id="创建Hexo文件夹">创建Hexo文件夹</h3><p>安装完成后，根据自己喜好建立目录（如<code>E:\kuaipan\GitHub\hexo</code>），进入<code>Git Shell</code>切换到该路径下<code>E:\kuaipan\GitHub\hexo</code>执行以下指令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。</span></span><br><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br><span class="line"></span><br><span class="line"><span class="comment">#新建完成后，指定文件夹的目录如下</span></span><br><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── scripts</span><br><span class="line">├── <span class="built_in">source</span></span><br><span class="line">|      ├── _drafts</span><br><span class="line">|      └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure></p>
<h3 id="安装Hexo插件">安装Hexo插件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-archive --save</span><br><span class="line">npm install hexo-generator-category --save</span><br><span class="line">npm install hexo-generator-tag --save</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-deployer-heroku --save</span><br><span class="line">npm install hexo-deployer-rsync --save</span><br><span class="line">npm install hexo-deployer-openshift --save</span><br><span class="line">npm install hexo-renderer-marked@<span class="number">0.2</span> --save</span><br><span class="line">npm install hexo-renderer-stylus@<span class="number">0.2</span> --save</span><br><span class="line">npm install hexo-generator-feed@<span class="number">1</span> --save</span><br><span class="line">npm install hexo-generator-sitemap@<span class="number">1</span> --save</span><br></pre></td></tr></table></figure>
<h3 id="本地查看效果">本地查看效果</h3><p>继续执行以下命令，成功后可登录<code>localhost:4000</code>查看效果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<h3 id="Hexo简写命令">Hexo简写命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="comment">#生成文章，或者source\_posts手动编辑</span></span><br><span class="line">hexo s <span class="comment">#本地发布预览效果</span></span><br><span class="line">hexo g <span class="comment">#生成public静态文件</span></span><br><span class="line">最后我选择手动同步更新至GitHub</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="部署静态网页到GitHub">部署静态网页到GitHub</h2><h3 id="注册设置GitHub">注册设置GitHub</h3><ol>
<li>登录<a href="https://github.com/" target="_blank" rel="external">GitHub</a>，注册自定义用户名如<code>wsgzao</code></li>
<li>在主页右下角创建<code>New repository</code>，name必须和用户名一致如<code>wsgzao.github.io</code></li>
<li>首次创建耐心等待10分钟左右审核，之后即可访问静态主页如<a href="http://wsgzao.github.io" target="_blank" rel="external">http://wsgzao.github.io</a></li>
</ol>
<h3 id="同步内容至GitHub">同步内容至GitHub</h3><ol>
<li>下载<a href="https://windows.github.com/" target="_blank" rel="external">GitHub Windows</a></li>
<li>设置<code>Local path</code>如<code>E:\快盘\GitHub\</code></li>
<li>运行<code>Git Shell</code>切换到如<code>E:\快盘\GitHub\hexo</code>路径下</li>
<li>执行<code>hexo g</code>命令生成<code>public</code>文件夹</li>
<li>把生成的内容全部拷贝到<code>Local path</code>或其子目录</li>
<li>运行<code>GitHub</code>确认修改信息后执行右上角的<code>Sync</code>同步</li>
<li>最后访问主页观察效果</li>
</ol>
<p><a href="https://pages.github.com/" target="_blank" rel="external">https://pages.github.com/</a></p>
<hr>
<h2 id="域名和DNS">域名和DNS</h2><h3 id="域名推荐">域名推荐</h3><blockquote>
<p>GoDaddy makes registering Domain Names fast, simple, and affordable.<br>【推荐理由】两个字“靠谱”，支持支付宝，附优惠码链接</p>
</blockquote>
<p><a href="http://www.godaddy.com/" target="_blank" rel="external">http://www.godaddy.com/</a><br><a href="http://www.gdcodecoupon.com/" target="_blank" rel="external">http://www.gdcodecoupon.com/</a></p>
<h3 id="DNS推荐">DNS推荐</h3><blockquote>
<p>致力于为您提供最稳定、最安全的域名解析服务<br>【推荐理由】依然是两个字“靠谱”，感谢他们一直以来对于公益的坚持</p>
</blockquote>
<p><a href="https://www.dnspod.cn/" target="_blank" rel="external">https://www.dnspod.cn/</a></p>
<h3 id="设置CNAME">设置CNAME</h3><ol>
<li>在Github的网站目录下创建<code>CNAME</code>文件</li>
<li>填写自己的域名如<code>hellodog.com</code>，保存结束</li>
<li>登录DNSPod，先添加域名，然后添加记录，设置如下</li>
</ol>
<table>
<thead>
<tr>
<th>主机记录</th>
<th>记录类型</th>
<th>线路类型</th>
<th>记录值</th>
<th>MX优先级</th>
<th>TTL</th>
</tr>
</thead>
<tbody>
<tr>
<td>@</td>
<td>CNAME</td>
<td>默认</td>
<td>wsgzao.github.io.</td>
<td>-</td>
<td>10</td>
</tr>
<tr>
<td>www</td>
<td>CNAME</td>
<td>默认</td>
<td>wsgzao.github.io.</td>
<td>-</td>
<td>10</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="Hexo配置修改">Hexo配置修改</h2><blockquote>
<p>告诉自己为什么要选择Hexo</p>
</blockquote>
<h3 id="知识储备">知识储备</h3><p>1.勤学勤练Markdown</p>
<blockquote>
<p>本地+云端备份数据是一种习惯</p>
</blockquote>
<ul>
<li>Markdown学习路径 - <a href="http://wsgzao.github.io/post/markdown/" target="_blank" rel="external">http://wsgzao.github.io/post/markdown/</a></li>
</ul>
<p>2.使用性感的文本编辑器</p>
<blockquote>
<p>工欲善其事必先利其器</p>
</blockquote>
<ul>
<li>Notepad2</li>
<li>Sublime Text</li>
</ul>
<p><a href="http://wsgzao.github.io/post/windows/#文本编辑器" target="_blank" rel="external">http://wsgzao.github.io/post/windows/#文本编辑器</a></p>
<h3 id="Hexo主题">Hexo主题</h3><blockquote>
<p>选择主题建议遵循<code>KISS</code>原则</p>
</blockquote>
<ul>
<li>Hexo Themes - <a href="http://hexo.io/themes/" target="_blank" rel="external">http://hexo.io/themes/</a></li>
<li>Jacman - <a href="http://wsgzao.github.io/post/hexo-jacman/" target="_blank" rel="external">http://wsgzao.github.io/post/hexo-jacman/</a></li>
<li>iissnan - <a href="http://notes.iissnan.com" target="_blank" rel="external">http://notes.iissnan.com</a></li>
</ul>
<h3 id="常见问题">常见问题</h3><p>1.修改配置文件时注意<code>YAML</code>语法，参数<code>冒号:</code>后一定要留<code>空格</code><br>2.中文乱码请修改文件编码格式为<code>UTF-8</code></p>
<h3 id="如何迁移至Hexo">如何迁移至Hexo</h3><p><a href="http://hexo.io/zh-cn/docs/migration.html" target="_blank" rel="external">http://hexo.io/zh-cn/docs/migration.html</a></p>
<h2 id="推荐阅读">推荐阅读</h2><ul>
<li><a href="http://cnfeat.com/2014/05/10/2014-05-11-how-to-build-a-blog/" target="_blank" rel="external">如何搭建一个独立博客——简明Github Pages与Hexo教程</a></li>
<li><a href="http://zipperary.com/categories/hexo/" target="_blank" rel="external">Zippera hexo系列教程</a></li>
<li><a href="http://user.qzone.qq.com/644273006/blog/1418698244" target="_blank" rel="external">前端工程精粹 | 张云龙</a></li>
<li><a href="http://akarin.xyz/build-your-hexo-blog/" target="_blank" rel="external">Hexo 3.0 静态博客使用指南</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[持续更新Hexo的摸索过程，记录生活的点滴]]>
    
    </summary>
    
      <category term="Hexo" scheme="http://wsgzao.github.io/categories/Hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[自己收集的好电影]]></title>
    <link href="http://wsgzao.github.io/post/movie/"/>
    <id>http://wsgzao.github.io/post/movie/</id>
    <published>2015-11-16T10:43:14.000Z</published>
    <updated>2016-01-22T02:10:18.977Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/b5WUOOQ9.jpeg" alt=""></p>
<h2 id="前言">前言</h2><p>尽管每个人的喜好不同但我依旧会用心去推荐部分有价值的好电影和电视剧，作为娱乐放松的一种方式电影不仅带来了感官上的享受，它也可以在不经意间改变你的思维模式。 Life is like a box of chocolates. You never know what you’re going to get. 人生就像一盒巧克力，你永远也不知道下一块是什么味道。最后引用小道消息<a href="http://mp.weixin.qq.com/s?__biz=MjM5ODIyMTE0MA==&amp;mid=400424219&amp;idx=1&amp;sn=15809950b0106df6aa9d2d2cf876aedc&amp;scene=23&amp;srcid=1104GPfFChqoiZW0pVonxWvH#wechat_redirect" target="_blank" rel="external">贾樟柯的《山河故人》</a>中的一句话来结尾。</p>
<blockquote>
<p>好电影不一定精致，不一定好笑，不一定华丽，甚至不一定要「好看」。</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年11月16日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/movie/" target="_blank" rel="external">http://wsgzao.github.io/post/movie/</a></p>
<p>扩展阅读</p>
<ul>
<li>豆瓣电影TOP250 - <a href="http://movie.douban.com/top250" target="_blank" rel="external">http://movie.douban.com/top250</a></li>
<li>IMDb Charts - <a href="http://www.imdb.com/chart/top" target="_blank" rel="external">http://www.imdb.com/chart/top</a></li>
</ul>
<hr>
<h2 id="美剧">美剧</h2><p>越狱.Prison.Break - <a href="http://movie.douban.com/subject/1419297/" target="_blank" rel="external">http://movie.douban.com/subject/1419297/</a></p>
<ul>
<li>这是我第一部完整看完的美剧，具有里程碑意义</li>
<li>如果时间不够充裕推荐看完第一季即可</li>
</ul>
<p>绝命毒师.Breaking.Bad - <a href="http://movie.douban.com/subject/2373195/" target="_blank" rel="external">http://movie.douban.com/subject/2373195/</a></p>
<ul>
<li>真实而残酷的过程令人欲罢不能</li>
<li>无快进</li>
</ul>
<p>纸牌屋.House.of.Cards - <a href="http://movie.douban.com/subject/6037429/" target="_blank" rel="external">http://movie.douban.com/subject/6037429/</a></p>
<ul>
<li>国内国外真的一样圆</li>
<li>喜欢搞政治斗争的朋友不应该错过</li>
</ul>
<h2 id="日剧">日剧</h2><p>半泽直树.半沢直樹 - <a href="http://movie.douban.com/subject/24697949/" target="_blank" rel="external">http://movie.douban.com/subject/24697949/</a></p>
<ul>
<li>做银行员最重要的是什么？是看清一个人的眼光</li>
<li>一共10集，很精彩</li>
</ul>
<h2 id="国产">国产</h2><p>亮剑 - <a href="http://movie.douban.com/subject/2254648/" target="_blank" rel="external">http://movie.douban.com/subject/2254648/</a></p>
<ul>
<li>第一部改变我对国产抗日题材的电视剧，李云龙的形象太深刻了</li>
</ul>
<p>士兵突击 - <a href="http://movie.douban.com/subject/2154096/" target="_blank" rel="external">http://movie.douban.com/subject/2154096/</a></p>
<ul>
<li>从这部电视剧里走出很多优秀的演员，他们都是好样的</li>
</ul>
<p>琅琊榜 - <a href="http://movie.douban.com/subject/25754848/" target="_blank" rel="external">http://movie.douban.com/subject/25754848/</a></p>
<ul>
<li>有一天也许再也看不到胡歌在古装片演出时我一定会想起这部电视剧的唯美和用心</li>
</ul>
<h2 id="硬盘留存">硬盘留存</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">file://H:\Video     (<span class="number">3</span> folders, <span class="number">0</span> files, <span class="number">0</span> bytes, <span class="number">264.70</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">├─动画.Animation     (<span class="number">4</span> folders, <span class="number">6</span> files, <span class="number">9.64</span> GB, <span class="number">41.22</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│  │  穿越时空的少女.The.Girl.Who.Leapt.Through.Time.<span class="number">2006.720</span>p.BluRay.x264.AC3-CnSCG.mkv     <span class="number">2.62</span> GB</span><br><span class="line">│  │  疯狂的麦克斯<span class="number">4</span>.狂暴之路.Mad.Max.Fury.Road.<span class="number">2015.720</span>p.BluRay.x264.AC3-CnSCG.mkv     <span class="number">402.77</span> MB</span><br><span class="line">│  │  龙猫.Tonari.No.Totoro.<span class="number">1988.720</span>p.HDTV.x264.AC3-CMCT.mkv     <span class="number">1.92</span> GB</span><br><span class="line">│  │  玛丽和马克思.Mary.and.Max.<span class="number">2009</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.10</span> GB</span><br><span class="line">│  │  千与千寻(国日粤).Spirited.Away.<span class="number">2001</span>.HDTV.<span class="number">720</span>p.AC3.x264-CnSCG.mkv     <span class="number">207.15</span> MB</span><br><span class="line">│  │  狮子王.The.Lion.King.<span class="number">1994</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.41</span> GB</span><br><span class="line">│  ├─功夫熊猫.Kung.Fu.Panda     (<span class="number">0</span> folders, <span class="number">2</span> files, <span class="number">4.17</span> GB, <span class="number">4.17</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│  │      功夫熊猫(国英双语).Kung.Fu.Panda.<span class="number">2008</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.05</span> GB</span><br><span class="line">│  │      功夫熊猫<span class="number">2</span>.Kung.Fu.Panda.<span class="number">2.2011</span>.BluRay.<span class="number">720</span>p.AC3.x264-CnSCG.mkv     <span class="number">2.12</span> GB</span><br><span class="line">│  ├─卑鄙的我.Despicable.Me     (<span class="number">0</span> folders, <span class="number">3</span> files, <span class="number">5.30</span> GB, <span class="number">5.30</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│  │      卑鄙的我 Despicable.Me.<span class="number">2010</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.56</span> GB</span><br><span class="line">│  │      卑鄙的我<span class="number">2</span> Despicable.Me.<span class="number">2.2013</span>.<span class="number">2013</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.73</span> GB</span><br><span class="line">│  │      飞鸟娱乐(bbs.hdbird.com).卑鄙的我两部合集.<span class="number">720</span>P.国英粤三语.qdl2     <span class="number">7.26</span> MB</span><br><span class="line">│  ├─怪物史莱克.Shrek     (<span class="number">0</span> folders, <span class="number">4</span> files, <span class="number">9.69</span> GB, <span class="number">9.69</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│  │      怪物史瑞克<span class="number">1</span>(国英双语).Shrek.<span class="number">1.2001</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.50</span> GB</span><br><span class="line">│  │      怪物史瑞克<span class="number">2</span>(国英双语).Shrek.<span class="number">2.2001</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.50</span> GB</span><br><span class="line">│  │      怪物史瑞克<span class="number">3</span>(国英双语).Shrek.<span class="number">3.2007</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.50</span> GB</span><br><span class="line">│  │      怪物史瑞克<span class="number">4</span>.Shrek Forever.<span class="number">2010</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.20</span> GB</span><br><span class="line">│  └─皮克斯.Pixar     (<span class="number">2</span> folders, <span class="number">3</span> files, <span class="number">6.46</span> GB, <span class="number">12.42</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│      │  机器人瓦力(国英粤三语).WALL·E <span class="number">2008</span>.BluRay.<span class="number">720</span>P.x264.AC3-CMCT.mkv     <span class="number">2.32</span> GB</span><br><span class="line">│      │  飞屋环游记.Up.<span class="number">2009.720</span>p.Bluray.x264.AC3-CMCT.mkv     <span class="number">2.05</span> GB</span><br><span class="line">│      │  海底总动员(国英粤三语).Finding.Nemo.<span class="number">2008</span>.HDTV.<span class="number">720</span>P.x264.AC3-CMCT.mkv     <span class="number">2.09</span> GB</span><br><span class="line">│      ├─短片.Short.film     (<span class="number">0</span> folders, <span class="number">5</span> files, <span class="number">473.38</span> MB, <span class="number">473.38</span> MB <span class="keyword">in</span> total.)</span><br><span class="line">│      │      暴力云与送子鹳.Partly.Cloudy.<span class="number">2009</span>.x264.BluRay.<span class="number">720</span>p.mkv     <span class="number">204.35</span> MB</span><br><span class="line">│      │      皮克斯短片<span class="number">02</span>.顽皮跳跳灯.Luxo.Jr.Pixar.Ep02.<span class="number">1986</span>.x264.AAC.miniHD-TLF.mkv     <span class="number">62.52</span> MB</span><br><span class="line">│      │      皮克斯短片<span class="number">06</span>.棋逢敌手.Geri_s.Game.Pixar.Ep06.<span class="number">1998</span>.x264.AAC.miniHD-TLF.mkv     <span class="number">62.91</span> MB</span><br><span class="line">│      │      皮克斯短片<span class="number">07</span>.鸟.鸟.鸟.For.the.Birds.Pixar.Ep07.<span class="number">2001</span>.x264.AAC.miniHD-TLF.mkv     <span class="number">71.60</span> MB</span><br><span class="line">│      │      皮克斯短片<span class="number">14</span>.魔术师和兔子.Presto.Pixar.Ep14.<span class="number">2008</span>.x264.AAC.miniHD-TLF.mkv     <span class="number">72.00</span> MB</span><br><span class="line">│      └─玩具总动员.Toy.Story     (<span class="number">0</span> folders, <span class="number">3</span> files, <span class="number">5.50</span> GB, <span class="number">5.50</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│              玩具总动员<span class="number">1</span>.Toy.Story.<span class="number">1995</span>.BluRay.<span class="number">720</span>p.x264.AC3-CMCT.mkv     <span class="number">1.60</span> GB</span><br><span class="line">│              玩具总动员<span class="number">2</span>.Toy.Story.<span class="number">2.1999</span>.BluRay.<span class="number">720</span>p.x264.AC3-CMCT.mkv     <span class="number">1.80</span> GB</span><br><span class="line">│              玩具总动员<span class="number">3</span>.Toy.Story.<span class="number">3.2010</span>.BlueRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.10</span> GB</span><br><span class="line">├─电视系列剧.Television.Series     (<span class="number">1</span> folders, <span class="number">0</span> files, <span class="number">0</span> bytes, <span class="number">28.94</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">│  └─老友记.Friends     (<span class="number">12</span> folders, <span class="number">1</span> files, <span class="number">248.81</span> KB, <span class="number">28.94</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">└─电影.Movie     (<span class="number">9</span> folders, <span class="number">52</span> files, <span class="number">106.18</span> GB, <span class="number">194.54</span> GB <span class="keyword">in</span> total.)</span><br><span class="line">    │  V字仇杀队.V.For.Vendetta.<span class="number">2005</span>.BluRay.<span class="number">720</span>p.x264.<span class="number">2</span>Audio.AC3-CnSCG.mkv     <span class="number">3.81</span> GB</span><br><span class="line">    │  阿甘正传(国英双语).Forrest.Gump.<span class="number">1994.720</span>p.BluRay.x264.AC3-CMCT.mkv     <span class="number">2.66</span> GB</span><br><span class="line">    │  爆裂鼓手.Whiplash.<span class="number">2014</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.81</span> GB</span><br><span class="line">    │  变脸.Face.Off.<span class="number">1997.720</span>p.BluRay.x264.AC3-CMCT.mkv     <span class="number">2.11</span> GB</span><br><span class="line">    │  搏击俱乐部.Fight.Club.<span class="number">1999</span>.BluRay.x264.AC3.<span class="number">720</span>p-CMCT.mkv     <span class="number">2.40</span> GB</span><br><span class="line">    │  超能陆战队.Big.Hero.<span class="number">6.2014</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.51</span> GB</span><br><span class="line">    │  超速绯闻.Speeding.Scandal.<span class="number">2008</span>.BluRay.<span class="number">720</span>p.AC3.x264-CnSCG.mkv     <span class="number">2.20</span> GB</span><br><span class="line">    │  沉默的羔羊.The.Silence.Of.The.Lambs.<span class="number">1991</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.19</span> GB</span><br><span class="line">    │  初恋这件小事.First.Love.<span class="number">2010</span>.DVDRip.x264.AC3-CMCT.mkv     <span class="number">1.60</span> GB</span><br><span class="line">    │  楚门的世界(国英双语).The.Truman.<span class="number">1998</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.80</span> GB</span><br><span class="line">    │  大鱼.Big.fish.<span class="number">2003</span>.BluRay.<span class="number">720</span>p.x264.AC3-CMCT.mkv     <span class="number">2.40</span> GB</span><br><span class="line">    │  盗梦空间.Inception.<span class="number">2010</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">3.30</span> GB</span><br><span class="line">    │  电锯惊魂.Saw.<span class="number">2004</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.19</span> GB</span><br><span class="line">    │  返老还童.The.Curious.Case.of.Benjamin.Button.<span class="number">2008</span>.Bluray.<span class="number">720</span>p.x264.AC3-CMCT.mkv     <span class="number">2.80</span> GB</span><br><span class="line">    │  放牛班的春天.Les.Choristes.<span class="number">2004</span>.BluRay.<span class="number">720</span>p.x264.DTS-CMCT.mkv     <span class="number">2.26</span> GB</span><br><span class="line">    │  飞越疯人院.<span class="number">1975</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">379.87</span> MB</span><br><span class="line">    │  钢铁侠.Iron.Man.<span class="number">2008</span>.BluRay.x264.AC3.<span class="number">720</span>p-CMCT.mkv     <span class="number">2.60</span> GB</span><br><span class="line">    │  海扁王.Kick-Ass.<span class="number">2010</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.18</span> GB</span><br><span class="line">    │  海上钢琴师(加长版).<span class="number">1998</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">355.65</span> MB</span><br><span class="line">    │  蝴蝶效应(导演剪辑版).The.Butterfly.Effect.<span class="number">2004.720</span>p.BluRay.x264.AC3-CMCT.mkv     <span class="number">2.21</span> GB</span><br><span class="line">    │  惊天魔盗团.Now.You.See.Me.<span class="number">2013</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">3.47</span> GB</span><br><span class="line">    │  罗马假日.Roman.Holiday.<span class="number">1953</span>.D9.MiniSD-TLF.mkv     <span class="number">757.21</span> MB</span><br><span class="line">    │  美丽人生.Life.Is.Beautiful.<span class="number">1997</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.19</span> GB</span><br><span class="line">    │  美丽心灵.A.Beautiful.Mind.<span class="number">2001</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">3.00</span> GB</span><br><span class="line">    │  那些年,我们一起追的女孩.You.Are.the.Apple.of.My.Eye.<span class="number">2011</span>.MiniBD.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">2.60</span> GB</span><br><span class="line">    │  贫民窟的百万富翁.Slumdog.Millionaire.<span class="number">2008</span>.Bluray.<span class="number">720</span>p.AC3.x264-CnSCG.mkv     <span class="number">3.20</span> GB</span><br><span class="line">    │  七号房的礼物.Miracle.in.Cell.No.<span class="number">7.2013</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.73</span> GB</span><br><span class="line">    │  七宗罪.Se7en.US.Remastered.Edition.<span class="number">1995</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">2.18</span> GB</span><br><span class="line">    │  三个傻瓜.<span class="number">3</span>.Idiots.<span class="number">2009</span>.MiniBD.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">382.57</span> MB</span><br><span class="line">    │  杀人回忆.Memories.of.Murder.<span class="number">2003</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">3.21</span> GB</span><br><span class="line">    │  少年派的奇幻漂流.Life.of.Pi.<span class="number">2012</span>.BluRay.<span class="number">720</span>p.x264.AC3-CnSCG.mkv     <span class="number">3.50</span> GB</span><br><span class="line">    │  死亡诗社.Dead.Poets.Society.<span class="number">1989</span>.BluRay.<span class="number">720</span>p.x264.AC3-CMCT.mkv     <span class="number">3.41</span> GB</span><br><span class="line">    │  泰坦尼克号.Titanic.<span class="number">1997</span>.BluRay.<span class="number">720</span>p.x264.AC3-WOFEI.mkv     <span class="number">1.24</span> GB</span><br><span class="line">    │  天使爱美丽.Le.Fabuleux.destin.d<span class="string">'Amélie.Poulain.2001.BluRay.x264.AC3.720p-CMCT.mkv     2.40 GB</span><br><span class="line">    │  天堂电影院.Cinema.Paradiso.1988.720p.BluRay.x264.AC3-CMCT.mkv     2.28 GB</span><br><span class="line">    │  铁甲钢拳.Real.Steel.2011.BluRay.720p.x264.AC3-WOFEI.mkv     2.73 GB</span><br><span class="line">    │  闻香识女人(国英双语).Scent.of.a.Woman.1992.BluRay.720p.x264.AC3-WOFEI.mkv     3.41 GB</span><br><span class="line">    │  我的野蛮女友.My.Sassy.Girl.2001.BluRay.720p.x264.AC3-WOFEI.mkv     2.18 GB</span><br><span class="line">    │  肖申克的救赎.The.Shawshank.Redemption.1994.MiniBD.720p.x264.AC3-CnSCG.mkv     385.66 MB</span><br><span class="line">    │  辛德勒的名单.Schindlers.List.1993.BluRay.720p.x264.AC3-WOFEI.mkv     383.16 MB</span><br><span class="line">    │  星际穿越(国英).Interstellar.2014.IMAX.BluRay.720p.x264.2Audio.AC3-CnSCG.mkv     1.70 GB</span><br><span class="line">    │  幸福终点站.The.Terminal.2004.720p.HDTV.x264.AC3-CMCT.mkv     2.41 GB</span><br><span class="line">    │  音乐之声(国英双语).Sound.of.Music.1965.BluRay.720p.x264.DTS-CnSCG.mkv     386.72 MB</span><br><span class="line">    │  勇闯夺命岛(国英双语).The.Rock.1996.BluRay.720p.x264.AC3-CMCT.mkv     2.45 GB</span><br><span class="line">    │  勇敢的心.Braveheart.1995.BluRay.720p.x264.AC3-CMCT.mkv     3.20 GB</span><br><span class="line">    │  战争之王.Lord.of.War.2005.BluRay.720p.x264.AC3-WOFEI.mkv     2.51 GB</span><br><span class="line">    │  这个杀手不太冷(加长版).Leon.1994.BluRay.720p.x264.AC3-CMCT.mkv     2.05 GB</span><br><span class="line">    │  真爱至上.Love.Actually.2003.BluRay.720p.AC3-CMCT.mkv     2.80 GB</span><br><span class="line">    │  真实的谎言.True.Lies.1994.HDTV.720p.x264.DTS-CMCT.mkv     2.80 GB</span><br><span class="line">    │  致命魔术.The.Prestige.2006.BluRay.720p.x264.AC3-CMCT.mkv     2.40 GB</span><br><span class="line">    │  忠犬八公的故事 Hachiko.A.Dogs.Story.2009.BluRay.720p.x264.AC3-WOFEI.mkv     2.05 GB</span><br><span class="line">    │  怦然心动.Flipped.2010.BluRay.720p.x264.AC3-CnSCG.mkv     2.10 GB</span><br><span class="line">    ├─大话西游.A.Chinese.Odyssey     (0 folders, 2 files, 4.36 GB, 4.36 GB in total.)</span><br><span class="line">    │      大话西游之仙履奇缘A.Chinese.Odyssey.Part.Two.Cinderella.1994.MiniBD.720p.x264.AC3-CnSCG.mkv     2.18 GB</span><br><span class="line">    │      大话西游之月光宝盒A.Chinese.Odyssey.Part.One.Pandoras.Box.1994.MiniBD.720p.x264.AC3-CnSCG.mkv     2.18 GB</span><br><span class="line">    ├─谍影重重.The.Bourne.Identity     (0 folders, 3 files, 7.37 GB, 7.37 GB in total.)</span><br><span class="line">    │      谍影重重1.The.Bourne.Identity.2002.BluRay.720p.x264.AC3-CMCT.mkv     2.53 GB</span><br><span class="line">    │      谍影重重2.The.Bourne.Supremacy.2004.BluRay.720p.x264.AC3-CMCT.mkv     2.49 GB</span><br><span class="line">    │      谍影重重3.The.Bourne.Ultimatum.2007.BluRay.720p.x264.AC3-CMCT.mkv     2.36 GB</span><br><span class="line">    ├─歌舞青春.High.School.Musical     (0 folders, 3 files, 7.39 GB, 7.39 GB in total.)</span><br><span class="line">    │      歌舞青春1(国英双语).High.School.Musical.2006.BluRay.720p.x264.AC3-WOFEI.mkv     2.32 GB</span><br><span class="line">    │      歌舞青春2(国英双语).High.School.Musical.2.2007.BluRay.720p.x264.AC3-WOFEI.mkv     2.34 GB</span><br><span class="line">    │      歌舞青春3(国英粤三语).High.School.Musical.3.2008.BluRay.720p.x264.AC3-WOFEI.mkv     2.74 GB</span><br><span class="line">    ├─哈利波特.Harry.Potter     (0 folders, 8 files, 4.61 GB, 8.61 GB in total.)</span><br><span class="line">    │      哈利波特与凤凰社.Harry.Potter.and.the.Order.of.the.Phoenix.2007.BluRay.720p.x264.AC3-WOFEI.mkv     20.84 MB</span><br><span class="line">    │      哈利波特与阿兹卡班囚徒.Harry.Potter.and.the.Prisoner.of.Azkaban.2004.BluRay.720p.x264.AC3-WOFEI.mkv     364.93 MB</span><br><span class="line">    │      哈利波特与混血王子.Harry.Potter.and.the.Half-Blood.Prince.2009.BluRay.720p.x264.AC3-WOFEI.mkv     385.95 MB</span><br><span class="line">    │      哈利波特与火焰杯.Harry.Potter.and.the.Goblet.of.Fire.2005.BluRay.720p.x264.AC3-WOFEI.mkv     3.97 GB</span><br><span class="line">    │      哈利波特与密室.Harry.Potter.and.the.Chamber.of.Secrets.2002.BluRay.720p.x264.AC3-WOFEI.mkv     841.38 MB</span><br><span class="line">    │      哈利波特与魔法石.Harry.Potter.and.the.Sorcerers.Stone.2001.BluRay.720p.x264.AC3-WOFEI.mkv     230.61 MB</span><br><span class="line">    │      哈利波特与死亡圣器(上).Harry.Potter.and.the.Deathly.Hallows.Part.1.2010.BluRay.720p.x264.AC3-WOFEI.mkv     108.90 MB</span><br><span class="line">    │      哈利波特与死亡圣器(下) Harry.Potter.And.The.Deathly.Hallows.Part.2.2011.BluRay.720p.x264.AC3-WOFEI.mkv     2.73 GB</span><br><span class="line">    ├─黑客帝国.The.Matrix     (0 folders, 3 files, 8.10 GB, 8.10 GB in total.)</span><br><span class="line">    │      黑客帝国1.The.Matrix.1999.720p.BluRay.x264.AC3-CMCT.mkv     2.73 GB</span><br><span class="line">    │      黑客帝国2：重装上阵.The.Matrix.Reloaded.2003.720p.BluRay.x264.AC3-CMCT.mkv     2.59 GB</span><br><span class="line">    │      黑客帝国3：矩阵革命.The.Matrix.Revolutions.2003.720p.BluRay.x264.AC3-CMCT.mkv     2.77 GB</span><br><span class="line">    ├─加勒比海盗.Pirates.of.the.Caribbean     (0 folders, 4 files, 9.09 GB, 13.09 GB in total.)</span><br><span class="line">    │      加勒比海盗(国英双语) Pirates.of.the.Caribbean.The.Curse.of.the.Black.Pearl.2003.BluRay.720p.x264.AC3-WOFEI.mkv     3.18 GB</span><br><span class="line">    │      加勒比海盗2(国英双语) Pirates.of.the.Caribbean.Dead.Mans.Chest.2006.BluRay.720p.x264.AC3-WOFEI.mkv     3.14 GB</span><br><span class="line">    │      加勒比海盗3(国英双语) Pirates.of.the.Caribbean.At.Worlds.End.2007.BluRay.720p.x264.AC3-WOFEI.mkv     3.42 GB</span><br><span class="line">    │      加勒比海盗4(国英双语) Pirates.Of.The.Caribbean.On.Stranger.Tides.2011.BluRay.720p.x264.AC3-WOFEI.mkv     3.34 GB</span><br><span class="line">    ├─魔戒.The.Lord.of.the.Rings     (0 folders, 3 files, 9.71 GB, 9.71 GB in total.)</span><br><span class="line">    │      魔戒1：魔戒现身 The.Fellowship.of.the.Ring.2001.EE.BluRay.720p.x264.AC3-WOFEI.mkv     3.24 GB</span><br><span class="line">    │      魔戒2：双塔奇兵 The.Two.Towers.2002.EE.BluRay.720p.x264.AC3-WOFEI.mkv     3.24 GB</span><br><span class="line">    │      魔戒3：王者无敌 The.Return.of.the.King.EE.2003.BluRay.720p.x264.AC3-WOFEI.mkv     3.24 GB</span><br><span class="line">    ├─无间道.Infernal.Affairs     (0 folders, 3 files, 8.16 GB, 8.16 GB in total.)</span><br><span class="line">    │      无间道1.Infernal.Affairs.01.2002.MiniBD.720p.x264.AC3-CnSCG.mkv     2.72 GB</span><br><span class="line">    │      无间道2.Infernal.Affairs.02.2002.MiniBD.720p.x264.AC3-CnSCG.mkv     2.72 GB</span><br><span class="line">    │      无间道3.Infernal.Affairs.03.2002.MiniBD.720p.x264.AC3-CnSCG.mkv     2.72 GB</span><br><span class="line">    └─蝙蝠侠前传.Batman     (0 folders, 3 files, 9.56 GB, 9.56 GB in total.)</span><br><span class="line">            蝙蝠侠前传1.蝙蝠侠诞生.Batman.Begins.2005.BluRay.720p.x264.AC3-WOFEI.mkv     3.42 GB</span><br><span class="line">            蝙蝠侠前传2.黑暗骑士.The.Dark.Knight.2008.BluRay.720p.x264.AC3-WOFEI.mkv     2.73 GB</span><br><span class="line">            蝙蝠侠前传3.黑暗骑士崛起.The.Dark.Knight.Rises.2012.BluRay.720p.x264.AC3-WOFEI.mkv     3.42 GB</span></span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[好电影不一定精致，不一定好笑，不一定华丽，甚至不一定要「好看」。]]>
    
    </summary>
    
      <category term="生活 | Life" scheme="http://wsgzao.github.io/categories/%E7%94%9F%E6%B4%BB-Life/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[中文文案排版指北]]></title>
    <link href="http://wsgzao.github.io/post/chinese-copywriting-guidelines/"/>
    <id>http://wsgzao.github.io/post/chinese-copywriting-guidelines/</id>
    <published>2015-10-24T07:31:24.000Z</published>
    <updated>2015-10-24T13:47:31.054Z</updated>
    <content type="html"><![CDATA[<p><img src="http://i.v2ex.co/ekrNgJeK.jpeg" alt=""></p>
<h2 id="前言">前言</h2><blockquote>
<p>统一中文文案、排版的相关用法，降低团队成员之间的沟通成本，增强网站气质。</p>
</blockquote>
<hr>
<h2 id="更新历史">更新历史</h2><p>2015年10月24日 - 更新官方翻译的简体中文<br>2015年07月11日 - 转载初稿，转化为简体中文</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/chinese-copywriting-guidelines/" target="_blank" rel="external">http://wsgzao.github.io/post/chinese-copywriting-guidelines/</a></p>
<p>扩展阅读</p>
<p>Chinese Copywriting Guidelines：中文文案排版指北 - <a href="https://github.com/sparanoid/chinese-copywriting-guidelines" target="_blank" rel="external">https://github.com/sparanoid/chinese-copywriting-guidelines</a><br>Chinese Copywriting Guidelines：中文文案排版指北（简体中文版） - <a href="https://github.com/mzlogin/chinese-copywriting-guidelines" target="_blank" rel="external">https://github.com/mzlogin/chinese-copywriting-guidelines</a></p>
<hr>
<h2 id="目次">目次</h2><ul>
<li><a href="#spacing">空格</a><ul>
<li><a href="#spacing-c1">中英文之间需要增加空格</a></li>
<li><a href="#spacing-c2">中文与数字之间需要增加空格</a></li>
<li><a href="#spacing-c3">数字与单位之间需要增加空格</a></li>
<li><a href="#spacing-c4">全角标点与其他字符之间不加空格</a></li>
<li><a href="#spacing-c5"><code>-ms-text-autospace</code> to the rescue?</a></li>
</ul>
</li>
<li><a href="#punctuation-marks">标点符号</a><ul>
<li><a href="#punctuation-marks-c1">不重复使用标点符号</a></li>
</ul>
</li>
<li><a href="#fullwidth-halfwidth">全角和半角</a><ul>
<li><a href="#fullwidth-halfwidth-c1">使用全角中文标点</a></li>
<li><a href="#fullwidth-halfwidth-c2">数字使用半角字符</a></li>
<li><a href="#fullwidth-halfwidth-c3">遇到完整的英文整句、特殊名词，其內容使用半角标点</a></li>
</ul>
</li>
<li><a href="#glossaries">名词</a><ul>
<li><a href="#glossaries-c1">专有名词使用正确的大小写</a></li>
<li><a href="#glossaries-c2">不要使用不地道的缩写</a></li>
</ul>
</li>
<li><a href="#dispute">争议</a><ul>
<li><a href="#dispute-c1">中文链接之间增加空格</a></li>
<li><a href="#dispute-c2">简体中文使用直角引号</a></li>
</ul>
</li>
<li><a href="#tools">工具</a></li>
<li><a href="#who-is-using">谁在这样做？</a></li>
<li><a href="#references">参考文献</a></li>
</ul>
<p><a name="spacing"></a></p>
<h2 id="空格">空格</h2><p>「有研究显示，打字的时候不喜欢在中文和英文之间加空格的人，感情路都走得很辛苦，有七成的比例会在 34 岁的时候跟自己不爱的人结婚，而其余三成的人最后只能把遗产留给自己的猫。毕竟爱情跟书写都需要适时地留白。</p>
<p>与大家共勉之。」——<a href="https://github.com/vinta/paranoid-auto-spacing" target="_blank" rel="external">vinta/paranoid-auto-spacing</a></p>
<p><a name="spacing-c1"></a></p>
<h3 id="中英文之间需要增加空格">中英文之间需要增加空格</h3><p>正确：</p>
<blockquote>
<p>在 LeanCloud 上，数据存储是围绕 <code>AVObject</code> 进行的。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>在LeanCloud上，数据存储是围绕<code>AVObject</code>进行的。</p>
<p>在 LeanCloud上，数据存储是围绕<code>AVObject</code> 进行的。</p>
</blockquote>
<p>完整的正确用法：</p>
<blockquote>
<p>在 LeanCloud 上，数据存储是围绕 <code>AVObject</code> 进行的。每个 <code>AVObject</code> 都包含了与 JSON 兼容的 key-value 对应的数据。数据是 schema-free 的，你不需要在每个 <code>AVObject</code> 上提前指定存在哪些键，只要直接设定对应的 key-value 即可。</p>
</blockquote>
<p>:exclamation: 例外：「豆瓣FM」等产品名词，按照官方所定义的格式书写。</p>
<p><a name="spacing-c2"></a></p>
<h3 id="中文与数字之间需要增加空格">中文与数字之间需要增加空格</h3><p>正确：</p>
<blockquote>
<p>今天出去买菜花了 5000 元。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>今天出去买菜花了 5000元。</p>
<p>今天出去买菜花了5000元。</p>
</blockquote>
<p><a name="spacing-c3"></a></p>
<h3 id="数字与单位之间需要增加空格">数字与单位之间需要增加空格</h3><p>正确：</p>
<blockquote>
<p>我家的光纤入户宽带有 10 Gbps，SSD 一共有 20 TB。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>我家的光纤入户宽带有 10Gbps，SSD 一共有 10TB。</p>
</blockquote>
<p>:exclamation: 例外：度／百分比与数字之间不需要增加空格：</p>
<p>正确：</p>
<blockquote>
<p>今天是 233° 的高温。</p>
<p>新 MacBook Pro 有 15% 的 CPU 性能提升。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>今天是 233 ° 的高温。</p>
<p>新 MacBook Pro 有 15 % 的 CPU 性能提升。</p>
</blockquote>
<p><a name="spacing-c4"></a></p>
<h3 id="全角标点与其他字符之间不加空格">全角标点与其他字符之间不加空格</h3><p>正确：</p>
<blockquote>
<p>刚刚买了一部 iPhone，好开心！</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>刚刚买了一部 iPhone ，好开心！</p>
</blockquote>
<p><a name="spacing-c5"></a></p>
<h3 id="-ms-text-autospace_to_the_rescue?"><code>-ms-text-autospace</code> to the rescue?</h3><p>Microsoft 有个 <a href="http://msdn.microsoft.com/en-us/library/ie/ms531164(v=vs.85" target="_blank" rel="external"><code>-ms-text-autospace</code></a>.aspx) 的 CSS 属性可以实现自动为中英文之间增加空白。不过目前并未普及，另外在其他应用场景，例如 OS X、iOS 的用户界面目前并不存在这个特性，所以请继续保持随手加空格的习惯。</p>
<p><a name="punctuation-marks"></a></p>
<h2 id="标点符号">标点符号</h2><p><a name="punctuation-marks-c1"></a></p>
<h3 id="不重复使用标点符号">不重复使用标点符号</h3><p>正确：</p>
<blockquote>
<p>德国队竟然战胜了巴西队！</p>
<p>她竟然对你说「喵」？！</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>德国队竟然战胜了巴西队！！</p>
<p>德国队竟然战胜了巴西队！！！！</p>
<p>德国队竟然战胜了巴西队！！！！！！！！</p>
<p>她竟然对你说「喵」？？！！</p>
<p>她竟然对你说「喵」？！？！？？！！</p>
</blockquote>
<p><a name="fullwidth-halfwidth"></a></p>
<h2 id="全角和半角">全角和半角</h2><p>:exclamation: 不明白什么是全角（全形）与半角（半形）符号？请查看维基百科词条『<a href="http://zh.wikipedia.org/wiki/%E5%85%A8%E5%BD%A2%E5%92%8C%E5%8D%8A%E5%BD%A2" target="_blank" rel="external">全角和半角</a>』。</p>
<p><a name="fullwidth-halfwidth-c1"></a></p>
<h3 id="使用全角中文标点">使用全角中文标点</h3><p>正确：</p>
<blockquote>
<p>嗨！你知道嘛？今天前台的小妹跟我说「喵」了哎！</p>
<p>核磁共振成像（NMRI）是什么原理都不知道？JFGI！</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>嗨! 你知道嘛? 今天前台的小妹跟我说 “喵” 了哎!</p>
<p>嗨!你知道嘛?今天前台的小妹跟我说”喵”了哎!</p>
<p>核磁共振成像 (NMRI) 是什么原理都不知道? JFGI!</p>
<p>核磁共振成像(NMRI)是什么原理都不知道?JFGI!</p>
</blockquote>
<p><a name="fullwidth-halfwidth-c2"></a></p>
<h3 id="数字使用半角字符">数字使用半角字符</h3><p>正确：</p>
<blockquote>
<p>这件蛋糕只卖 1000 元。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>这件蛋糕只卖 １０００ 元。</p>
</blockquote>
<p>:exclamation: 例外：在设计稿、宣传海报中如出现极少量数字的情形时，为方便文字对齐，是可以使用全角数字的。</p>
<p><a name="fullwidth-halfwidth-c3"></a></p>
<h3 id="遇到完整的英文整句、特殊名词，其內容使用半角标点">遇到完整的英文整句、特殊名词，其內容使用半角标点</h3><p>正确：</p>
<blockquote>
<p>乔帮主那句话是怎么说的？「Stay hungry, stay foolish.」。</p>
<p>推荐你阅读『Hackers &amp; Painters: Big Ideas from the Computer Age』，非常的有趣。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>乔帮主那句话是怎么说的？「Stay hungry，stay foolish。」。</p>
<p>推荐你阅读『Hackers＆Painters：Big Ideas from the Computer Age』，非常的有趣。</p>
</blockquote>
<p><a name="glossaries"></a></p>
<h2 id="名词">名词</h2><p><a name="glossaries-c1"></a></p>
<h3 id="专有名词使用正确的大小写">专有名词使用正确的大小写</h3><p>大小写相关用法原属于英文书写范畴，不属于本 wiki 讨论內容，在这里只对部分易错用法进行简述。</p>
<p>正确：</p>
<blockquote>
<p>使用 GitHub 登录</p>
<p>我们的客户有 GitHub、Foursquare、Microsoft Corporation、Google、Facebook, Inc.。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>使用 github 登录</p>
<p>使用 GITHUB 登录</p>
<p>使用 Github 登录</p>
<p>使用 gitHub 登录</p>
<p>使用 gｲんĤЦ8 登录</p>
<p>我们的客户有 github、foursquare、microsoft corporation、google、facebook, inc.。</p>
<p>我们的客户有 GITHUB、FOURSQUARE、MICROSOFT CORPORATION、GOOGLE、FACEBOOK, INC.。</p>
<p>我们的客户有 Github、FourSquare、MicroSoft Corporation、Google、FaceBook, Inc.。</p>
<p>我们的客户有 gitHub、fourSquare、microSoft Corporation、google、faceBook, Inc.。</p>
<p>我们的客户有 gｲんĤЦ8、ｷouЯƧquﾑгє、๓เςг๏ร๏Ŧt ς๏гק๏гคtเ๏ภn、900913、ƒ4ᄃëв๏๏к, IПᄃ.。</p>
</blockquote>
<p>注意：当网页中需要配合整体视觉风格而出现全部大写／小写的情形，HTML 中请使用标准的大小写规范进行书写；并通过 <code>text-transform: uppercase;</code>／<code>text-transform: lowercase;</code> 对表现形式进行定义。</p>
<p><a name="glossaries-c2"></a></p>
<h3 id="不要使用不地道的缩写">不要使用不地道的缩写</h3><p>正确：</p>
<blockquote>
<p>我们需要一位熟悉 JavaScript、HTML5，至少理解一种框架（如 Backbone.js、AngularJS、React 等）的前端开发者。</p>
</blockquote>
<p>错误：</p>
<blockquote>
<p>我们需要一位熟悉 Js、h5，至少理解一种框架（如 backbone、angular、RJS 等）的 FED。</p>
</blockquote>
<p><a name="dispute"></a></p>
<h2 id="争议">争议</h2><p>:exclamation: 以下用法略带有个人色彩，既：无论是否遵循下述规则，从语法的角度来讲都是<strong>正确</strong>的。</p>
<p><a name="dispute-c1"></a></p>
<h3 id="中文链接之间增加空格">中文链接之间增加空格</h3><p>用法：</p>
<blockquote>
<p>请 <a href="#">提交一个 issue</a> 并分配给相关同事。</p>
<p>访问我们网站的最新动态，请 <a href="#">点击这里</a> 进行订阅！</p>
</blockquote>
<p>对比用法：</p>
<blockquote>
<p>请<a href="#">提交一个 issue</a> 并分配给相关同事。</p>
<p>访问我们网站的最新动态，请<a href="#">点击这里</a>进行订阅！</p>
</blockquote>
<p><a name="dispute-c2"></a></p>
<h3 id="简体中文使用直角引号">简体中文使用直角引号</h3><p>用法：</p>
<blockquote>
<p>「老师，『有条不紊』的『紊』是什么意思？」</p>
</blockquote>
<p>对比用法：</p>
<blockquote>
<p>“老师，‘有条不紊’的‘紊’是什么意思？”</p>
</blockquote>
<p><a name="tools"></a></p>
<h2 id="工具">工具</h2><table>
<thead>
<tr>
<th>仓库</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/vinta/paranoid-auto-spacing" target="_blank" rel="external">vinta/paranoid-auto-spacing</a></td>
<td>JavaScript</td>
</tr>
<tr>
<td><a href="https://github.com/huei90/pangu.node" target="_blank" rel="external">huei90/pangu.node</a></td>
<td>Node.js</td>
</tr>
<tr>
<td><a href="https://github.com/huacnlee/auto-correct" target="_blank" rel="external">huacnlee/auto-correct</a></td>
<td>Ruby</td>
</tr>
<tr>
<td><a href="https://github.com/sparanoid/space-lover" target="_blank" rel="external">sparanoid/space-lover</a></td>
<td>PHP (WordPress)</td>
</tr>
<tr>
<td><a href="https://github.com/NauxLiu/auto-correct" target="_blank" rel="external">nauxliu/auto-correct</a></td>
<td>PHP</td>
</tr>
<tr>
<td><a href="https://github.com/hotoo/pangu.vim" target="_blank" rel="external">hotoo/pangu.vim</a></td>
<td>Vim</td>
</tr>
<tr>
<td><a href="https://github.com/sparanoid/grunt-auto-spacing" target="_blank" rel="external">sparanoid/grunt-auto-spacing</a></td>
<td>Node.js (Grunt)</td>
</tr>
</tbody>
</table>
<p><a name="who-is-using"></a></p>
<h2 id="谁在这样做？">谁在这样做？</h2><table>
<thead>
<tr>
<th>网站</th>
<th>文案</th>
<th>UGC</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.apple.com/cn/" target="_blank" rel="external">Apple 中国</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.apple.com/hk/" target="_blank" rel="external">Apple 香港</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.apple.com/tw/" target="_blank" rel="external">Apple 台湾</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.microsoft.com/zh-cn/" target="_blank" rel="external">Microsoft 中国</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.microsoft.com/zh-hk/" target="_blank" rel="external">Microsoft 香港</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.microsoft.com/zh-tw/" target="_blank" rel="external">Microsoft 台湾</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://leancloud.cn/" target="_blank" rel="external">LeanCloud</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.zhihu.com/" target="_blank" rel="external">知乎</a></td>
<td>Yes</td>
<td>部分用户达成</td>
</tr>
<tr>
<td><a href="http://www.v2ex.com/" target="_blank" rel="external">V2EX</a></td>
<td>Yes</td>
<td>标题达成</td>
</tr>
<tr>
<td><a href="http://segmentfault.com/" target="_blank" rel="external">SegmentFault</a></td>
<td>Yes</td>
<td>部分用户达成</td>
</tr>
<tr>
<td><a href="http://apple4us.com/" target="_blank" rel="external">Apple4us</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://www.wandoujia.com/" target="_blank" rel="external">豌豆荚</a></td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><a href="http://ruby-china.org/" target="_blank" rel="external">Ruby China</a></td>
<td>Yes</td>
<td>标题达成</td>
</tr>
<tr>
<td><a href="http://phphub.org/" target="_blank" rel="external">PHPHub</a></td>
<td>Yes</td>
<td>标题达成</td>
</tr>
</tbody>
</table>
<p><a name="references"></a></p>
<h2 id="参考文献">参考文献</h2><ul>
<li><a href="http://grammar.about.com/od/punctuationandmechanics/a/Guidelines-For-Using-Capital-Letters.htm" target="_blank" rel="external">来自 About.com 的大小写用法（英文）</a></li>
<li><a href="http://en.wikipedia.org/wiki/Letter_case" target="_blank" rel="external">来自维基百科的关于大小写字符的相关条目（英文）</a></li>
<li><a href="http://www.oxforddictionaries.com/us/words/punctuation" target="_blank" rel="external">来自 Oxford Dictionaries 的标点相关用法（英文）</a></li>
<li><a href="https://owl.english.purdue.edu/owl/section/1/6/" target="_blank" rel="external">来自普渡大学的标点符号用法（英文）</a></li>
<li><a href="http://www.wikihow.com/Use-English-Punctuation-Correctly" target="_blank" rel="external">来自 wikiHow 的英文标点符号用法 wiki（英文）</a></li>
<li><a href="https://zh.opensuse.org/index.php?title=Help:%E6%A0%BC%E5%BC%8F" target="_blank" rel="external">格式－openSUSE</a></li>
<li><a href="http://zh.wikipedia.org/wiki/%E5%85%A8%E5%BD%A2%E5%92%8C%E5%8D%8A%E5%BD%A2" target="_blank" rel="external">全角和半角 - 维基百科</a></li>
<li><a href="http://zh.wikipedia.org/wiki/%E5%BC%95%E8%99%9F" target="_blank" rel="external">引号 - 维基百科</a></li>
<li><a href="http://zh.wikipedia.org/wiki/%E7%96%91%E5%95%8F%E9%A9%9A%E5%98%86%E8%99%9F" target="_blank" rel="external">疑问惊叹号 - 维基百科</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[统一中文文案、排版的相关用法，降低团队成员之间的沟通成本，增强网站气质。]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[VMware ESXi自动化部署实践]]></title>
    <link href="http://wsgzao.github.io/post/esxi/"/>
    <id>http://wsgzao.github.io/post/esxi/</id>
    <published>2015-10-22T08:17:05.000Z</published>
    <updated>2015-10-22T06:27:16.720Z</updated>
    <content type="html"><![CDATA[<p><img src="//i.v2ex.co/27Vl3JxT.png" alt=""></p>
<h2 id="前言">前言</h2><p>VMware ESXi本身部署就很简单，任何人分分钟钟即可掌握，但是在短时间内需要部署几十台ESXi就显得力不从心了，本文主要介绍通过镜像定制kickstart自动化部署ESXi，PXE网络部署可参考扩展阅读部分。</p>
<blockquote>
<p>让ESXi的部署速度再快一点</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年10月22日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/esxi/" target="_blank" rel="external">http://wsgzao.github.io/post/esxi/</a></p>
<p>扩展阅读</p>
<p>VMware - <a href="http://www.vmware.com/support.html" target="_blank" rel="external">http://www.vmware.com/support.html</a><br>(周剑辉)VMware vSphere 5.1 学习系列之三：安装 ESXi - <a href="http://m.educity.cn/linux/1149107.html" target="_blank" rel="external">http://m.educity.cn/linux/1149107.html</a><br>Autoinst索引 - <a href="http://wsgzao.github.io/index/#Autoinst" target="_blank" rel="external">http://wsgzao.github.io/index/#Autoinst</a></p>
<hr>
<h2 id="下载ESXi镜像">下载ESXi镜像</h2><blockquote>
<p>经验证ESXi 5和6均可使用此方法</p>
</blockquote>
<p>ESXi版本：VMware-VMvisor-Installer-5.5.0.update02-2718055.x86_64-Dell_Customized-A05.iso</p>
<p>其它版本下载地址：<a href="https://my.vmware.com/web/vmware/downloads" target="_blank" rel="external">https://my.vmware.com/web/vmware/downloads</a></p>
<h2 id="配置自动化文件">配置自动化文件</h2><h3 id="ks-cfg">ks.cfg</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Sample scripted installation file</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Accept the VMware End User License Agreement</span></span><br><span class="line">vmaccepteula</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the root password for the DCUI and Tech Support Mode</span></span><br><span class="line">rootpw vmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install on the first local disk available on machine</span></span><br><span class="line">install --firstdisk --overwritevmfs</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the network to DHCP on the first network adapter</span></span><br><span class="line">network --bootproto=dhcp --device=vmnic0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reboot at the end</span></span><br><span class="line">reboot</span><br><span class="line"></span><br><span class="line"><span class="comment"># A sample post-install script</span></span><br><span class="line">%post --interpreter=python --ignorefailure=<span class="literal">true</span></span><br><span class="line">import time</span><br><span class="line">stampFile = open(<span class="string">'/finished.stamp'</span>, mode=<span class="string">'w'</span>)</span><br><span class="line">stampFile.write( time.asctime() )</span><br></pre></td></tr></table></figure>
<h3 id="ISOLINUX-CFG">ISOLINUX.CFG</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DEFAULT menu.c32</span><br><span class="line">MENU TITLE Dell-ESXi-<span class="number">5.5</span>U2-<span class="number">2718055</span>-A05 Boot Menu</span><br><span class="line">NOHALT <span class="number">1</span></span><br><span class="line">PROMPT <span class="number">0</span></span><br><span class="line">TIMEOUT <span class="number">80</span></span><br><span class="line">LABEL install</span><br><span class="line">  KERNEL mboot.c32</span><br><span class="line">  APPEND -c boot.cfg ks=cdrom:/KS.CFG</span><br><span class="line">  MENU LABEL Dell-ESXi-<span class="number">5.5</span>U2-<span class="number">2718055</span>-A05 ^Installer</span><br><span class="line">LABEL hddboot</span><br><span class="line">  LOCALBOOT <span class="number">0</span>x80</span><br><span class="line">  MENU LABEL ^Boot from <span class="built_in">local</span> disk</span><br></pre></td></tr></table></figure>
<h2 id="整合镜像文件">整合镜像文件</h2><p>整合工具我使用UltraISO，下载地址如下</p>
<p><a href="http://wsgzao.github.io/post/windows/#光盘刻录" target="_blank" rel="external">http://wsgzao.github.io/post/windows/#光盘刻录</a></p>
<blockquote>
<p>使用方法</p>
</blockquote>
<ol>
<li>Windows下使用UltraISO打开官方镜像</li>
<li>把ks.cfg和ISOLINUX.CFG添加并覆盖至根目录</li>
<li>点击保存即可</li>
</ol>
<p>Linux编译保存镜像请参考官方手册<br><a href="http://pubs.vmware.com/vsphere-55/topic/com.vmware.vsphere.install.doc/GUID-C03EADEA-A192-4AB4-9B71-9256A9CB1F9C.html" target="_blank" rel="external">http://pubs.vmware.com/vsphere-55/topic/com.vmware.vsphere.install.doc/GUID-C03EADEA-A192-4AB4-9B71-9256A9CB1F9C.html</a></p>
<blockquote>
<p>测试方案</p>
</blockquote>
<ol>
<li>建议先通过VMware Workstation模拟测试</li>
<li>在生产环境中验证可行性</li>
</ol>
<p>GitHub源码 - <a href="https://github.com/wsgzao/autoinstall/" target="_blank" rel="external">https://github.com/wsgzao/autoinstall/</a></p>
]]></content>
    <summary type="html">
    <![CDATA[让ESXi的部署速度再快一点]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用fio测试磁盘I/O性能]]></title>
    <link href="http://wsgzao.github.io/post/fio/"/>
    <id>http://wsgzao.github.io/post/fio/</id>
    <published>2015-10-20T08:17:05.000Z</published>
    <updated>2015-10-20T03:12:10.662Z</updated>
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>fio是测试IOPS的非常好的工具，用来对硬件进行压力测试和验证，支持13种不同的I/O引擎，包括:sync,mmap, libaio, posixaio, SG v3, splice, null, network, syslet, guasi, solarisaio 等等。</p>
<blockquote>
<p>简单好用的磁盘性能测试工具</p>
</blockquote>
<hr>
<h2 id="更新记录">更新记录</h2><p>2015年10月20日 - 初稿</p>
<p>阅读原文 - <a href="http://wsgzao.github.io/post/fio/" target="_blank" rel="external">http://wsgzao.github.io/post/fio/</a></p>
<p>扩展阅读</p>
<p>fio - <a href="http://freecode.com/projects/fio" target="_blank" rel="external">http://freecode.com/projects/fio</a><br>云主机磁盘I/O基准性能测试 - <a href="https://docs.ucloud.cn/testdata/io_uhost.html" target="_blank" rel="external">https://docs.ucloud.cn/testdata/io_uhost.html</a><br>fio man - <a href="http://linux.die.net/man/1/fio" target="_blank" rel="external">http://linux.die.net/man/1/fio</a></p>
<hr>
<h2 id="测试准备">测试准备</h2><p>工具：fio - Flexible IO Tester</p>
<p>官方网站：</p>
<p><a href="http://freecode.com/projects/fio" target="_blank" rel="external">http://freecode.com/projects/fio</a></p>
<p><a href="http://brick.kernel.dk/snaps/" target="_blank" rel="external">http://brick.kernel.dk/snaps/</a></p>
<p><strong>注意</strong>: 性能测试建议直接通过写裸盘的方式进行测试，会得到较为真实的数据。但直接测试裸盘会破坏文件系统结构，导致数据丢失，请在测试前确认磁盘中数据已备份。</p>
<p>CentOS可以直接使用yum安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#yum安装</span></span><br><span class="line">yum install libaio-devel fio</span><br><span class="line"><span class="comment">#手动安装</span></span><br><span class="line">yum install libaio-devel</span><br><span class="line">wget http://brick.kernel.dk/snaps/fio-<span class="number">2.2</span>.<span class="number">10</span>.tar.gz</span><br><span class="line">tar -zxvf fio-<span class="number">2.2</span>.<span class="number">10</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> fio-<span class="number">2.2</span>.<span class="number">10</span></span><br><span class="line">make $ make install</span><br></pre></td></tr></table></figure>
<h2 id="fio用法">fio用法</h2><blockquote>
<p>fio分顺序读，随机读，顺序写，随机写，混合随机读写模式。</p>
</blockquote>
<p>filename: 指定文件(设备)的名称。可以通过冒号分割同时指定多个文件，如filename=/dev/sda:/dev/sdb。</p>
<p>directory: 设置filename的路径前缀。在后面的基准测试中，采用这种方式来指定设备。</p>
<p>name: 指定job的名字，在命令行中表示新启动一个job。</p>
<p>direct: bool类型，如果设置成true (1)，表示不使用io buffer。</p>
<p>ioengine: I/O引擎，现在fio支持19种ioengine。默认值是sync同步阻塞I/O，libaio是Linux的native异步I/O。关于同步异步，阻塞和非阻塞模型可以参考文章“使用异步 I/O 大大提高应用程序的性能”。<br><a href="http://www.ibm.com/developerworks/cn/linux/l-async/" target="_blank" rel="external">http://www.ibm.com/developerworks/cn/linux/l-async/</a></p>
<p>iodepth: 如果ioengine采用异步方式，该参数表示一批提交保持的io单元数。该参数可参考文章“Fio压测工具和io队列深度理解和误区”。<br><a href="http://blog.yufeng.info/archives/2104" target="_blank" rel="external">http://blog.yufeng.info/archives/2104</a></p>
<p>rw: I/O模式，随机读写，顺序读写等等。</p>
<p>bs: I/O block大小，默认是4k。</p>
<p>size: 指定job处理的文件的大小。</p>
<p>numjobs: 指定job的克隆数(线程)。</p>
<p>time_based: 如果在runtime指定的时间还没到时文件就被读写完成，将继续重复知道runtime时间结束。</p>
<p>runtime: 指定在多少秒后停止进程。如果未指定该参数，fio将执行至指定的文件读写完全完成。</p>
<p>group_reporting: 当同时指定了numjobs了时，输出结果按组显示。</p>
<h3 id="fio参数说明">fio参数说明</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">filename=/dev/sdb1   <span class="comment">#测试文件名称，通常选择需要测试的盘的data目录</span></span><br><span class="line">direct=<span class="number">1</span>             <span class="comment">#测试过程绕过机器自带的buffer。使测试结果更真实</span></span><br><span class="line">rw=randwrite         <span class="comment">#测试随机写的I/O</span></span><br><span class="line">rw=randrw            <span class="comment">#测试随机写和读的I/O</span></span><br><span class="line">bs=<span class="number">16</span>k               <span class="comment">#单次io的块文件大小为16k</span></span><br><span class="line">bsrange=<span class="number">512</span>-<span class="number">2048</span>     <span class="comment">#同上，提定数据块的大小范围</span></span><br><span class="line">size=<span class="number">5</span>G              <span class="comment">#本次的测试文件大小为5g，以每次4k的io进行测试</span></span><br><span class="line">numjobs=<span class="number">30</span>           <span class="comment">#本次的测试线程为30个</span></span><br><span class="line">runtime=<span class="number">1000</span>         <span class="comment">#测试时间1000秒，如果不写则一直将5g文件分4k每次写完为止</span></span><br><span class="line">ioengine=psync       <span class="comment">#io引擎使用psync方式</span></span><br><span class="line">rwmixwrite=<span class="number">30</span>        <span class="comment">#在混合读写的模式下，写占30%</span></span><br><span class="line">group_reporting      <span class="comment">#关于显示结果的，汇总每个进程的信息</span></span><br><span class="line"></span><br><span class="line">lockmem=<span class="number">1</span>G           <span class="comment">#只使用1g内存进行测试</span></span><br><span class="line">zero_buffers         <span class="comment">#用0初始化系统buffer</span></span><br><span class="line">nrfiles=<span class="number">8</span>            <span class="comment">#每个进程生成文件的数量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#顺序读</span></span><br><span class="line">fio -filename=/dev/sda -direct=<span class="number">1</span> -iodepth <span class="number">1</span> -thread -rw=<span class="built_in">read</span> -ioengine=psync -bs=<span class="number">16</span>k -size=<span class="number">200</span>G -numjobs=<span class="number">30</span> -runtime=<span class="number">1000</span> -group_reporting -name=mytest</span><br><span class="line"></span><br><span class="line"><span class="comment">#顺序写</span></span><br><span class="line">fio -filename=/dev/sda -direct=<span class="number">1</span> -iodepth <span class="number">1</span> -thread -rw=write -ioengine=psync -bs=<span class="number">16</span>k -size=<span class="number">200</span>G -numjobs=<span class="number">30</span> -runtime=<span class="number">1000</span> -group_reporting -name=mytest</span><br><span class="line"></span><br><span class="line"><span class="comment">#随机读</span></span><br><span class="line">fio -filename=/dev/sda -direct=<span class="number">1</span> -iodepth <span class="number">1</span> -thread -rw=randread -ioengine=psync -bs=<span class="number">16</span>k -size=<span class="number">200</span>G -numjobs=<span class="number">30</span> -runtime=<span class="number">1000</span> -group_reporting -name=mytest</span><br><span class="line"></span><br><span class="line"><span class="comment">#随机写</span></span><br><span class="line">fio -filename=/dev/sda -direct=<span class="number">1</span> -iodepth <span class="number">1</span> -thread -rw=randwrite -ioengine=psync -bs=<span class="number">16</span>k -size=<span class="number">200</span>G -numjobs=<span class="number">30</span> -runtime=<span class="number">1000</span> -group_reporting -name=mytest</span><br><span class="line"></span><br><span class="line"><span class="comment">#混合随机读写</span></span><br><span class="line">fio -filename=/dev/sda -direct=<span class="number">1</span> -iodepth <span class="number">1</span> -thread -rw=randrw -rwmixread=<span class="number">70</span> -ioengine=psync -bs=<span class="number">16</span>k -size=<span class="number">200</span>G -numjobs=<span class="number">30</span> -runtime=<span class="number">100</span> -group_reporting -name=mytest -ioscheduler=noop</span><br><span class="line"></span><br><span class="line"><span class="comment">#复制下面的配置内容，将directory=/path/to/test修改为你测试硬盘挂载目录的地址，并另存为fio.conf</span></span><br><span class="line"></span><br><span class="line">[global]</span><br><span class="line">ioengine=libaio</span><br><span class="line">direct=<span class="number">1</span></span><br><span class="line">thread=<span class="number">1</span></span><br><span class="line">norandommap=<span class="number">1</span></span><br><span class="line">randrepeat=<span class="number">0</span></span><br><span class="line">runtime=<span class="number">60</span></span><br><span class="line">ramp_time=<span class="number">6</span></span><br><span class="line">size=<span class="number">1</span>g</span><br><span class="line">directory=/path/to/<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">[<span class="built_in">read</span>4k-rand]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=<span class="number">4</span>k</span><br><span class="line">rw=randread</span><br><span class="line">numjobs=<span class="number">8</span></span><br><span class="line">iodepth=<span class="number">32</span></span><br><span class="line"></span><br><span class="line">[<span class="built_in">read</span>64k-seq]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=<span class="number">64</span>k</span><br><span class="line">rw=<span class="built_in">read</span></span><br><span class="line">numjobs=<span class="number">4</span></span><br><span class="line">iodepth=<span class="number">8</span></span><br><span class="line"></span><br><span class="line">[write4k-rand]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=<span class="number">4</span>k</span><br><span class="line">rw=randwrite</span><br><span class="line">numjobs=<span class="number">2</span></span><br><span class="line">iodepth=<span class="number">4</span></span><br><span class="line"></span><br><span class="line">[write64k-seq]</span><br><span class="line">stonewall</span><br><span class="line">group_reporting</span><br><span class="line">bs=<span class="number">64</span>k</span><br><span class="line">rw=write</span><br><span class="line">numjobs=<span class="number">2</span></span><br><span class="line">iodepth=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#测试</span></span><br><span class="line">fio fio.conf</span><br></pre></td></tr></table></figure>
<h3 id="实际测试范例">实际测试范例</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#测试混合随机读写</span></span><br><span class="line">fio -filename=/dev/sda -direct=<span class="number">1</span> -iodepth <span class="number">1</span> -thread -rw=randrw -rwmixread=<span class="number">70</span> -ioengine=psync -bs=<span class="number">16</span>k -size=<span class="number">200</span>G -numjobs=<span class="number">30</span> -runtime=<span class="number">100</span> -group_reporting -name=mytest1</span><br><span class="line"></span><br><span class="line">mytest1: (g=<span class="number">0</span>): rw=randrw, bs=<span class="number">16</span>K-<span class="number">16</span>K/<span class="number">16</span>K-<span class="number">16</span>K/<span class="number">16</span>K-<span class="number">16</span>K, ioengine=psync, iodepth=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">mytest1: (g=<span class="number">0</span>): rw=randrw, bs=<span class="number">16</span>K-<span class="number">16</span>K/<span class="number">16</span>K-<span class="number">16</span>K/<span class="number">16</span>K-<span class="number">16</span>K, ioengine=psync, iodepth=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">fio-<span class="number">2.1</span>.<span class="number">2</span></span><br><span class="line"></span><br><span class="line">Starting <span class="number">30</span> threads</span><br><span class="line"></span><br><span class="line">Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">18.8</span>% <span class="keyword">done</span>] [<span class="number">10192</span>KB/<span class="number">3376</span>KB/<span class="number">0</span>KB /s] [<span class="number">637</span>/<span class="number">211</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">22</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">19.8</span>% <span class="keyword">done</span>] [<span class="number">9808</span>KB/<span class="number">3200</span>KB/<span class="number">0</span>KB /s] [<span class="number">613</span>/<span class="number">200</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">21</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">34.7</span>% <span class="keyword">done</span>] [<span class="number">10496</span>KB/<span class="number">3232</span>KB/<span class="number">0</span>KB /s] [<span class="number">656</span>/<span class="number">202</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">06</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">35.6</span>% <span class="keyword">done</span>] [<span class="number">9680</span>KB/<span class="number">3232</span>KB/<span class="number">0</span>KB /s] [<span class="number">605</span>/<span class="number">202</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">05</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">37.6</span>% <span class="keyword">done</span>] [<span class="number">10016</span>KB/<span class="number">2864</span>KB/<span class="number">0</span>KB /s] [<span class="number">626</span>/<span class="number">179</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">03</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">38.6</span>% <span class="keyword">done</span>] [<span class="number">10320</span>KB/<span class="number">3632</span>KB/<span class="number">0</span>KB /s] [<span class="number">645</span>/<span class="number">227</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">02</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">39.6</span>% <span class="keyword">done</span>] [<span class="number">9744</span>KB/<span class="number">3264</span>KB/<span class="number">0</span>KB /s] [<span class="number">609</span>/<span class="number">204</span>/<span class="number">0</span> iops] [eta <span class="number">01</span>m:<span class="number">01</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">63.4</span>% <span class="keyword">done</span>] [<span class="number">10224</span>KB/<span class="number">3792</span>KB/<span class="number">0</span>KB /s] [<span class="number">639</span>/<span class="number">237</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">37</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">64.4</span>% <span class="keyword">done</span>] [<span class="number">9184</span>KB/<span class="number">3808</span>KB/<span class="number">0</span>KB /s] [<span class="number">574</span>/<span class="number">238</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">36</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">68.3</span>% <span class="keyword">done</span>] [<span class="number">10128</span>KB/<span class="number">3200</span>KB/<span class="number">0</span>KB /s] [<span class="number">633</span>/<span class="number">200</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">32</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">69.3</span>% <span class="keyword">done</span>] [<span class="number">9872</span>KB/<span class="number">3184</span>KB/<span class="number">0</span>KB /s] [<span class="number">617</span>/<span class="number">199</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">31</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">71.3</span>% <span class="keyword">done</span>] [<span class="number">10528</span>KB/<span class="number">2624</span>KB/<span class="number">0</span>KB /s] [<span class="number">658</span>/<span class="number">164</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">29</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">72.3</span>% <span class="keyword">done</span>] [<span class="number">9696</span>KB/<span class="number">2752</span>KB/<span class="number">0</span>KB /s] [<span class="number">606</span>/<span class="number">172</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">28</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">73.3</span>% <span class="keyword">done</span>] [<span class="number">10624</span>KB/<span class="number">2912</span>KB/<span class="number">0</span>KB /s] [<span class="number">664</span>/<span class="number">182</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">27</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">74.3</span>% <span class="keyword">done</span>] [<span class="number">9312</span>KB/<span class="number">2832</span>KB/<span class="number">0</span>KB /s] [<span class="number">582</span>/<span class="number">177</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">26</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">95.0</span>% <span class="keyword">done</span>] [<span class="number">10128</span>KB/<span class="number">3792</span>KB/<span class="number">0</span>KB /s] [<span class="number">633</span>/<span class="number">237</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">05</span>sJobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">96.0</span>% <span class="keyword">done</span>] [<span class="number">8320</span>KB/<span class="number">3904</span>KB/<span class="number">0</span>KB /s] [<span class="number">520</span>/<span class="number">244</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">04</span>s]Jobs: <span class="number">30</span> (f=<span class="number">30</span>):</span><br><span class="line"></span><br><span class="line">[mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm] [<span class="number">100.0</span>% <span class="keyword">done</span>] [<span class="number">9264</span>KB/<span class="number">3536</span>KB/<span class="number">0</span>KB /s] [<span class="number">579</span>/<span class="number">221</span>/<span class="number">0</span> iops] [eta <span class="number">00</span>m:<span class="number">00</span>s]</span><br><span class="line"></span><br><span class="line">mytest1: (groupid=<span class="number">0</span>, <span class="built_in">jobs</span>=<span class="number">30</span>): err= <span class="number">0</span>: pid=<span class="number">17792</span>: Tue Nov <span class="number">12</span> <span class="number">10</span>:<span class="number">55</span>:<span class="number">58</span> <span class="number">2013</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">read</span> : io=<span class="number">948896</span>KB, bw=<span class="number">9475.1</span>KB/s, iops=<span class="number">592</span>, runt=<span class="number">100138</span>msec</span><br><span class="line"></span><br><span class="line">    clat (usec): min=<span class="number">67</span>, max=<span class="number">796794</span>, avg=<span class="number">49878.72</span>, stdev=<span class="number">59636.00</span></span><br><span class="line"></span><br><span class="line">     lat (usec): min=<span class="number">68</span>, max=<span class="number">796794</span>, avg=<span class="number">49879.01</span>, stdev=<span class="number">59636.00</span></span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     | <span class="number">1.00</span>th=[ <span class="number">4</span>], <span class="number">5.00</span>th=[ <span class="number">7</span>], <span class="number">10.00</span>th=[ <span class="number">9</span>], <span class="number">20.00</span>th=[ <span class="number">12</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">30.00</span>th=[ <span class="number">16</span>], <span class="number">40.00</span>th=[ <span class="number">22</span>], <span class="number">50.00</span>th=[ <span class="number">29</span>], <span class="number">60.00</span>th=[ <span class="number">39</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">70.00</span>th=[ <span class="number">53</span>], <span class="number">80.00</span>th=[ <span class="number">76</span>], <span class="number">90.00</span>th=[ <span class="number">120</span>], <span class="number">95.00</span>th=[ <span class="number">165</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">99.00</span>th=[ <span class="number">293</span>], <span class="number">99.50</span>th=[ <span class="number">351</span>], <span class="number">99.90</span>th=[ <span class="number">494</span>], <span class="number">99.95</span>th=[ <span class="number">553</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">99.99</span>th=[ <span class="number">701</span>]</span><br><span class="line"></span><br><span class="line">    bw (KB /s): min= <span class="number">20</span>, max= <span class="number">967</span>, per=<span class="number">3.38</span>%, avg=<span class="number">320.53</span>, stdev=<span class="number">116.83</span></span><br><span class="line"></span><br><span class="line">  write: io=<span class="number">380816</span>KB, bw=<span class="number">3802.1</span>KB/s, iops=<span class="number">237</span>, runt=<span class="number">100138</span>msec</span><br><span class="line"></span><br><span class="line">    clat (usec): min=<span class="number">64</span>, max=<span class="number">120607</span>, avg=<span class="number">1801.07</span>, stdev=<span class="number">5409.97</span></span><br><span class="line"></span><br><span class="line">     lat (usec): min=<span class="number">65</span>, max=<span class="number">120610</span>, avg=<span class="number">1803.86</span>, stdev=<span class="number">5409.96</span></span><br><span class="line"></span><br><span class="line">    clat percentiles (usec):</span><br><span class="line"></span><br><span class="line">     | <span class="number">1.00</span>th=[ <span class="number">69</span>], <span class="number">5.00</span>th=[ <span class="number">73</span>], <span class="number">10.00</span>th=[ <span class="number">77</span>], <span class="number">20.00</span>th=[ <span class="number">81</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">30.00</span>th=[ <span class="number">84</span>], <span class="number">40.00</span>th=[ <span class="number">87</span>], <span class="number">50.00</span>th=[ <span class="number">90</span>], <span class="number">60.00</span>th=[ <span class="number">113</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">70.00</span>th=[ <span class="number">724</span>], <span class="number">80.00</span>th=[ <span class="number">3248</span>], <span class="number">90.00</span>th=[ <span class="number">4384</span>], <span class="number">95.00</span>th=[ <span class="number">5344</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">99.00</span>th=[<span class="number">33536</span>], <span class="number">99.50</span>th=[<span class="number">41728</span>], <span class="number">99.90</span>th=[<span class="number">59136</span>], <span class="number">99.95</span>th=[<span class="number">68096</span>],</span><br><span class="line"></span><br><span class="line">     | <span class="number">99.99</span>th=[<span class="number">112128</span>]</span><br><span class="line"></span><br><span class="line">    bw (KB /s): min= <span class="number">17</span>, max= <span class="number">563</span>, per=<span class="number">3.52</span>%, avg=<span class="number">133.68</span>, stdev=<span class="number">75.04</span></span><br><span class="line"></span><br><span class="line">    lat (usec) : <span class="number">100</span>=<span class="number">16.41</span>%, <span class="number">250</span>=<span class="number">3.47</span>%, <span class="number">500</span>=<span class="number">0.10</span>%, <span class="number">750</span>=<span class="number">0.12</span>%, <span class="number">1000</span>=<span class="number">0.23</span>%</span><br><span class="line"></span><br><span class="line">    lat (msec) : <span class="number">2</span>=<span class="number">0.86</span>%, <span class="number">4</span>=<span class="number">4.57</span>%, <span class="number">10</span>=<span class="number">13.39</span>%, <span class="number">20</span>=<span class="number">16.08</span>%, <span class="number">50</span>=<span class="number">22.27</span>%</span><br><span class="line"></span><br><span class="line">    lat (msec) : <span class="number">100</span>=<span class="number">12.87</span>%, <span class="number">250</span>=<span class="number">8.49</span>%, <span class="number">500</span>=<span class="number">1.08</span>%, <span class="number">750</span>=<span class="number">0.06</span>%, <span class="number">1000</span>=<span class="number">0.01</span>%</span><br><span class="line"></span><br><span class="line">  cpu : usr=<span class="number">0.02</span>%, sys=<span class="number">0.07</span>%, ctx=<span class="number">83130</span>, majf=<span class="number">0</span>, minf=<span class="number">7</span></span><br><span class="line"></span><br><span class="line">  IO depths : <span class="number">1</span>=<span class="number">100.0</span>%, <span class="number">2</span>=<span class="number">0.0</span>%, <span class="number">4</span>=<span class="number">0.0</span>%, <span class="number">8</span>=<span class="number">0.0</span>%, <span class="number">16</span>=<span class="number">0.0</span>%, <span class="number">32</span>=<span class="number">0.0</span>%, &gt;=<span class="number">64</span>=<span class="number">0.0</span>%</span><br><span class="line"></span><br><span class="line">     submit : <span class="number">0</span>=<span class="number">0.0</span>%, <span class="number">4</span>=<span class="number">100.0</span>%, <span class="number">8</span>=<span class="number">0.0</span>%, <span class="number">16</span>=<span class="number">0.0</span>%, <span class="number">32</span>=<span class="number">0.0</span>%, <span class="number">64</span>=<span class="number">0.0</span>%, &gt;=<span class="number">64</span>=<span class="number">0.0</span>%</span><br><span class="line"></span><br><span class="line">     complete : <span class="number">0</span>=<span class="number">0.0</span>%, <span class="number">4</span>=<span class="number">100.0</span>%, <span class="number">8</span>=<span class="number">0.0</span>%, <span class="number">16</span>=<span class="number">0.0</span>%, <span class="number">32</span>=<span class="number">0.0</span>%, <span class="number">64</span>=<span class="number">0.0</span>%, &gt;=<span class="number">64</span>=<span class="number">0.0</span>%</span><br><span class="line"></span><br><span class="line">     issued : total=r=<span class="number">59306</span>/w=<span class="number">23801</span>/d=<span class="number">0</span>, short=r=<span class="number">0</span>/w=<span class="number">0</span>/d=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group <span class="number">0</span> (all <span class="built_in">jobs</span>):</span><br><span class="line"></span><br><span class="line">   READ: io=<span class="number">948896</span>KB, aggrb=<span class="number">9475</span>KB/s, minb=<span class="number">9475</span>KB/s, maxb=<span class="number">9475</span>KB/s, mint=<span class="number">100138</span>msec, maxt=<span class="number">100138</span>msec</span><br><span class="line"></span><br><span class="line">  WRITE: io=<span class="number">380816</span>KB, aggrb=<span class="number">3802</span>KB/s, minb=<span class="number">3802</span>KB/s, maxb=<span class="number">3802</span>KB/s, mint=<span class="number">100138</span>msec, maxt=<span class="number">100138</span>msec</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk stats (<span class="built_in">read</span>/write):</span><br><span class="line"></span><br><span class="line">  sda: ios=<span class="number">59211</span>/<span class="number">24192</span>, merge=<span class="number">0</span>/<span class="number">289</span>, ticks=<span class="number">2951434</span>/<span class="number">63353</span>, <span class="keyword">in</span>_queue=<span class="number">3092383</span>, util=<span class="number">99.97</span>%</span><br></pre></td></tr></table></figure>
<blockquote>
<p>测试结果如上，主要关注bw和iops结果</p>
</blockquote>
<p>bw：磁盘的吞吐量，这个是顺序读写考察的重点<br>iops：磁盘的每秒读写次数，这个是随机读写考察的重点</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">read</span> : io=<span class="number">948896</span>KB, bw=<span class="number">9475.1</span>KB/s, iops=<span class="number">592</span>, runt=<span class="number">100138</span>msec</span><br><span class="line">write: io=<span class="number">380816</span>KB, bw=<span class="number">3802.1</span>KB/s, iops=<span class="number">237</span>, runt=<span class="number">100138</span>msec</span><br></pre></td></tr></table></figure>
<h2 id="硬盘性能指标">硬盘性能指标</h2><p><strong>顺序读写</strong> （吞吐量，常用单位为MB/s）：文件在硬盘上存储位置是连续的。</p>
<p>适用场景：大文件拷贝（比如视频音乐）。速度即使很高，对数据库性能也没有参考价值。</p>
<p><strong>4K随机读写</strong> （IOPS，常用单位为次）：在硬盘上随机位置读写数据，每次4KB。</p>
<p>适用场景：操作系统运行、软件运行、数据库。</p>
<p>以下是使用通用I/O测试工具“fio”，并在指定数据块大小“4K、512K”、队列深度为“128”的条件下，对“SAS”以及“SSD”这两种机型磁盘进行的I/O基准性能测试所得出的测试数据。</p>
<h3 id="测试数据">测试数据</h3><p>测试1. 顺序读/写512K</p>
<p><img src="https://docs.ucloud.cn/_images/seq512k.jpg" alt=""></p>
<p>测试2. 随机读/写 4K</p>
<p><img src="https://docs.ucloud.cn/_images/rand4k.jpg" alt=""></p>
<h3 id="配置文件">配置文件</h3><blockquote>
<p>块大小：4kb / 512kb<br>队列深度：128</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#fio.conf配置</span></span><br><span class="line"></span><br><span class="line">[global]</span><br><span class="line">ioengine=libaio</span><br><span class="line">iodepth=<span class="number">128</span></span><br><span class="line">time_based</span><br><span class="line">direct=<span class="number">1</span></span><br><span class="line">thread=<span class="number">1</span></span><br><span class="line">group_reporting</span><br><span class="line">randrepeat=<span class="number">0</span></span><br><span class="line">norandommap</span><br><span class="line">numjobs=<span class="number">32</span></span><br><span class="line">timeout=<span class="number">6000</span></span><br><span class="line">runtime=<span class="number">120</span></span><br><span class="line"></span><br><span class="line">[randread-<span class="number">4</span>k]</span><br><span class="line">rw=randread</span><br><span class="line">bs=<span class="number">4</span>k</span><br><span class="line">filename=/dev/sdb   <span class="comment">#注：/dev/sdb是目标测试磁盘的设备名称</span></span><br><span class="line">rwmixread=<span class="number">100</span></span><br><span class="line">stonewall</span><br><span class="line"></span><br><span class="line">[randwrite-<span class="number">4</span>k]</span><br><span class="line">rw=randwrite</span><br><span class="line">bs=<span class="number">4</span>k</span><br><span class="line">filename=/dev/sdb</span><br><span class="line">stonewall</span><br><span class="line"></span><br><span class="line">[<span class="built_in">read</span>-<span class="number">512</span>k]</span><br><span class="line">rw=<span class="built_in">read</span></span><br><span class="line">bs=<span class="number">512</span>k</span><br><span class="line">filename=/dev/sdb</span><br><span class="line">stonewall</span><br><span class="line"></span><br><span class="line">[write-<span class="number">512</span>k]</span><br><span class="line">rw=write</span><br><span class="line">bs=<span class="number">512</span>k</span><br><span class="line">filename=/dev/sdb</span><br><span class="line">stonewall</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用方法</span></span><br><span class="line">shell$&gt; fio fio.conf</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[简单好用的磁盘性能测试工具]]>
    
    </summary>
    
      <category term="学习 | Study" scheme="http://wsgzao.github.io/categories/%E5%AD%A6%E4%B9%A0-Study/"/>
    
  </entry>
  
</feed>